(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const l of r)if(l.type==="childList")for(const n of l.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&o(n)}).observe(document,{childList:!0,subtree:!0});function s(r){const l={};return r.integrity&&(l.integrity=r.integrity),r.referrerPolicy&&(l.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?l.credentials="include":r.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function o(r){if(r.ep)return;r.ep=!0;const l=s(r);fetch(r.href,l)}})();/**
* @vue/shared v3.5.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function an(e){const t=Object.create(null);for(const s of e.split(","))t[s]=1;return s=>s in t}const Te={},_s=[],wt=()=>{},nl=()=>!1,Br=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),un=e=>e.startsWith("onUpdate:"),Je=Object.assign,dn=(e,t)=>{const s=e.indexOf(t);s>-1&&e.splice(s,1)},Wu=Object.prototype.hasOwnProperty,ke=(e,t)=>Wu.call(e,t),ne=Array.isArray,ws=e=>lr(e)==="[object Map]",qs=e=>lr(e)==="[object Set]",zn=e=>lr(e)==="[object Date]",de=e=>typeof e=="function",ze=e=>typeof e=="string",Rt=e=>typeof e=="symbol",Le=e=>e!==null&&typeof e=="object",il=e=>(Le(e)||de(e))&&de(e.then)&&de(e.catch),ll=Object.prototype.toString,lr=e=>ll.call(e),Ju=e=>lr(e).slice(8,-1),al=e=>lr(e)==="[object Object]",cn=e=>ze(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Bs=an(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Hr=e=>{const t=Object.create(null);return s=>t[s]||(t[s]=e(s))},Xu=/-\w/g,bt=Hr(e=>e.replace(Xu,t=>t.slice(1).toUpperCase())),Yu=/\B([A-Z])/g,gs=Hr(e=>e.replace(Yu,"-$1").toLowerCase()),zr=Hr(e=>e.charAt(0).toUpperCase()+e.slice(1)),Co=Hr(e=>e?`on${zr(e)}`:""),Zt=(e,t)=>!Object.is(e,t),Sr=(e,...t)=>{for(let s=0;s<e.length;s++)e[s](...t)},ul=(e,t,s,o=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:o,value:s})},Pr=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let Gn;const Gr=()=>Gn||(Gn=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function es(e){if(ne(e)){const t={};for(let s=0;s<e.length;s++){const o=e[s],r=ze(o)?td(o):es(o);if(r)for(const l in r)t[l]=r[l]}return t}else if(ze(e)||Le(e))return e}const Qu=/;(?![^(]*\))/g,Zu=/:([^]+)/,ed=/\/\*[^]*?\*\//g;function td(e){const t={};return e.replace(ed,"").split(Qu).forEach(s=>{if(s){const o=s.split(Zu);o.length>1&&(t[o[0].trim()]=o[1].trim())}}),t}function ut(e){let t="";if(ze(e))t=e;else if(ne(e))for(let s=0;s<e.length;s++){const o=ut(e[s]);o&&(t+=o+" ")}else if(Le(e))for(const s in e)e[s]&&(t+=s+" ");return t.trim()}const sd="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",rd=an(sd);function dl(e){return!!e||e===""}function od(e,t){if(e.length!==t.length)return!1;let s=!0;for(let o=0;s&&o<e.length;o++)s=ar(e[o],t[o]);return s}function ar(e,t){if(e===t)return!0;let s=zn(e),o=zn(t);if(s||o)return s&&o?e.getTime()===t.getTime():!1;if(s=Rt(e),o=Rt(t),s||o)return e===t;if(s=ne(e),o=ne(t),s||o)return s&&o?od(e,t):!1;if(s=Le(e),o=Le(t),s||o){if(!s||!o)return!1;const r=Object.keys(e).length,l=Object.keys(t).length;if(r!==l)return!1;for(const n in e){const a=e.hasOwnProperty(n),d=t.hasOwnProperty(n);if(a&&!d||!a&&d||!ar(e[n],t[n]))return!1}}return String(e)===String(t)}function fn(e,t){return e.findIndex(s=>ar(s,t))}const cl=e=>!!(e&&e.__v_isRef===!0),v=e=>ze(e)?e:e==null?"":ne(e)||Le(e)&&(e.toString===ll||!de(e.toString))?cl(e)?v(e.value):JSON.stringify(e,fl,2):String(e),fl=(e,t)=>cl(t)?fl(e,t.value):ws(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((s,[o,r],l)=>(s[xo(o,l)+" =>"]=r,s),{})}:qs(t)?{[`Set(${t.size})`]:[...t.values()].map(s=>xo(s))}:Rt(t)?xo(t):Le(t)&&!ne(t)&&!al(t)?String(t):t,xo=(e,t="")=>{var s;return Rt(e)?`Symbol(${(s=e.description)!=null?s:t})`:e};/**
* @vue/reactivity v3.5.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let st;class pl{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=st,!t&&st&&(this.index=(st.scopes||(st.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].pause();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].resume();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].resume()}}run(t){if(this._active){const s=st;try{return st=this,t()}finally{st=s}}}on(){++this._on===1&&(this.prevScope=st,st=this)}off(){this._on>0&&--this._on===0&&(st=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let s,o;for(s=0,o=this.effects.length;s<o;s++)this.effects[s].stop();for(this.effects.length=0,s=0,o=this.cleanups.length;s<o;s++)this.cleanups[s]();if(this.cleanups.length=0,this.scopes){for(s=0,o=this.scopes.length;s<o;s++)this.scopes[s].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0}}}function hl(e){return new pl(e)}function ml(){return st}function nd(e,t=!1){st&&st.cleanups.push(e)}let Ae;const jo=new WeakSet;class gl{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,st&&st.active&&st.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,jo.has(this)&&(jo.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||yl(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Kn(this),bl(this);const t=Ae,s=It;Ae=this,It=!0;try{return this.fn()}finally{Sl(this),Ae=t,It=s,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)mn(t);this.deps=this.depsTail=void 0,Kn(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?jo.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Vo(this)&&this.run()}get dirty(){return Vo(this)}}let vl=0,Hs,zs;function yl(e,t=!1){if(e.flags|=8,t){e.next=zs,zs=e;return}e.next=Hs,Hs=e}function pn(){vl++}function hn(){if(--vl>0)return;if(zs){let t=zs;for(zs=void 0;t;){const s=t.next;t.next=void 0,t.flags&=-9,t=s}}let e;for(;Hs;){let t=Hs;for(Hs=void 0;t;){const s=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(o){e||(e=o)}t=s}}if(e)throw e}function bl(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function Sl(e){let t,s=e.depsTail,o=s;for(;o;){const r=o.prevDep;o.version===-1?(o===s&&(s=r),mn(o),id(o)):t=o,o.dep.activeLink=o.prevActiveLink,o.prevActiveLink=void 0,o=r}e.deps=t,e.depsTail=s}function Vo(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(El(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function El(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===Zs)||(e.globalVersion=Zs,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!Vo(e))))return;e.flags|=2;const t=e.dep,s=Ae,o=It;Ae=e,It=!0;try{bl(e);const r=e.fn(e._value);(t.version===0||Zt(r,e._value))&&(e.flags|=128,e._value=r,t.version++)}catch(r){throw t.version++,r}finally{Ae=s,It=o,Sl(e),e.flags&=-3}}function mn(e,t=!1){const{dep:s,prevSub:o,nextSub:r}=e;if(o&&(o.nextSub=r,e.prevSub=void 0),r&&(r.prevSub=o,e.nextSub=void 0),s.subs===e&&(s.subs=o,!o&&s.computed)){s.computed.flags&=-5;for(let l=s.computed.deps;l;l=l.nextDep)mn(l,!0)}!t&&!--s.sc&&s.map&&s.map.delete(s.key)}function id(e){const{prevDep:t,nextDep:s}=e;t&&(t.nextDep=s,e.prevDep=void 0),s&&(s.prevDep=t,e.nextDep=void 0)}let It=!0;const _l=[];function Bt(){_l.push(It),It=!1}function Ht(){const e=_l.pop();It=e===void 0?!0:e}function Kn(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const s=Ae;Ae=void 0;try{t()}finally{Ae=s}}}let Zs=0;class ld{constructor(t,s){this.sub=t,this.dep=s,this.version=s.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class gn{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!Ae||!It||Ae===this.computed)return;let s=this.activeLink;if(s===void 0||s.sub!==Ae)s=this.activeLink=new ld(Ae,this),Ae.deps?(s.prevDep=Ae.depsTail,Ae.depsTail.nextDep=s,Ae.depsTail=s):Ae.deps=Ae.depsTail=s,wl(s);else if(s.version===-1&&(s.version=this.version,s.nextDep)){const o=s.nextDep;o.prevDep=s.prevDep,s.prevDep&&(s.prevDep.nextDep=o),s.prevDep=Ae.depsTail,s.nextDep=void 0,Ae.depsTail.nextDep=s,Ae.depsTail=s,Ae.deps===s&&(Ae.deps=o)}return s}trigger(t){this.version++,Zs++,this.notify(t)}notify(t){pn();try{for(let s=this.subs;s;s=s.prevSub)s.sub.notify()&&s.sub.dep.notify()}finally{hn()}}}function wl(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let o=t.deps;o;o=o.nextDep)wl(o)}const s=e.dep.subs;s!==e&&(e.prevSub=s,s&&(s.nextSub=e)),e.dep.subs=e}}const Or=new WeakMap,ps=Symbol(""),Bo=Symbol(""),er=Symbol("");function rt(e,t,s){if(It&&Ae){let o=Or.get(e);o||Or.set(e,o=new Map);let r=o.get(s);r||(o.set(s,r=new gn),r.map=o,r.key=s),r.track()}}function Nt(e,t,s,o,r,l){const n=Or.get(e);if(!n){Zs++;return}const a=d=>{d&&d.trigger()};if(pn(),t==="clear")n.forEach(a);else{const d=ne(e),u=d&&cn(s);if(d&&s==="length"){const c=Number(o);n.forEach((m,S)=>{(S==="length"||S===er||!Rt(S)&&S>=c)&&a(m)})}else switch((s!==void 0||n.has(void 0))&&a(n.get(s)),u&&a(n.get(er)),t){case"add":d?u&&a(n.get("length")):(a(n.get(ps)),ws(e)&&a(n.get(Bo)));break;case"delete":d||(a(n.get(ps)),ws(e)&&a(n.get(Bo)));break;case"set":ws(e)&&a(n.get(ps));break}}hn()}function ad(e,t){const s=Or.get(e);return s&&s.get(t)}function ys(e){const t=_e(e);return t===e?t:(rt(t,"iterate",er),vt(e)?t:t.map(Xe))}function Kr(e){return rt(e=_e(e),"iterate",er),e}const ud={__proto__:null,[Symbol.iterator](){return ko(this,Symbol.iterator,Xe)},concat(...e){return ys(this).concat(...e.map(t=>ne(t)?ys(t):t))},entries(){return ko(this,"entries",e=>(e[1]=Xe(e[1]),e))},every(e,t){return $t(this,"every",e,t,void 0,arguments)},filter(e,t){return $t(this,"filter",e,t,s=>s.map(Xe),arguments)},find(e,t){return $t(this,"find",e,t,Xe,arguments)},findIndex(e,t){return $t(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return $t(this,"findLast",e,t,Xe,arguments)},findLastIndex(e,t){return $t(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return $t(this,"forEach",e,t,void 0,arguments)},includes(...e){return Po(this,"includes",e)},indexOf(...e){return Po(this,"indexOf",e)},join(e){return ys(this).join(e)},lastIndexOf(...e){return Po(this,"lastIndexOf",e)},map(e,t){return $t(this,"map",e,t,void 0,arguments)},pop(){return Ms(this,"pop")},push(...e){return Ms(this,"push",e)},reduce(e,...t){return Wn(this,"reduce",e,t)},reduceRight(e,...t){return Wn(this,"reduceRight",e,t)},shift(){return Ms(this,"shift")},some(e,t){return $t(this,"some",e,t,void 0,arguments)},splice(...e){return Ms(this,"splice",e)},toReversed(){return ys(this).toReversed()},toSorted(e){return ys(this).toSorted(e)},toSpliced(...e){return ys(this).toSpliced(...e)},unshift(...e){return Ms(this,"unshift",e)},values(){return ko(this,"values",Xe)}};function ko(e,t,s){const o=Kr(e),r=o[t]();return o!==e&&!vt(e)&&(r._next=r.next,r.next=()=>{const l=r._next();return l.value&&(l.value=s(l.value)),l}),r}const dd=Array.prototype;function $t(e,t,s,o,r,l){const n=Kr(e),a=n!==e&&!vt(e),d=n[t];if(d!==dd[t]){const m=d.apply(e,l);return a?Xe(m):m}let u=s;n!==e&&(a?u=function(m,S){return s.call(this,Xe(m),S,e)}:s.length>2&&(u=function(m,S){return s.call(this,m,S,e)}));const c=d.call(n,u,o);return a&&r?r(c):c}function Wn(e,t,s,o){const r=Kr(e);let l=s;return r!==e&&(vt(e)?s.length>3&&(l=function(n,a,d){return s.call(this,n,a,d,e)}):l=function(n,a,d){return s.call(this,n,Xe(a),d,e)}),r[t](l,...o)}function Po(e,t,s){const o=_e(e);rt(o,"iterate",er);const r=o[t](...s);return(r===-1||r===!1)&&bn(s[0])?(s[0]=_e(s[0]),o[t](...s)):r}function Ms(e,t,s=[]){Bt(),pn();const o=_e(e)[t].apply(e,s);return hn(),Ht(),o}const cd=an("__proto__,__v_isRef,__isVue"),Il=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Rt));function fd(e){Rt(e)||(e=String(e));const t=_e(this);return rt(t,"has",e),t.hasOwnProperty(e)}class Cl{constructor(t=!1,s=!1){this._isReadonly=t,this._isShallow=s}get(t,s,o){if(s==="__v_skip")return t.__v_skip;const r=this._isReadonly,l=this._isShallow;if(s==="__v_isReactive")return!r;if(s==="__v_isReadonly")return r;if(s==="__v_isShallow")return l;if(s==="__v_raw")return o===(r?l?_d:Pl:l?kl:jl).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(o)?t:void 0;const n=ne(t);if(!r){let d;if(n&&(d=ud[s]))return d;if(s==="hasOwnProperty")return fd}const a=Reflect.get(t,s,Be(t)?t:o);return(Rt(s)?Il.has(s):cd(s))||(r||rt(t,"get",s),l)?a:Be(a)?n&&cn(s)?a:a.value:Le(a)?r?ql(a):ur(a):a}}class xl extends Cl{constructor(t=!1){super(!1,t)}set(t,s,o,r){let l=t[s];if(!this._isShallow){const d=ss(l);if(!vt(o)&&!ss(o)&&(l=_e(l),o=_e(o)),!ne(t)&&Be(l)&&!Be(o))return d||(l.value=o),!0}const n=ne(t)&&cn(s)?Number(s)<t.length:ke(t,s),a=Reflect.set(t,s,o,Be(t)?t:r);return t===_e(r)&&(n?Zt(o,l)&&Nt(t,"set",s,o):Nt(t,"add",s,o)),a}deleteProperty(t,s){const o=ke(t,s);t[s];const r=Reflect.deleteProperty(t,s);return r&&o&&Nt(t,"delete",s,void 0),r}has(t,s){const o=Reflect.has(t,s);return(!Rt(s)||!Il.has(s))&&rt(t,"has",s),o}ownKeys(t){return rt(t,"iterate",ne(t)?"length":ps),Reflect.ownKeys(t)}}class pd extends Cl{constructor(t=!1){super(!0,t)}set(t,s){return!0}deleteProperty(t,s){return!0}}const hd=new xl,md=new pd,gd=new xl(!0);const Ho=e=>e,gr=e=>Reflect.getPrototypeOf(e);function vd(e,t,s){return function(...o){const r=this.__v_raw,l=_e(r),n=ws(l),a=e==="entries"||e===Symbol.iterator&&n,d=e==="keys"&&n,u=r[e](...o),c=s?Ho:t?qr:Xe;return!t&&rt(l,"iterate",d?Bo:ps),{next(){const{value:m,done:S}=u.next();return S?{value:m,done:S}:{value:a?[c(m[0]),c(m[1])]:c(m),done:S}},[Symbol.iterator](){return this}}}}function vr(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function yd(e,t){const s={get(r){const l=this.__v_raw,n=_e(l),a=_e(r);e||(Zt(r,a)&&rt(n,"get",r),rt(n,"get",a));const{has:d}=gr(n),u=t?Ho:e?qr:Xe;if(d.call(n,r))return u(l.get(r));if(d.call(n,a))return u(l.get(a));l!==n&&l.get(r)},get size(){const r=this.__v_raw;return!e&&rt(_e(r),"iterate",ps),r.size},has(r){const l=this.__v_raw,n=_e(l),a=_e(r);return e||(Zt(r,a)&&rt(n,"has",r),rt(n,"has",a)),r===a?l.has(r):l.has(r)||l.has(a)},forEach(r,l){const n=this,a=n.__v_raw,d=_e(a),u=t?Ho:e?qr:Xe;return!e&&rt(d,"iterate",ps),a.forEach((c,m)=>r.call(l,u(c),u(m),n))}};return Je(s,e?{add:vr("add"),set:vr("set"),delete:vr("delete"),clear:vr("clear")}:{add(r){!t&&!vt(r)&&!ss(r)&&(r=_e(r));const l=_e(this);return gr(l).has.call(l,r)||(l.add(r),Nt(l,"add",r,r)),this},set(r,l){!t&&!vt(l)&&!ss(l)&&(l=_e(l));const n=_e(this),{has:a,get:d}=gr(n);let u=a.call(n,r);u||(r=_e(r),u=a.call(n,r));const c=d.call(n,r);return n.set(r,l),u?Zt(l,c)&&Nt(n,"set",r,l):Nt(n,"add",r,l),this},delete(r){const l=_e(this),{has:n,get:a}=gr(l);let d=n.call(l,r);d||(r=_e(r),d=n.call(l,r)),a&&a.call(l,r);const u=l.delete(r);return d&&Nt(l,"delete",r,void 0),u},clear(){const r=_e(this),l=r.size!==0,n=r.clear();return l&&Nt(r,"clear",void 0,void 0),n}}),["keys","values","entries",Symbol.iterator].forEach(r=>{s[r]=vd(r,e,t)}),s}function vn(e,t){const s=yd(e,t);return(o,r,l)=>r==="__v_isReactive"?!e:r==="__v_isReadonly"?e:r==="__v_raw"?o:Reflect.get(ke(s,r)&&r in o?s:o,r,l)}const bd={get:vn(!1,!1)},Sd={get:vn(!1,!0)},Ed={get:vn(!0,!1)};const jl=new WeakMap,kl=new WeakMap,Pl=new WeakMap,_d=new WeakMap;function wd(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Id(e){return e.__v_skip||!Object.isExtensible(e)?0:wd(Ju(e))}function ur(e){return ss(e)?e:yn(e,!1,hd,bd,jl)}function Ol(e){return yn(e,!1,gd,Sd,kl)}function ql(e){return yn(e,!0,md,Ed,Pl)}function yn(e,t,s,o,r){if(!Le(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const l=Id(e);if(l===0)return e;const n=r.get(e);if(n)return n;const a=new Proxy(e,l===2?o:s);return r.set(e,a),a}function ts(e){return ss(e)?ts(e.__v_raw):!!(e&&e.__v_isReactive)}function ss(e){return!!(e&&e.__v_isReadonly)}function vt(e){return!!(e&&e.__v_isShallow)}function bn(e){return e?!!e.__v_raw:!1}function _e(e){const t=e&&e.__v_raw;return t?_e(t):e}function Sn(e){return!ke(e,"__v_skip")&&Object.isExtensible(e)&&ul(e,"__v_skip",!0),e}const Xe=e=>Le(e)?ur(e):e,qr=e=>Le(e)?ql(e):e;function Be(e){return e?e.__v_isRef===!0:!1}function Y(e){return Dl(e,!1)}function Cd(e){return Dl(e,!0)}function Dl(e,t){return Be(e)?e:new xd(e,t)}class xd{constructor(t,s){this.dep=new gn,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=s?t:_e(t),this._value=s?t:Xe(t),this.__v_isShallow=s}get value(){return this.dep.track(),this._value}set value(t){const s=this._rawValue,o=this.__v_isShallow||vt(t)||ss(t);t=o?t:_e(t),Zt(t,s)&&(this._rawValue=t,this._value=o?t:Xe(t),this.dep.trigger())}}function Is(e){return Be(e)?e.value:e}const jd={get:(e,t,s)=>t==="__v_raw"?e:Is(Reflect.get(e,t,s)),set:(e,t,s,o)=>{const r=e[t];return Be(r)&&!Be(s)?(r.value=s,!0):Reflect.set(e,t,s,o)}};function Tl(e){return ts(e)?e:new Proxy(e,jd)}function kd(e){const t=ne(e)?new Array(e.length):{};for(const s in e)t[s]=Od(e,s);return t}class Pd{constructor(t,s,o){this._object=t,this._key=s,this._defaultValue=o,this.__v_isRef=!0,this._value=void 0}get value(){const t=this._object[this._key];return this._value=t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return ad(_e(this._object),this._key)}}function Od(e,t,s){const o=e[t];return Be(o)?o:new Pd(e,t,s)}class qd{constructor(t,s,o){this.fn=t,this.setter=s,this._value=void 0,this.dep=new gn(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Zs-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!s,this.isSSR=o}notify(){if(this.flags|=16,!(this.flags&8)&&Ae!==this)return yl(this,!0),!0}get value(){const t=this.dep.track();return El(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function Dd(e,t,s=!1){let o,r;return de(e)?o=e:(o=e.get,r=e.set),new qd(o,r,s)}const yr={},Dr=new WeakMap;let ds;function Td(e,t=!1,s=ds){if(s){let o=Dr.get(s);o||Dr.set(s,o=[]),o.push(e)}}function Rd(e,t,s=Te){const{immediate:o,deep:r,once:l,scheduler:n,augmentJob:a,call:d}=s,u=N=>r?N:vt(N)||r===!1||r===0?Ft(N,1):Ft(N);let c,m,S,E,_=!1,k=!1;if(Be(e)?(m=()=>e.value,_=vt(e)):ts(e)?(m=()=>u(e),_=!0):ne(e)?(k=!0,_=e.some(N=>ts(N)||vt(N)),m=()=>e.map(N=>{if(Be(N))return N.value;if(ts(N))return u(N);if(de(N))return d?d(N,2):N()})):de(e)?t?m=d?()=>d(e,2):e:m=()=>{if(S){Bt();try{S()}finally{Ht()}}const N=ds;ds=c;try{return d?d(e,3,[E]):e(E)}finally{ds=N}}:m=wt,t&&r){const N=m,re=r===!0?1/0:r;m=()=>Ft(N(),re)}const q=ml(),B=()=>{c.stop(),q&&q.active&&dn(q.effects,c)};if(l&&t){const N=t;t=(...re)=>{N(...re),B()}}let H=k?new Array(e.length).fill(yr):yr;const z=N=>{if(!(!(c.flags&1)||!c.dirty&&!N))if(t){const re=c.run();if(r||_||(k?re.some((ve,le)=>Zt(ve,H[le])):Zt(re,H))){S&&S();const ve=ds;ds=c;try{const le=[re,H===yr?void 0:k&&H[0]===yr?[]:H,E];H=re,d?d(t,3,le):t(...le)}finally{ds=ve}}}else c.run()};return a&&a(z),c=new gl(m),c.scheduler=n?()=>n(z,!1):z,E=N=>Td(N,!1,c),S=c.onStop=()=>{const N=Dr.get(c);if(N){if(d)d(N,4);else for(const re of N)re();Dr.delete(c)}},t?o?z(!0):H=c.run():n?n(z.bind(null,!0),!0):c.run(),B.pause=c.pause.bind(c),B.resume=c.resume.bind(c),B.stop=B,B}function Ft(e,t=1/0,s){if(t<=0||!Le(e)||e.__v_skip||(s=s||new Map,(s.get(e)||0)>=t))return e;if(s.set(e,t),t--,Be(e))Ft(e.value,t,s);else if(ne(e))for(let o=0;o<e.length;o++)Ft(e[o],t,s);else if(qs(e)||ws(e))e.forEach(o=>{Ft(o,t,s)});else if(al(e)){for(const o in e)Ft(e[o],t,s);for(const o of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,o)&&Ft(e[o],t,s)}return e}/**
* @vue/runtime-core v3.5.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function dr(e,t,s,o){try{return o?e(...o):e()}catch(r){Wr(r,t,s)}}function At(e,t,s,o){if(de(e)){const r=dr(e,t,s,o);return r&&il(r)&&r.catch(l=>{Wr(l,t,s)}),r}if(ne(e)){const r=[];for(let l=0;l<e.length;l++)r.push(At(e[l],t,s,o));return r}}function Wr(e,t,s,o=!0){const r=t?t.vnode:null,{errorHandler:l,throwUnhandledErrorInProduction:n}=t&&t.appContext.config||Te;if(t){let a=t.parent;const d=t.proxy,u=`https://vuejs.org/error-reference/#runtime-${s}`;for(;a;){const c=a.ec;if(c){for(let m=0;m<c.length;m++)if(c[m](e,d,u)===!1)return}a=a.parent}if(l){Bt(),dr(l,null,10,[e,d,u]),Ht();return}}Ad(e,s,r,o,n)}function Ad(e,t,s,o=!0,r=!1){if(r)throw e;console.error(e)}const at=[];let Dt=-1;const Cs=[];let Jt=null,Ss=0;const Rl=Promise.resolve();let Tr=null;function Jr(e){const t=Tr||Rl;return e?t.then(this?e.bind(this):e):t}function Ld(e){let t=Dt+1,s=at.length;for(;t<s;){const o=t+s>>>1,r=at[o],l=tr(r);l<e||l===e&&r.flags&2?t=o+1:s=o}return t}function En(e){if(!(e.flags&1)){const t=tr(e),s=at[at.length-1];!s||!(e.flags&2)&&t>=tr(s)?at.push(e):at.splice(Ld(t),0,e),e.flags|=1,Al()}}function Al(){Tr||(Tr=Rl.then($l))}function $d(e){ne(e)?Cs.push(...e):Jt&&e.id===-1?Jt.splice(Ss+1,0,e):e.flags&1||(Cs.push(e),e.flags|=1),Al()}function Jn(e,t,s=Dt+1){for(;s<at.length;s++){const o=at[s];if(o&&o.flags&2){if(e&&o.id!==e.uid)continue;at.splice(s,1),s--,o.flags&4&&(o.flags&=-2),o(),o.flags&4||(o.flags&=-2)}}}function Ll(e){if(Cs.length){const t=[...new Set(Cs)].sort((s,o)=>tr(s)-tr(o));if(Cs.length=0,Jt){Jt.push(...t);return}for(Jt=t,Ss=0;Ss<Jt.length;Ss++){const s=Jt[Ss];s.flags&4&&(s.flags&=-2),s.flags&8||s(),s.flags&=-2}Jt=null,Ss=0}}const tr=e=>e.id==null?e.flags&2?-1:1/0:e.id;function $l(e){const t=wt;try{for(Dt=0;Dt<at.length;Dt++){const s=at[Dt];s&&!(s.flags&8)&&(s.flags&4&&(s.flags&=-2),dr(s,s.i,s.i?15:14),s.flags&4||(s.flags&=-2))}}finally{for(;Dt<at.length;Dt++){const s=at[Dt];s&&(s.flags&=-2)}Dt=-1,at.length=0,Ll(),Tr=null,(at.length||Cs.length)&&$l()}}let ht=null,Ml=null;function Rr(e){const t=ht;return ht=e,Ml=e&&e.type.__scopeId||null,t}function Ve(e,t=ht,s){if(!t||e._n)return e;const o=(...r)=>{o._d&&Mr(-1);const l=Rr(t);let n;try{n=e(...r)}finally{Rr(l),o._d&&Mr(1)}return n};return o._n=!0,o._c=!0,o._d=!0,o}function T(e,t){if(ht===null)return e;const s=Zr(ht),o=e.dirs||(e.dirs=[]);for(let r=0;r<t.length;r++){let[l,n,a,d=Te]=t[r];l&&(de(l)&&(l={mounted:l,updated:l}),l.deep&&Ft(n),o.push({dir:l,instance:s,value:n,oldValue:void 0,arg:a,modifiers:d}))}return e}function as(e,t,s,o){const r=e.dirs,l=t&&t.dirs;for(let n=0;n<r.length;n++){const a=r[n];l&&(a.oldValue=l[n].value);let d=a.dir[o];d&&(Bt(),At(d,s,8,[e.el,a,e,t]),Ht())}}const Md=Symbol("_vte"),Ud=e=>e.__isTeleport,Nd=Symbol("_leaveCb");function _n(e,t){e.shapeFlag&6&&e.component?(e.transition=t,_n(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Ul(e,t){return de(e)?(()=>Je({name:e.name},t,{setup:e}))():e}function Nl(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}const Ar=new WeakMap;function Gs(e,t,s,o,r=!1){if(ne(e)){e.forEach((_,k)=>Gs(_,t&&(ne(t)?t[k]:t),s,o,r));return}if(Ks(o)&&!r){o.shapeFlag&512&&o.type.__asyncResolved&&o.component.subTree.component&&Gs(e,t,s,o.component.subTree);return}const l=o.shapeFlag&4?Zr(o.component):o.el,n=r?null:l,{i:a,r:d}=e,u=t&&t.r,c=a.refs===Te?a.refs={}:a.refs,m=a.setupState,S=_e(m),E=m===Te?nl:_=>ke(S,_);if(u!=null&&u!==d){if(Xn(t),ze(u))c[u]=null,E(u)&&(m[u]=null);else if(Be(u)){u.value=null;const _=t;_.k&&(c[_.k]=null)}}if(de(d))dr(d,a,12,[n,c]);else{const _=ze(d),k=Be(d);if(_||k){const q=()=>{if(e.f){const B=_?E(d)?m[d]:c[d]:d.value;if(r)ne(B)&&dn(B,l);else if(ne(B))B.includes(l)||B.push(l);else if(_)c[d]=[l],E(d)&&(m[d]=c[d]);else{const H=[l];d.value=H,e.k&&(c[e.k]=H)}}else _?(c[d]=n,E(d)&&(m[d]=n)):k&&(d.value=n,e.k&&(c[e.k]=n))};if(n){const B=()=>{q(),Ar.delete(e)};B.id=-1,Ar.set(e,B),ft(B,s)}else Xn(e),q()}}}function Xn(e){const t=Ar.get(e);t&&(t.flags|=8,Ar.delete(e))}Gr().requestIdleCallback;Gr().cancelIdleCallback;const Ks=e=>!!e.type.__asyncLoader,Fl=e=>e.type.__isKeepAlive;function Fd(e,t){Vl(e,"a",t)}function Vd(e,t){Vl(e,"da",t)}function Vl(e,t,s=ot){const o=e.__wdc||(e.__wdc=()=>{let r=s;for(;r;){if(r.isDeactivated)return;r=r.parent}return e()});if(Xr(t,o,s),s){let r=s.parent;for(;r&&r.parent;)Fl(r.parent.vnode)&&Bd(o,t,s,r),r=r.parent}}function Bd(e,t,s,o){const r=Xr(t,e,o,!0);Bl(()=>{dn(o[t],r)},s)}function Xr(e,t,s=ot,o=!1){if(s){const r=s[e]||(s[e]=[]),l=t.__weh||(t.__weh=(...n)=>{Bt();const a=cr(s),d=At(t,s,e,n);return a(),Ht(),d});return o?r.unshift(l):r.push(l),l}}const zt=e=>(t,s=ot)=>{(!rr||e==="sp")&&Xr(e,(...o)=>t(...o),s)},Hd=zt("bm"),Lr=zt("m"),zd=zt("bu"),Gd=zt("u"),Kd=zt("bum"),Bl=zt("um"),Wd=zt("sp"),Jd=zt("rtg"),Xd=zt("rtc");function Yd(e,t=ot){Xr("ec",e,t)}const Hl="components";function rs(e,t){return Zd(Hl,e,!0,t)||e}const Qd=Symbol.for("v-ndc");function Zd(e,t,s=!0,o=!1){const r=ht||ot;if(r){const l=r.type;if(e===Hl){const a=Fc(l,!1);if(a&&(a===t||a===bt(t)||a===zr(bt(t))))return l}const n=Yn(r[e]||l[e],t)||Yn(r.appContext[e],t);return!n&&o?l:n}}function Yn(e,t){return e&&(e[t]||e[bt(t)]||e[zr(bt(t))])}function te(e,t,s,o){let r;const l=s&&s[o],n=ne(e);if(n||ze(e)){const a=n&&ts(e);let d=!1,u=!1;a&&(d=!vt(e),u=ss(e),e=Kr(e)),r=new Array(e.length);for(let c=0,m=e.length;c<m;c++)r[c]=t(d?u?qr(Xe(e[c])):Xe(e[c]):e[c],c,void 0,l&&l[c])}else if(typeof e=="number"){r=new Array(e);for(let a=0;a<e;a++)r[a]=t(a+1,a,void 0,l&&l[a])}else if(Le(e))if(e[Symbol.iterator])r=Array.from(e,(a,d)=>t(a,d,void 0,l&&l[d]));else{const a=Object.keys(e);r=new Array(a.length);for(let d=0,u=a.length;d<u;d++){const c=a[d];r[d]=t(e[c],c,d,l&&l[d])}}else r=[];return s&&(s[o]=r),r}const zo=e=>e?da(e)?Zr(e):zo(e.parent):null,Ws=Je(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>zo(e.parent),$root:e=>zo(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>wn(e),$forceUpdate:e=>e.f||(e.f=()=>{En(e.update)}),$nextTick:e=>e.n||(e.n=Jr.bind(e.proxy)),$watch:e=>Ec.bind(e)}),Oo=(e,t)=>e!==Te&&!e.__isScriptSetup&&ke(e,t),ec={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:s,setupState:o,data:r,props:l,accessCache:n,type:a,appContext:d}=e;let u;if(t[0]!=="$"){const E=n[t];if(E!==void 0)switch(E){case 1:return o[t];case 2:return r[t];case 4:return s[t];case 3:return l[t]}else{if(Oo(o,t))return n[t]=1,o[t];if(r!==Te&&ke(r,t))return n[t]=2,r[t];if((u=e.propsOptions[0])&&ke(u,t))return n[t]=3,l[t];if(s!==Te&&ke(s,t))return n[t]=4,s[t];Go&&(n[t]=0)}}const c=Ws[t];let m,S;if(c)return t==="$attrs"&&rt(e.attrs,"get",""),c(e);if((m=a.__cssModules)&&(m=m[t]))return m;if(s!==Te&&ke(s,t))return n[t]=4,s[t];if(S=d.config.globalProperties,ke(S,t))return S[t]},set({_:e},t,s){const{data:o,setupState:r,ctx:l}=e;return Oo(r,t)?(r[t]=s,!0):o!==Te&&ke(o,t)?(o[t]=s,!0):ke(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(l[t]=s,!0)},has({_:{data:e,setupState:t,accessCache:s,ctx:o,appContext:r,propsOptions:l,type:n}},a){let d,u;return!!(s[a]||e!==Te&&a[0]!=="$"&&ke(e,a)||Oo(t,a)||(d=l[0])&&ke(d,a)||ke(o,a)||ke(Ws,a)||ke(r.config.globalProperties,a)||(u=n.__cssModules)&&u[a])},defineProperty(e,t,s){return s.get!=null?e._.accessCache[t]=0:ke(s,"value")&&this.set(e,t,s.value,null),Reflect.defineProperty(e,t,s)}};function Qn(e){return ne(e)?e.reduce((t,s)=>(t[s]=null,t),{}):e}let Go=!0;function tc(e){const t=wn(e),s=e.proxy,o=e.ctx;Go=!1,t.beforeCreate&&Zn(t.beforeCreate,e,"bc");const{data:r,computed:l,methods:n,watch:a,provide:d,inject:u,created:c,beforeMount:m,mounted:S,beforeUpdate:E,updated:_,activated:k,deactivated:q,beforeDestroy:B,beforeUnmount:H,destroyed:z,unmounted:N,render:re,renderTracked:ve,renderTriggered:le,errorCaptured:ue,serverPrefetch:oe,expose:ye,inheritAttrs:$e,components:Me,directives:Re,filters:we}=t;if(u&&sc(u,o,null),n)for(const F in n){const M=n[F];de(M)&&(o[F]=M.bind(s))}if(r){const F=r.call(s,s);Le(F)&&(e.data=ur(F))}if(Go=!0,l)for(const F in l){const M=l[F],De=de(M)?M.bind(s,s):de(M.get)?M.get.bind(s,s):wt,pe=!de(M)&&de(M.set)?M.set.bind(s):wt,Ie=Ne({get:De,set:pe});Object.defineProperty(o,F,{enumerable:!0,configurable:!0,get:()=>Ie.value,set:Pe=>Ie.value=Pe})}if(a)for(const F in a)zl(a[F],o,s,F);if(d){const F=de(d)?d.call(s):d;Reflect.ownKeys(F).forEach(M=>{Er(M,F[M])})}c&&Zn(c,e,"c");function ie(F,M){ne(M)?M.forEach(De=>F(De.bind(s))):M&&F(M.bind(s))}if(ie(Hd,m),ie(Lr,S),ie(zd,E),ie(Gd,_),ie(Fd,k),ie(Vd,q),ie(Yd,ue),ie(Xd,ve),ie(Jd,le),ie(Kd,H),ie(Bl,N),ie(Wd,oe),ne(ye))if(ye.length){const F=e.exposed||(e.exposed={});ye.forEach(M=>{Object.defineProperty(F,M,{get:()=>s[M],set:De=>s[M]=De,enumerable:!0})})}else e.exposed||(e.exposed={});re&&e.render===wt&&(e.render=re),$e!=null&&(e.inheritAttrs=$e),Me&&(e.components=Me),Re&&(e.directives=Re),oe&&Nl(e)}function sc(e,t,s=wt){ne(e)&&(e=Ko(e));for(const o in e){const r=e[o];let l;Le(r)?"default"in r?l=yt(r.from||o,r.default,!0):l=yt(r.from||o):l=yt(r),Be(l)?Object.defineProperty(t,o,{enumerable:!0,configurable:!0,get:()=>l.value,set:n=>l.value=n}):t[o]=l}}function Zn(e,t,s){At(ne(e)?e.map(o=>o.bind(t.proxy)):e.bind(t.proxy),t,s)}function zl(e,t,s,o){let r=o.includes(".")?oa(s,o):()=>s[o];if(ze(e)){const l=t[e];de(l)&&pt(r,l)}else if(de(e))pt(r,e.bind(s));else if(Le(e))if(ne(e))e.forEach(l=>zl(l,t,s,o));else{const l=de(e.handler)?e.handler.bind(s):t[e.handler];de(l)&&pt(r,l,e)}}function wn(e){const t=e.type,{mixins:s,extends:o}=t,{mixins:r,optionsCache:l,config:{optionMergeStrategies:n}}=e.appContext,a=l.get(t);let d;return a?d=a:!r.length&&!s&&!o?d=t:(d={},r.length&&r.forEach(u=>$r(d,u,n,!0)),$r(d,t,n)),Le(t)&&l.set(t,d),d}function $r(e,t,s,o=!1){const{mixins:r,extends:l}=t;l&&$r(e,l,s,!0),r&&r.forEach(n=>$r(e,n,s,!0));for(const n in t)if(!(o&&n==="expose")){const a=rc[n]||s&&s[n];e[n]=a?a(e[n],t[n]):t[n]}return e}const rc={data:ei,props:ti,emits:ti,methods:Vs,computed:Vs,beforeCreate:lt,created:lt,beforeMount:lt,mounted:lt,beforeUpdate:lt,updated:lt,beforeDestroy:lt,beforeUnmount:lt,destroyed:lt,unmounted:lt,activated:lt,deactivated:lt,errorCaptured:lt,serverPrefetch:lt,components:Vs,directives:Vs,watch:nc,provide:ei,inject:oc};function ei(e,t){return t?e?function(){return Je(de(e)?e.call(this,this):e,de(t)?t.call(this,this):t)}:t:e}function oc(e,t){return Vs(Ko(e),Ko(t))}function Ko(e){if(ne(e)){const t={};for(let s=0;s<e.length;s++)t[e[s]]=e[s];return t}return e}function lt(e,t){return e?[...new Set([].concat(e,t))]:t}function Vs(e,t){return e?Je(Object.create(null),e,t):t}function ti(e,t){return e?ne(e)&&ne(t)?[...new Set([...e,...t])]:Je(Object.create(null),Qn(e),Qn(t??{})):t}function nc(e,t){if(!e)return t;if(!t)return e;const s=Je(Object.create(null),e);for(const o in t)s[o]=lt(e[o],t[o]);return s}function Gl(){return{app:null,config:{isNativeTag:nl,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let ic=0;function lc(e,t){return function(o,r=null){de(o)||(o=Je({},o)),r!=null&&!Le(r)&&(r=null);const l=Gl(),n=new WeakSet,a=[];let d=!1;const u=l.app={_uid:ic++,_component:o,_props:r,_container:null,_context:l,_instance:null,version:Bc,get config(){return l.config},set config(c){},use(c,...m){return n.has(c)||(c&&de(c.install)?(n.add(c),c.install(u,...m)):de(c)&&(n.add(c),c(u,...m))),u},mixin(c){return l.mixins.includes(c)||l.mixins.push(c),u},component(c,m){return m?(l.components[c]=m,u):l.components[c]},directive(c,m){return m?(l.directives[c]=m,u):l.directives[c]},mount(c,m,S){if(!d){const E=u._ceVNode||qe(o,r);return E.appContext=l,S===!0?S="svg":S===!1&&(S=void 0),m&&t?t(E,c):e(E,c,S),d=!0,u._container=c,c.__vue_app__=u,Zr(E.component)}},onUnmount(c){a.push(c)},unmount(){d&&(At(a,u._instance,16),e(null,u._container),delete u._container.__vue_app__)},provide(c,m){return l.provides[c]=m,u},runWithContext(c){const m=hs;hs=u;try{return c()}finally{hs=m}}};return u}}let hs=null;function Er(e,t){if(ot){let s=ot.provides;const o=ot.parent&&ot.parent.provides;o===s&&(s=ot.provides=Object.create(o)),s[e]=t}}function yt(e,t,s=!1){const o=ua();if(o||hs){let r=hs?hs._context.provides:o?o.parent==null||o.ce?o.vnode.appContext&&o.vnode.appContext.provides:o.parent.provides:void 0;if(r&&e in r)return r[e];if(arguments.length>1)return s&&de(t)?t.call(o&&o.proxy):t}}function ac(){return!!(ua()||hs)}const Kl={},Wl=()=>Object.create(Kl),Jl=e=>Object.getPrototypeOf(e)===Kl;function uc(e,t,s,o=!1){const r={},l=Wl();e.propsDefaults=Object.create(null),Xl(e,t,r,l);for(const n in e.propsOptions[0])n in r||(r[n]=void 0);s?e.props=o?r:Ol(r):e.type.props?e.props=r:e.props=l,e.attrs=l}function dc(e,t,s,o){const{props:r,attrs:l,vnode:{patchFlag:n}}=e,a=_e(r),[d]=e.propsOptions;let u=!1;if((o||n>0)&&!(n&16)){if(n&8){const c=e.vnode.dynamicProps;for(let m=0;m<c.length;m++){let S=c[m];if(Yr(e.emitsOptions,S))continue;const E=t[S];if(d)if(ke(l,S))E!==l[S]&&(l[S]=E,u=!0);else{const _=bt(S);r[_]=Wo(d,a,_,E,e,!1)}else E!==l[S]&&(l[S]=E,u=!0)}}}else{Xl(e,t,r,l)&&(u=!0);let c;for(const m in a)(!t||!ke(t,m)&&((c=gs(m))===m||!ke(t,c)))&&(d?s&&(s[m]!==void 0||s[c]!==void 0)&&(r[m]=Wo(d,a,m,void 0,e,!0)):delete r[m]);if(l!==a)for(const m in l)(!t||!ke(t,m))&&(delete l[m],u=!0)}u&&Nt(e.attrs,"set","")}function Xl(e,t,s,o){const[r,l]=e.propsOptions;let n=!1,a;if(t)for(let d in t){if(Bs(d))continue;const u=t[d];let c;r&&ke(r,c=bt(d))?!l||!l.includes(c)?s[c]=u:(a||(a={}))[c]=u:Yr(e.emitsOptions,d)||(!(d in o)||u!==o[d])&&(o[d]=u,n=!0)}if(l){const d=_e(s),u=a||Te;for(let c=0;c<l.length;c++){const m=l[c];s[m]=Wo(r,d,m,u[m],e,!ke(u,m))}}return n}function Wo(e,t,s,o,r,l){const n=e[s];if(n!=null){const a=ke(n,"default");if(a&&o===void 0){const d=n.default;if(n.type!==Function&&!n.skipFactory&&de(d)){const{propsDefaults:u}=r;if(s in u)o=u[s];else{const c=cr(r);o=u[s]=d.call(null,t),c()}}else o=d;r.ce&&r.ce._setProp(s,o)}n[0]&&(l&&!a?o=!1:n[1]&&(o===""||o===gs(s))&&(o=!0))}return o}const cc=new WeakMap;function Yl(e,t,s=!1){const o=s?cc:t.propsCache,r=o.get(e);if(r)return r;const l=e.props,n={},a=[];let d=!1;if(!de(e)){const c=m=>{d=!0;const[S,E]=Yl(m,t,!0);Je(n,S),E&&a.push(...E)};!s&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}if(!l&&!d)return Le(e)&&o.set(e,_s),_s;if(ne(l))for(let c=0;c<l.length;c++){const m=bt(l[c]);si(m)&&(n[m]=Te)}else if(l)for(const c in l){const m=bt(c);if(si(m)){const S=l[c],E=n[m]=ne(S)||de(S)?{type:S}:Je({},S),_=E.type;let k=!1,q=!0;if(ne(_))for(let B=0;B<_.length;++B){const H=_[B],z=de(H)&&H.name;if(z==="Boolean"){k=!0;break}else z==="String"&&(q=!1)}else k=de(_)&&_.name==="Boolean";E[0]=k,E[1]=q,(k||ke(E,"default"))&&a.push(m)}}const u=[n,a];return Le(e)&&o.set(e,u),u}function si(e){return e[0]!=="$"&&!Bs(e)}const In=e=>e==="_"||e==="_ctx"||e==="$stable",Cn=e=>ne(e)?e.map(Tt):[Tt(e)],fc=(e,t,s)=>{if(t._n)return t;const o=Ve((...r)=>Cn(t(...r)),s);return o._c=!1,o},Ql=(e,t,s)=>{const o=e._ctx;for(const r in e){if(In(r))continue;const l=e[r];if(de(l))t[r]=fc(r,l,o);else if(l!=null){const n=Cn(l);t[r]=()=>n}}},Zl=(e,t)=>{const s=Cn(t);e.slots.default=()=>s},ea=(e,t,s)=>{for(const o in t)(s||!In(o))&&(e[o]=t[o])},pc=(e,t,s)=>{const o=e.slots=Wl();if(e.vnode.shapeFlag&32){const r=t._;r?(ea(o,t,s),s&&ul(o,"_",r,!0)):Ql(t,o)}else t&&Zl(e,t)},hc=(e,t,s)=>{const{vnode:o,slots:r}=e;let l=!0,n=Te;if(o.shapeFlag&32){const a=t._;a?s&&a===1?l=!1:ea(r,t,s):(l=!t.$stable,Ql(t,r)),n=t}else t&&(Zl(e,t),n={default:1});if(l)for(const a in r)!In(a)&&n[a]==null&&delete r[a]},ft=Pc;function mc(e){return gc(e)}function gc(e,t){const s=Gr();s.__VUE__=!0;const{insert:o,remove:r,patchProp:l,createElement:n,createText:a,createComment:d,setText:u,setElementText:c,parentNode:m,nextSibling:S,setScopeId:E=wt,insertStaticContent:_}=e,k=(g,y,w,A=null,P=null,R=null,K=void 0,L=null,U=!!y.dynamicChildren)=>{if(g===y)return;g&&!Us(g,y)&&(A=O(g),Pe(g,P,R,!0),g=null),y.patchFlag===-2&&(U=!1,y.dynamicChildren=null);const{type:$,ref:V,shapeFlag:J}=y;switch($){case Qr:q(g,y,w,A);break;case os:B(g,y,w,A);break;case _r:g==null&&H(y,w,A,K);break;case Q:Me(g,y,w,A,P,R,K,L,U);break;default:J&1?re(g,y,w,A,P,R,K,L,U):J&6?Re(g,y,w,A,P,R,K,L,U):(J&64||J&128)&&$.process(g,y,w,A,P,R,K,L,U,G)}V!=null&&P?Gs(V,g&&g.ref,R,y||g,!y):V==null&&g&&g.ref!=null&&Gs(g.ref,null,R,g,!0)},q=(g,y,w,A)=>{if(g==null)o(y.el=a(y.children),w,A);else{const P=y.el=g.el;y.children!==g.children&&u(P,y.children)}},B=(g,y,w,A)=>{g==null?o(y.el=d(y.children||""),w,A):y.el=g.el},H=(g,y,w,A)=>{[g.el,g.anchor]=_(g.children,y,w,A,g.el,g.anchor)},z=({el:g,anchor:y},w,A)=>{let P;for(;g&&g!==y;)P=S(g),o(g,w,A),g=P;o(y,w,A)},N=({el:g,anchor:y})=>{let w;for(;g&&g!==y;)w=S(g),r(g),g=w;r(y)},re=(g,y,w,A,P,R,K,L,U)=>{y.type==="svg"?K="svg":y.type==="math"&&(K="mathml"),g==null?ve(y,w,A,P,R,K,L,U):oe(g,y,P,R,K,L,U)},ve=(g,y,w,A,P,R,K,L)=>{let U,$;const{props:V,shapeFlag:J,transition:se,dirs:ae}=g;if(U=g.el=n(g.type,R,V&&V.is,V),J&8?c(U,g.children):J&16&&ue(g.children,U,null,A,P,qo(g,R),K,L),ae&&as(g,null,A,"created"),le(U,g,g.scopeId,K,A),V){for(const Oe in V)Oe!=="value"&&!Bs(Oe)&&l(U,Oe,null,V[Oe],R,A);"value"in V&&l(U,"value",null,V.value,R),($=V.onVnodeBeforeMount)&&Ot($,A,g)}ae&&as(g,null,A,"beforeMount");const me=vc(P,se);me&&se.beforeEnter(U),o(U,y,w),(($=V&&V.onVnodeMounted)||me||ae)&&ft(()=>{$&&Ot($,A,g),me&&se.enter(U),ae&&as(g,null,A,"mounted")},P)},le=(g,y,w,A,P)=>{if(w&&E(g,w),A)for(let R=0;R<A.length;R++)E(g,A[R]);if(P){let R=P.subTree;if(y===R||ia(R.type)&&(R.ssContent===y||R.ssFallback===y)){const K=P.vnode;le(g,K,K.scopeId,K.slotScopeIds,P.parent)}}},ue=(g,y,w,A,P,R,K,L,U=0)=>{for(let $=U;$<g.length;$++){const V=g[$]=L?Xt(g[$]):Tt(g[$]);k(null,V,y,w,A,P,R,K,L)}},oe=(g,y,w,A,P,R,K)=>{const L=y.el=g.el;let{patchFlag:U,dynamicChildren:$,dirs:V}=y;U|=g.patchFlag&16;const J=g.props||Te,se=y.props||Te;let ae;if(w&&us(w,!1),(ae=se.onVnodeBeforeUpdate)&&Ot(ae,w,y,g),V&&as(y,g,w,"beforeUpdate"),w&&us(w,!0),(J.innerHTML&&se.innerHTML==null||J.textContent&&se.textContent==null)&&c(L,""),$?ye(g.dynamicChildren,$,L,w,A,qo(y,P),R):K||M(g,y,L,null,w,A,qo(y,P),R,!1),U>0){if(U&16)$e(L,J,se,w,P);else if(U&2&&J.class!==se.class&&l(L,"class",null,se.class,P),U&4&&l(L,"style",J.style,se.style,P),U&8){const me=y.dynamicProps;for(let Oe=0;Oe<me.length;Oe++){const Ee=me[Oe],Ze=J[Ee],We=se[Ee];(We!==Ze||Ee==="value")&&l(L,Ee,Ze,We,P,w)}}U&1&&g.children!==y.children&&c(L,y.children)}else!K&&$==null&&$e(L,J,se,w,P);((ae=se.onVnodeUpdated)||V)&&ft(()=>{ae&&Ot(ae,w,y,g),V&&as(y,g,w,"updated")},A)},ye=(g,y,w,A,P,R,K)=>{for(let L=0;L<y.length;L++){const U=g[L],$=y[L],V=U.el&&(U.type===Q||!Us(U,$)||U.shapeFlag&198)?m(U.el):w;k(U,$,V,null,A,P,R,K,!0)}},$e=(g,y,w,A,P)=>{if(y!==w){if(y!==Te)for(const R in y)!Bs(R)&&!(R in w)&&l(g,R,y[R],null,P,A);for(const R in w){if(Bs(R))continue;const K=w[R],L=y[R];K!==L&&R!=="value"&&l(g,R,L,K,P,A)}"value"in w&&l(g,"value",y.value,w.value,P)}},Me=(g,y,w,A,P,R,K,L,U)=>{const $=y.el=g?g.el:a(""),V=y.anchor=g?g.anchor:a("");let{patchFlag:J,dynamicChildren:se,slotScopeIds:ae}=y;ae&&(L=L?L.concat(ae):ae),g==null?(o($,w,A),o(V,w,A),ue(y.children||[],w,V,P,R,K,L,U)):J>0&&J&64&&se&&g.dynamicChildren?(ye(g.dynamicChildren,se,w,P,R,K,L),(y.key!=null||P&&y===P.subTree)&&ta(g,y,!0)):M(g,y,w,V,P,R,K,L,U)},Re=(g,y,w,A,P,R,K,L,U)=>{y.slotScopeIds=L,g==null?y.shapeFlag&512?P.ctx.activate(y,w,A,K,U):we(y,w,A,P,R,K,U):Ue(g,y,U)},we=(g,y,w,A,P,R,K)=>{const L=g.component=Lc(g,A,P);if(Fl(g)&&(L.ctx.renderer=G),$c(L,!1,K),L.asyncDep){if(P&&P.registerDep(L,ie,K),!g.el){const U=L.subTree=qe(os);B(null,U,y,w),g.placeholder=U.el}}else ie(L,g,y,w,P,R,K)},Ue=(g,y,w)=>{const A=y.component=g.component;if(jc(g,y,w))if(A.asyncDep&&!A.asyncResolved){F(A,y,w);return}else A.next=y,A.update();else y.el=g.el,A.vnode=y},ie=(g,y,w,A,P,R,K)=>{const L=()=>{if(g.isMounted){let{next:J,bu:se,u:ae,parent:me,vnode:Oe}=g;{const tt=sa(g);if(tt){J&&(J.el=Oe.el,F(g,J,K)),tt.asyncDep.then(()=>{g.isUnmounted||L()});return}}let Ee=J,Ze;us(g,!1),J?(J.el=Oe.el,F(g,J,K)):J=Oe,se&&Sr(se),(Ze=J.props&&J.props.onVnodeBeforeUpdate)&&Ot(Ze,me,J,Oe),us(g,!0);const We=Do(g),et=g.subTree;g.subTree=We,k(et,We,m(et.el),O(et),g,P,R),J.el=We.el,Ee===null&&kc(g,We.el),ae&&ft(ae,P),(Ze=J.props&&J.props.onVnodeUpdated)&&ft(()=>Ot(Ze,me,J,Oe),P)}else{let J;const{el:se,props:ae}=y,{bm:me,m:Oe,parent:Ee,root:Ze,type:We}=g,et=Ks(y);if(us(g,!1),me&&Sr(me),!et&&(J=ae&&ae.onVnodeBeforeMount)&&Ot(J,Ee,y),us(g,!0),se&&Ce){const tt=()=>{g.subTree=Do(g),Ce(se,g.subTree,g,P,null)};et&&We.__asyncHydrate?We.__asyncHydrate(se,g,tt):tt()}else{Ze.ce&&Ze.ce._def.shadowRoot!==!1&&Ze.ce._injectChildStyle(We);const tt=g.subTree=Do(g);k(null,tt,w,A,g,P,R),y.el=tt.el}if(Oe&&ft(Oe,P),!et&&(J=ae&&ae.onVnodeMounted)){const tt=y;ft(()=>Ot(J,Ee,tt),P)}(y.shapeFlag&256||Ee&&Ks(Ee.vnode)&&Ee.vnode.shapeFlag&256)&&g.a&&ft(g.a,P),g.isMounted=!0,y=w=A=null}};g.scope.on();const U=g.effect=new gl(L);g.scope.off();const $=g.update=U.run.bind(U),V=g.job=U.runIfDirty.bind(U);V.i=g,V.id=g.uid,U.scheduler=()=>En(V),us(g,!0),$()},F=(g,y,w)=>{y.component=g;const A=g.vnode.props;g.vnode=y,g.next=null,dc(g,y.props,A,w),hc(g,y.children,w),Bt(),Jn(g),Ht()},M=(g,y,w,A,P,R,K,L,U=!1)=>{const $=g&&g.children,V=g?g.shapeFlag:0,J=y.children,{patchFlag:se,shapeFlag:ae}=y;if(se>0){if(se&128){pe($,J,w,A,P,R,K,L,U);return}else if(se&256){De($,J,w,A,P,R,K,L,U);return}}ae&8?(V&16&&Qe($,P,R),J!==$&&c(w,J)):V&16?ae&16?pe($,J,w,A,P,R,K,L,U):Qe($,P,R,!0):(V&8&&c(w,""),ae&16&&ue(J,w,A,P,R,K,L,U))},De=(g,y,w,A,P,R,K,L,U)=>{g=g||_s,y=y||_s;const $=g.length,V=y.length,J=Math.min($,V);let se;for(se=0;se<J;se++){const ae=y[se]=U?Xt(y[se]):Tt(y[se]);k(g[se],ae,w,null,P,R,K,L,U)}$>V?Qe(g,P,R,!0,!1,J):ue(y,w,A,P,R,K,L,U,J)},pe=(g,y,w,A,P,R,K,L,U)=>{let $=0;const V=y.length;let J=g.length-1,se=V-1;for(;$<=J&&$<=se;){const ae=g[$],me=y[$]=U?Xt(y[$]):Tt(y[$]);if(Us(ae,me))k(ae,me,w,null,P,R,K,L,U);else break;$++}for(;$<=J&&$<=se;){const ae=g[J],me=y[se]=U?Xt(y[se]):Tt(y[se]);if(Us(ae,me))k(ae,me,w,null,P,R,K,L,U);else break;J--,se--}if($>J){if($<=se){const ae=se+1,me=ae<V?y[ae].el:A;for(;$<=se;)k(null,y[$]=U?Xt(y[$]):Tt(y[$]),w,me,P,R,K,L,U),$++}}else if($>se)for(;$<=J;)Pe(g[$],P,R,!0),$++;else{const ae=$,me=$,Oe=new Map;for($=me;$<=se;$++){const He=y[$]=U?Xt(y[$]):Tt(y[$]);He.key!=null&&Oe.set(He.key,$)}let Ee,Ze=0;const We=se-me+1;let et=!1,tt=0;const Gt=new Array(We);for($=0;$<We;$++)Gt[$]=0;for($=ae;$<=J;$++){const He=g[$];if(Ze>=We){Pe(He,P,R,!0);continue}let gt;if(He.key!=null)gt=Oe.get(He.key);else for(Ee=me;Ee<=se;Ee++)if(Gt[Ee-me]===0&&Us(He,y[Ee])){gt=Ee;break}gt===void 0?Pe(He,P,R,!0):(Gt[gt-me]=$+1,gt>=tt?tt=gt:et=!0,k(He,y[gt],w,null,P,R,K,L,U),Ze++)}const Rs=et?yc(Gt):_s;for(Ee=Rs.length-1,$=We-1;$>=0;$--){const He=me+$,gt=y[He],mr=y[He+1],As=He+1<V?mr.el||mr.placeholder:A;Gt[$]===0?k(null,gt,w,As,P,R,K,L,U):et&&(Ee<0||$!==Rs[Ee]?Ie(gt,w,As,2):Ee--)}}},Ie=(g,y,w,A,P=null)=>{const{el:R,type:K,transition:L,children:U,shapeFlag:$}=g;if($&6){Ie(g.component.subTree,y,w,A);return}if($&128){g.suspense.move(y,w,A);return}if($&64){K.move(g,y,w,G);return}if(K===Q){o(R,y,w);for(let J=0;J<U.length;J++)Ie(U[J],y,w,A);o(g.anchor,y,w);return}if(K===_r){z(g,y,w);return}if(A!==2&&$&1&&L)if(A===0)L.beforeEnter(R),o(R,y,w),ft(()=>L.enter(R),P);else{const{leave:J,delayLeave:se,afterLeave:ae}=L,me=()=>{g.ctx.isUnmounted?r(R):o(R,y,w)},Oe=()=>{R._isLeaving&&R[Nd](!0),J(R,()=>{me(),ae&&ae()})};se?se(R,me,Oe):Oe()}else o(R,y,w)},Pe=(g,y,w,A=!1,P=!1)=>{const{type:R,props:K,ref:L,children:U,dynamicChildren:$,shapeFlag:V,patchFlag:J,dirs:se,cacheIndex:ae}=g;if(J===-2&&(P=!1),L!=null&&(Bt(),Gs(L,null,w,g,!0),Ht()),ae!=null&&(y.renderCache[ae]=void 0),V&256){y.ctx.deactivate(g);return}const me=V&1&&se,Oe=!Ks(g);let Ee;if(Oe&&(Ee=K&&K.onVnodeBeforeUnmount)&&Ot(Ee,y,g),V&6)Se(g.component,w,A);else{if(V&128){g.suspense.unmount(w,A);return}me&&as(g,null,y,"beforeUnmount"),V&64?g.type.remove(g,y,w,G,A):$&&!$.hasOnce&&(R!==Q||J>0&&J&64)?Qe($,y,w,!1,!0):(R===Q&&J&384||!P&&V&16)&&Qe(U,y,w),A&&Ye(g)}(Oe&&(Ee=K&&K.onVnodeUnmounted)||me)&&ft(()=>{Ee&&Ot(Ee,y,g),me&&as(g,null,y,"unmounted")},w)},Ye=g=>{const{type:y,el:w,anchor:A,transition:P}=g;if(y===Q){fe(w,A);return}if(y===_r){N(g);return}const R=()=>{r(w),P&&!P.persisted&&P.afterLeave&&P.afterLeave()};if(g.shapeFlag&1&&P&&!P.persisted){const{leave:K,delayLeave:L}=P,U=()=>K(w,R);L?L(g.el,R,U):U()}else R()},fe=(g,y)=>{let w;for(;g!==y;)w=S(g),r(g),g=w;r(y)},Se=(g,y,w)=>{const{bum:A,scope:P,job:R,subTree:K,um:L,m:U,a:$}=g;ri(U),ri($),A&&Sr(A),P.stop(),R&&(R.flags|=8,Pe(K,g,y,w)),L&&ft(L,y),ft(()=>{g.isUnmounted=!0},y)},Qe=(g,y,w,A=!1,P=!1,R=0)=>{for(let K=R;K<g.length;K++)Pe(g[K],y,w,A,P)},O=g=>{if(g.shapeFlag&6)return O(g.component.subTree);if(g.shapeFlag&128)return g.suspense.next();const y=S(g.anchor||g.el),w=y&&y[Md];return w?S(w):y};let X=!1;const W=(g,y,w)=>{g==null?y._vnode&&Pe(y._vnode,null,null,!0):k(y._vnode||null,g,y,null,null,null,w),y._vnode=g,X||(X=!0,Jn(),Ll(),X=!1)},G={p:k,um:Pe,m:Ie,r:Ye,mt:we,mc:ue,pc:M,pbc:ye,n:O,o:e};let be,Ce;return t&&([be,Ce]=t(G)),{render:W,hydrate:be,createApp:lc(W,be)}}function qo({type:e,props:t},s){return s==="svg"&&e==="foreignObject"||s==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:s}function us({effect:e,job:t},s){s?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function vc(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function ta(e,t,s=!1){const o=e.children,r=t.children;if(ne(o)&&ne(r))for(let l=0;l<o.length;l++){const n=o[l];let a=r[l];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=r[l]=Xt(r[l]),a.el=n.el),!s&&a.patchFlag!==-2&&ta(n,a)),a.type===Qr&&a.patchFlag!==-1&&(a.el=n.el),a.type===os&&!a.el&&(a.el=n.el)}}function yc(e){const t=e.slice(),s=[0];let o,r,l,n,a;const d=e.length;for(o=0;o<d;o++){const u=e[o];if(u!==0){if(r=s[s.length-1],e[r]<u){t[o]=r,s.push(o);continue}for(l=0,n=s.length-1;l<n;)a=l+n>>1,e[s[a]]<u?l=a+1:n=a;u<e[s[l]]&&(l>0&&(t[o]=s[l-1]),s[l]=o)}}for(l=s.length,n=s[l-1];l-- >0;)s[l]=n,n=t[n];return s}function sa(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:sa(t)}function ri(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const bc=Symbol.for("v-scx"),Sc=()=>yt(bc);function pt(e,t,s){return ra(e,t,s)}function ra(e,t,s=Te){const{immediate:o,deep:r,flush:l,once:n}=s,a=Je({},s),d=t&&o||!t&&l!=="post";let u;if(rr){if(l==="sync"){const E=Sc();u=E.__watcherHandles||(E.__watcherHandles=[])}else if(!d){const E=()=>{};return E.stop=wt,E.resume=wt,E.pause=wt,E}}const c=ot;a.call=(E,_,k)=>At(E,c,_,k);let m=!1;l==="post"?a.scheduler=E=>{ft(E,c&&c.suspense)}:l!=="sync"&&(m=!0,a.scheduler=(E,_)=>{_?E():En(E)}),a.augmentJob=E=>{t&&(E.flags|=4),m&&(E.flags|=2,c&&(E.id=c.uid,E.i=c))};const S=Rd(e,t,a);return rr&&(u?u.push(S):d&&S()),S}function Ec(e,t,s){const o=this.proxy,r=ze(e)?e.includes(".")?oa(o,e):()=>o[e]:e.bind(o,o);let l;de(t)?l=t:(l=t.handler,s=t);const n=cr(this),a=ra(r,l.bind(o),s);return n(),a}function oa(e,t){const s=t.split(".");return()=>{let o=e;for(let r=0;r<s.length&&o;r++)o=o[s[r]];return o}}const _c=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${bt(t)}Modifiers`]||e[`${gs(t)}Modifiers`];function wc(e,t,...s){if(e.isUnmounted)return;const o=e.vnode.props||Te;let r=s;const l=t.startsWith("update:"),n=l&&_c(o,t.slice(7));n&&(n.trim&&(r=s.map(c=>ze(c)?c.trim():c)),n.number&&(r=s.map(Pr)));let a,d=o[a=Co(t)]||o[a=Co(bt(t))];!d&&l&&(d=o[a=Co(gs(t))]),d&&At(d,e,6,r);const u=o[a+"Once"];if(u){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,At(u,e,6,r)}}const Ic=new WeakMap;function na(e,t,s=!1){const o=s?Ic:t.emitsCache,r=o.get(e);if(r!==void 0)return r;const l=e.emits;let n={},a=!1;if(!de(e)){const d=u=>{const c=na(u,t,!0);c&&(a=!0,Je(n,c))};!s&&t.mixins.length&&t.mixins.forEach(d),e.extends&&d(e.extends),e.mixins&&e.mixins.forEach(d)}return!l&&!a?(Le(e)&&o.set(e,null),null):(ne(l)?l.forEach(d=>n[d]=null):Je(n,l),Le(e)&&o.set(e,n),n)}function Yr(e,t){return!e||!Br(t)?!1:(t=t.slice(2).replace(/Once$/,""),ke(e,t[0].toLowerCase()+t.slice(1))||ke(e,gs(t))||ke(e,t))}function Do(e){const{type:t,vnode:s,proxy:o,withProxy:r,propsOptions:[l],slots:n,attrs:a,emit:d,render:u,renderCache:c,props:m,data:S,setupState:E,ctx:_,inheritAttrs:k}=e,q=Rr(e);let B,H;try{if(s.shapeFlag&4){const N=r||o,re=N;B=Tt(u.call(re,N,c,m,E,S,_)),H=a}else{const N=t;B=Tt(N.length>1?N(m,{attrs:a,slots:n,emit:d}):N(m,null)),H=t.props?a:Cc(a)}}catch(N){Js.length=0,Wr(N,e,1),B=qe(os)}let z=B;if(H&&k!==!1){const N=Object.keys(H),{shapeFlag:re}=z;N.length&&re&7&&(l&&N.some(un)&&(H=xc(H,l)),z=xs(z,H,!1,!0))}return s.dirs&&(z=xs(z,null,!1,!0),z.dirs=z.dirs?z.dirs.concat(s.dirs):s.dirs),s.transition&&_n(z,s.transition),B=z,Rr(q),B}const Cc=e=>{let t;for(const s in e)(s==="class"||s==="style"||Br(s))&&((t||(t={}))[s]=e[s]);return t},xc=(e,t)=>{const s={};for(const o in e)(!un(o)||!(o.slice(9)in t))&&(s[o]=e[o]);return s};function jc(e,t,s){const{props:o,children:r,component:l}=e,{props:n,children:a,patchFlag:d}=t,u=l.emitsOptions;if(t.dirs||t.transition)return!0;if(s&&d>=0){if(d&1024)return!0;if(d&16)return o?oi(o,n,u):!!n;if(d&8){const c=t.dynamicProps;for(let m=0;m<c.length;m++){const S=c[m];if(n[S]!==o[S]&&!Yr(u,S))return!0}}}else return(r||a)&&(!a||!a.$stable)?!0:o===n?!1:o?n?oi(o,n,u):!0:!!n;return!1}function oi(e,t,s){const o=Object.keys(t);if(o.length!==Object.keys(e).length)return!0;for(let r=0;r<o.length;r++){const l=o[r];if(t[l]!==e[l]&&!Yr(s,l))return!0}return!1}function kc({vnode:e,parent:t},s){for(;t;){const o=t.subTree;if(o.suspense&&o.suspense.activeBranch===e&&(o.el=e.el),o===e)(e=t.vnode).el=s,t=t.parent;else break}}const ia=e=>e.__isSuspense;function Pc(e,t){t&&t.pendingBranch?ne(e)?t.effects.push(...e):t.effects.push(e):$d(e)}const Q=Symbol.for("v-fgt"),Qr=Symbol.for("v-txt"),os=Symbol.for("v-cmt"),_r=Symbol.for("v-stc"),Js=[];let mt=null;function p(e=!1){Js.push(mt=e?null:[])}function Oc(){Js.pop(),mt=Js[Js.length-1]||null}let sr=1;function Mr(e,t=!1){sr+=e,e<0&&mt&&t&&(mt.hasOnce=!0)}function la(e){return e.dynamicChildren=sr>0?mt||_s:null,Oc(),sr>0&&mt&&mt.push(e),e}function h(e,t,s,o,r,l){return la(i(e,t,s,o,r,l,!0))}function cs(e,t,s,o,r){return la(qe(e,t,s,o,r,!0))}function Ur(e){return e?e.__v_isVNode===!0:!1}function Us(e,t){return e.type===t.type&&e.key===t.key}const aa=({key:e})=>e??null,wr=({ref:e,ref_key:t,ref_for:s})=>(typeof e=="number"&&(e=""+e),e!=null?ze(e)||Be(e)||de(e)?{i:ht,r:e,k:t,f:!!s}:e:null);function i(e,t=null,s=null,o=0,r=null,l=e===Q?0:1,n=!1,a=!1){const d={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&aa(t),ref:t&&wr(t),scopeId:Ml,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:l,patchFlag:o,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:ht};return a?(xn(d,s),l&128&&e.normalize(d)):s&&(d.shapeFlag|=ze(s)?8:16),sr>0&&!n&&mt&&(d.patchFlag>0||l&6)&&d.patchFlag!==32&&mt.push(d),d}const qe=qc;function qc(e,t=null,s=null,o=0,r=null,l=!1){if((!e||e===Qd)&&(e=os),Ur(e)){const a=xs(e,t,!0);return s&&xn(a,s),sr>0&&!l&&mt&&(a.shapeFlag&6?mt[mt.indexOf(e)]=a:mt.push(a)),a.patchFlag=-2,a}if(Vc(e)&&(e=e.__vccOpts),t){t=Dc(t);let{class:a,style:d}=t;a&&!ze(a)&&(t.class=ut(a)),Le(d)&&(bn(d)&&!ne(d)&&(d=Je({},d)),t.style=es(d))}const n=ze(e)?1:ia(e)?128:Ud(e)?64:Le(e)?4:de(e)?2:0;return i(e,t,s,o,r,n,l,!0)}function Dc(e){return e?bn(e)||Jl(e)?Je({},e):e:null}function xs(e,t,s=!1,o=!1){const{props:r,ref:l,patchFlag:n,children:a,transition:d}=e,u=t?Tc(r||{},t):r,c={__v_isVNode:!0,__v_skip:!0,type:e.type,props:u,key:u&&aa(u),ref:t&&t.ref?s&&l?ne(l)?l.concat(wr(t)):[l,wr(t)]:wr(t):l,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Q?n===-1?16:n|16:n,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:d,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&xs(e.ssContent),ssFallback:e.ssFallback&&xs(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return d&&o&&_n(c,d.clone(c)),c}function D(e=" ",t=0){return qe(Qr,null,e,t)}function ns(e,t){const s=qe(_r,null,e);return s.staticCount=t,s}function I(e="",t=!1){return t?(p(),cs(os,null,e)):qe(os,null,e)}function Tt(e){return e==null||typeof e=="boolean"?qe(os):ne(e)?qe(Q,null,e.slice()):Ur(e)?Xt(e):qe(Qr,null,String(e))}function Xt(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:xs(e)}function xn(e,t){let s=0;const{shapeFlag:o}=e;if(t==null)t=null;else if(ne(t))s=16;else if(typeof t=="object")if(o&65){const r=t.default;r&&(r._c&&(r._d=!1),xn(e,r()),r._c&&(r._d=!0));return}else{s=32;const r=t._;!r&&!Jl(t)?t._ctx=ht:r===3&&ht&&(ht.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else de(t)?(t={default:t,_ctx:ht},s=32):(t=String(t),o&64?(s=16,t=[D(t)]):s=8);e.children=t,e.shapeFlag|=s}function Tc(...e){const t={};for(let s=0;s<e.length;s++){const o=e[s];for(const r in o)if(r==="class")t.class!==o.class&&(t.class=ut([t.class,o.class]));else if(r==="style")t.style=es([t.style,o.style]);else if(Br(r)){const l=t[r],n=o[r];n&&l!==n&&!(ne(l)&&l.includes(n))&&(t[r]=l?[].concat(l,n):n)}else r!==""&&(t[r]=o[r])}return t}function Ot(e,t,s,o=null){At(e,t,7,[s,o])}const Rc=Gl();let Ac=0;function Lc(e,t,s){const o=e.type,r=(t?t.appContext:e.appContext)||Rc,l={uid:Ac++,vnode:e,type:o,parent:t,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new pl(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(r.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Yl(o,r),emitsOptions:na(o,r),emit:null,emitted:null,propsDefaults:Te,inheritAttrs:o.inheritAttrs,ctx:Te,data:Te,props:Te,attrs:Te,slots:Te,refs:Te,setupState:Te,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return l.ctx={_:l},l.root=t?t.root:l,l.emit=wc.bind(null,l),e.ce&&e.ce(l),l}let ot=null;const ua=()=>ot||ht;let Nr,Jo;{const e=Gr(),t=(s,o)=>{let r;return(r=e[s])||(r=e[s]=[]),r.push(o),l=>{r.length>1?r.forEach(n=>n(l)):r[0](l)}};Nr=t("__VUE_INSTANCE_SETTERS__",s=>ot=s),Jo=t("__VUE_SSR_SETTERS__",s=>rr=s)}const cr=e=>{const t=ot;return Nr(e),e.scope.on(),()=>{e.scope.off(),Nr(t)}},ni=()=>{ot&&ot.scope.off(),Nr(null)};function da(e){return e.vnode.shapeFlag&4}let rr=!1;function $c(e,t=!1,s=!1){t&&Jo(t);const{props:o,children:r}=e.vnode,l=da(e);uc(e,o,l,t),pc(e,r,s||t);const n=l?Mc(e,t):void 0;return t&&Jo(!1),n}function Mc(e,t){const s=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,ec);const{setup:o}=s;if(o){Bt();const r=e.setupContext=o.length>1?Nc(e):null,l=cr(e),n=dr(o,e,0,[e.props,r]),a=il(n);if(Ht(),l(),(a||e.sp)&&!Ks(e)&&Nl(e),a){if(n.then(ni,ni),t)return n.then(d=>{ii(e,d,t)}).catch(d=>{Wr(d,e,0)});e.asyncDep=n}else ii(e,n,t)}else ca(e,t)}function ii(e,t,s){de(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Le(t)&&(e.setupState=Tl(t)),ca(e,s)}let li;function ca(e,t,s){const o=e.type;if(!e.render){if(!t&&li&&!o.render){const r=o.template||wn(e).template;if(r){const{isCustomElement:l,compilerOptions:n}=e.appContext.config,{delimiters:a,compilerOptions:d}=o,u=Je(Je({isCustomElement:l,delimiters:a},n),d);o.render=li(r,u)}}e.render=o.render||wt}{const r=cr(e);Bt();try{tc(e)}finally{Ht(),r()}}}const Uc={get(e,t){return rt(e,"get",""),e[t]}};function Nc(e){const t=s=>{e.exposed=s||{}};return{attrs:new Proxy(e.attrs,Uc),slots:e.slots,emit:e.emit,expose:t}}function Zr(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(Tl(Sn(e.exposed)),{get(t,s){if(s in t)return t[s];if(s in Ws)return Ws[s](e)},has(t,s){return s in t||s in Ws}})):e.proxy}function Fc(e,t=!0){return de(e)?e.displayName||e.name:e.name||t&&e.__name}function Vc(e){return de(e)&&"__vccOpts"in e}const Ne=(e,t)=>Dd(e,t,rr);function fa(e,t,s){const o=(l,n,a)=>{Mr(-1);try{return qe(l,n,a)}finally{Mr(1)}},r=arguments.length;return r===2?Le(t)&&!ne(t)?Ur(t)?o(e,null,[t]):o(e,t):o(e,null,t):(r>3?s=Array.prototype.slice.call(arguments,2):r===3&&Ur(s)&&(s=[s]),o(e,t,s))}const Bc="3.5.21";/**
* @vue/runtime-dom v3.5.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Xo;const ai=typeof window<"u"&&window.trustedTypes;if(ai)try{Xo=ai.createPolicy("vue",{createHTML:e=>e})}catch{}const pa=Xo?e=>Xo.createHTML(e):e=>e,Hc="http://www.w3.org/2000/svg",zc="http://www.w3.org/1998/Math/MathML",Ut=typeof document<"u"?document:null,ui=Ut&&Ut.createElement("template"),Gc={insert:(e,t,s)=>{t.insertBefore(e,s||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,s,o)=>{const r=t==="svg"?Ut.createElementNS(Hc,e):t==="mathml"?Ut.createElementNS(zc,e):s?Ut.createElement(e,{is:s}):Ut.createElement(e);return e==="select"&&o&&o.multiple!=null&&r.setAttribute("multiple",o.multiple),r},createText:e=>Ut.createTextNode(e),createComment:e=>Ut.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Ut.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,s,o,r,l){const n=s?s.previousSibling:t.lastChild;if(r&&(r===l||r.nextSibling))for(;t.insertBefore(r.cloneNode(!0),s),!(r===l||!(r=r.nextSibling)););else{ui.innerHTML=pa(o==="svg"?`<svg>${e}</svg>`:o==="mathml"?`<math>${e}</math>`:e);const a=ui.content;if(o==="svg"||o==="mathml"){const d=a.firstChild;for(;d.firstChild;)a.appendChild(d.firstChild);a.removeChild(d)}t.insertBefore(a,s)}return[n?n.nextSibling:t.firstChild,s?s.previousSibling:t.lastChild]}},Kc=Symbol("_vtc");function Wc(e,t,s){const o=e[Kc];o&&(t=(t?[t,...o]:[...o]).join(" ")),t==null?e.removeAttribute("class"):s?e.setAttribute("class",t):e.className=t}const di=Symbol("_vod"),Jc=Symbol("_vsh"),Xc=Symbol(""),Yc=/(?:^|;)\s*display\s*:/;function Qc(e,t,s){const o=e.style,r=ze(s);let l=!1;if(s&&!r){if(t)if(ze(t))for(const n of t.split(";")){const a=n.slice(0,n.indexOf(":")).trim();s[a]==null&&Ir(o,a,"")}else for(const n in t)s[n]==null&&Ir(o,n,"");for(const n in s)n==="display"&&(l=!0),Ir(o,n,s[n])}else if(r){if(t!==s){const n=o[Xc];n&&(s+=";"+n),o.cssText=s,l=Yc.test(s)}}else t&&e.removeAttribute("style");di in e&&(e[di]=l?o.display:"",e[Jc]&&(o.display="none"))}const ci=/\s*!important$/;function Ir(e,t,s){if(ne(s))s.forEach(o=>Ir(e,t,o));else if(s==null&&(s=""),t.startsWith("--"))e.setProperty(t,s);else{const o=Zc(e,t);ci.test(s)?e.setProperty(gs(o),s.replace(ci,""),"important"):e[o]=s}}const fi=["Webkit","Moz","ms"],To={};function Zc(e,t){const s=To[t];if(s)return s;let o=bt(t);if(o!=="filter"&&o in e)return To[t]=o;o=zr(o);for(let r=0;r<fi.length;r++){const l=fi[r]+o;if(l in e)return To[t]=l}return t}const pi="http://www.w3.org/1999/xlink";function hi(e,t,s,o,r,l=rd(t)){o&&t.startsWith("xlink:")?s==null?e.removeAttributeNS(pi,t.slice(6,t.length)):e.setAttributeNS(pi,t,s):s==null||l&&!dl(s)?e.removeAttribute(t):e.setAttribute(t,l?"":Rt(s)?String(s):s)}function mi(e,t,s,o,r){if(t==="innerHTML"||t==="textContent"){s!=null&&(e[t]=t==="innerHTML"?pa(s):s);return}const l=e.tagName;if(t==="value"&&l!=="PROGRESS"&&!l.includes("-")){const a=l==="OPTION"?e.getAttribute("value")||"":e.value,d=s==null?e.type==="checkbox"?"on":"":String(s);(a!==d||!("_value"in e))&&(e.value=d),s==null&&e.removeAttribute(t),e._value=s;return}let n=!1;if(s===""||s==null){const a=typeof e[t];a==="boolean"?s=dl(s):s==null&&a==="string"?(s="",n=!0):a==="number"&&(s=0,n=!0)}try{e[t]=s}catch{}n&&e.removeAttribute(r||t)}function Qt(e,t,s,o){e.addEventListener(t,s,o)}function ef(e,t,s,o){e.removeEventListener(t,s,o)}const gi=Symbol("_vei");function tf(e,t,s,o,r=null){const l=e[gi]||(e[gi]={}),n=l[t];if(o&&n)n.value=o;else{const[a,d]=sf(t);if(o){const u=l[t]=nf(o,r);Qt(e,a,u,d)}else n&&(ef(e,a,n,d),l[t]=void 0)}}const vi=/(?:Once|Passive|Capture)$/;function sf(e){let t;if(vi.test(e)){t={};let o;for(;o=e.match(vi);)e=e.slice(0,e.length-o[0].length),t[o[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):gs(e.slice(2)),t]}let Ro=0;const rf=Promise.resolve(),of=()=>Ro||(rf.then(()=>Ro=0),Ro=Date.now());function nf(e,t){const s=o=>{if(!o._vts)o._vts=Date.now();else if(o._vts<=s.attached)return;At(lf(o,s.value),t,5,[o])};return s.value=e,s.attached=of(),s}function lf(e,t){if(ne(t)){const s=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{s.call(e),e._stopped=!0},t.map(o=>r=>!r._stopped&&o&&o(r))}else return t}const yi=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,af=(e,t,s,o,r,l)=>{const n=r==="svg";t==="class"?Wc(e,o,n):t==="style"?Qc(e,s,o):Br(t)?un(t)||tf(e,t,s,o,l):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):uf(e,t,o,n))?(mi(e,t,o),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&hi(e,t,o,n,l,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!ze(o))?mi(e,bt(t),o,l,t):(t==="true-value"?e._trueValue=o:t==="false-value"&&(e._falseValue=o),hi(e,t,o,n))};function uf(e,t,s,o){if(o)return!!(t==="innerHTML"||t==="textContent"||t in e&&yi(t)&&de(s));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const r=e.tagName;if(r==="IMG"||r==="VIDEO"||r==="CANVAS"||r==="SOURCE")return!1}return yi(t)&&ze(s)?!1:t in e}const js=e=>{const t=e.props["onUpdate:modelValue"]||!1;return ne(t)?s=>Sr(t,s):t};function df(e){e.target.composing=!0}function bi(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Vt=Symbol("_assign"),Z={created(e,{modifiers:{lazy:t,trim:s,number:o}},r){e[Vt]=js(r);const l=o||r.props&&r.props.type==="number";Qt(e,t?"change":"input",n=>{if(n.target.composing)return;let a=e.value;s&&(a=a.trim()),l&&(a=Pr(a)),e[Vt](a)}),s&&Qt(e,"change",()=>{e.value=e.value.trim()}),t||(Qt(e,"compositionstart",df),Qt(e,"compositionend",bi),Qt(e,"change",bi))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:s,modifiers:{lazy:o,trim:r,number:l}},n){if(e[Vt]=js(n),e.composing)return;const a=(l||e.type==="number")&&!/^0\d/.test(e.value)?Pr(e.value):e.value,d=t??"";a!==d&&(document.activeElement===e&&e.type!=="range"&&(o&&t===s||r&&e.value.trim()===d)||(e.value=d))}},cf={deep:!0,created(e,t,s){e[Vt]=js(s),Qt(e,"change",()=>{const o=e._modelValue,r=or(e),l=e.checked,n=e[Vt];if(ne(o)){const a=fn(o,r),d=a!==-1;if(l&&!d)n(o.concat(r));else if(!l&&d){const u=[...o];u.splice(a,1),n(u)}}else if(qs(o)){const a=new Set(o);l?a.add(r):a.delete(r),n(a)}else n(ha(e,l))})},mounted:Si,beforeUpdate(e,t,s){e[Vt]=js(s),Si(e,t,s)}};function Si(e,{value:t,oldValue:s},o){e._modelValue=t;let r;if(ne(t))r=fn(t,o.props.value)>-1;else if(qs(t))r=t.has(o.props.value);else{if(t===s)return;r=ar(t,ha(e,!0))}e.checked!==r&&(e.checked=r)}const he={deep:!0,created(e,{value:t,modifiers:{number:s}},o){const r=qs(t);Qt(e,"change",()=>{const l=Array.prototype.filter.call(e.options,n=>n.selected).map(n=>s?Pr(or(n)):or(n));e[Vt](e.multiple?r?new Set(l):l:l[0]),e._assigning=!0,Jr(()=>{e._assigning=!1})}),e[Vt]=js(o)},mounted(e,{value:t}){Ei(e,t)},beforeUpdate(e,t,s){e[Vt]=js(s)},updated(e,{value:t}){e._assigning||Ei(e,t)}};function Ei(e,t){const s=e.multiple,o=ne(t);if(!(s&&!o&&!qs(t))){for(let r=0,l=e.options.length;r<l;r++){const n=e.options[r],a=or(n);if(s)if(o){const d=typeof a;d==="string"||d==="number"?n.selected=t.some(u=>String(u)===String(a)):n.selected=fn(t,a)>-1}else n.selected=t.has(a);else if(ar(or(n),t)){e.selectedIndex!==r&&(e.selectedIndex=r);return}}!s&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function or(e){return"_value"in e?e._value:e.value}function ha(e,t){const s=t?"_trueValue":"_falseValue";return s in e?e[s]:t}const ff=["ctrl","shift","alt","meta"],pf={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>ff.some(s=>e[`${s}Key`]&&!t.includes(s))},Fe=(e,t)=>{const s=e._withMods||(e._withMods={}),o=t.join(".");return s[o]||(s[o]=(r,...l)=>{for(let n=0;n<t.length;n++){const a=pf[t[n]];if(a&&a(r,t))return}return e(r,...l)})},hf=Je({patchProp:af},Gc);let _i;function mf(){return _i||(_i=mc(hf))}const gf=(...e)=>{const t=mf().createApp(...e),{mount:s}=t;return t.mount=o=>{const r=yf(o);if(!r)return;const l=t._component;!de(l)&&!l.render&&!l.template&&(l.template=r.innerHTML),r.nodeType===1&&(r.textContent="");const n=s(r,!1,vf(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),n},t};function vf(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function yf(e){return ze(e)?document.querySelector(e):e}/*!
 * pinia v3.0.3
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let ma;const eo=e=>ma=e,ga=Symbol();function Yo(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var Xs;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(Xs||(Xs={}));function bf(){const e=hl(!0),t=e.run(()=>Y({}));let s=[],o=[];const r=Sn({install(l){eo(r),r._a=l,l.provide(ga,r),l.config.globalProperties.$pinia=r,o.forEach(n=>s.push(n)),o=[]},use(l){return this._a?s.push(l):o.push(l),this},_p:s,_a:null,_e:e,_s:new Map,state:t});return r}const va=()=>{};function wi(e,t,s,o=va){e.push(t);const r=()=>{const l=e.indexOf(t);l>-1&&(e.splice(l,1),o())};return!s&&ml()&&nd(r),r}function bs(e,...t){e.slice().forEach(s=>{s(...t)})}const Sf=e=>e(),Ii=Symbol(),Ao=Symbol();function Qo(e,t){e instanceof Map&&t instanceof Map?t.forEach((s,o)=>e.set(o,s)):e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const s in t){if(!t.hasOwnProperty(s))continue;const o=t[s],r=e[s];Yo(r)&&Yo(o)&&e.hasOwnProperty(s)&&!Be(o)&&!ts(o)?e[s]=Qo(r,o):e[s]=o}return e}const Ef=Symbol();function _f(e){return!Yo(e)||!Object.prototype.hasOwnProperty.call(e,Ef)}const{assign:Wt}=Object;function wf(e){return!!(Be(e)&&e.effect)}function If(e,t,s,o){const{state:r,actions:l,getters:n}=t,a=s.state.value[e];let d;function u(){a||(s.state.value[e]=r?r():{});const c=kd(s.state.value[e]);return Wt(c,l,Object.keys(n||{}).reduce((m,S)=>(m[S]=Sn(Ne(()=>{eo(s);const E=s._s.get(e);return n[S].call(E,E)})),m),{}))}return d=ya(e,u,t,s,o,!0),d}function ya(e,t,s={},o,r,l){let n;const a=Wt({actions:{}},s),d={deep:!0};let u,c,m=[],S=[],E;const _=o.state.value[e];!l&&!_&&(o.state.value[e]={}),Y({});let k;function q(ue){let oe;u=c=!1,typeof ue=="function"?(ue(o.state.value[e]),oe={type:Xs.patchFunction,storeId:e,events:E}):(Qo(o.state.value[e],ue),oe={type:Xs.patchObject,payload:ue,storeId:e,events:E});const ye=k=Symbol();Jr().then(()=>{k===ye&&(u=!0)}),c=!0,bs(m,oe,o.state.value[e])}const B=l?function(){const{state:oe}=s,ye=oe?oe():{};this.$patch($e=>{Wt($e,ye)})}:va;function H(){n.stop(),m=[],S=[],o._s.delete(e)}const z=(ue,oe="")=>{if(Ii in ue)return ue[Ao]=oe,ue;const ye=function(){eo(o);const $e=Array.from(arguments),Me=[],Re=[];function we(F){Me.push(F)}function Ue(F){Re.push(F)}bs(S,{args:$e,name:ye[Ao],store:re,after:we,onError:Ue});let ie;try{ie=ue.apply(this&&this.$id===e?this:re,$e)}catch(F){throw bs(Re,F),F}return ie instanceof Promise?ie.then(F=>(bs(Me,F),F)).catch(F=>(bs(Re,F),Promise.reject(F))):(bs(Me,ie),ie)};return ye[Ii]=!0,ye[Ao]=oe,ye},N={_p:o,$id:e,$onAction:wi.bind(null,S),$patch:q,$reset:B,$subscribe(ue,oe={}){const ye=wi(m,ue,oe.detached,()=>$e()),$e=n.run(()=>pt(()=>o.state.value[e],Me=>{(oe.flush==="sync"?c:u)&&ue({storeId:e,type:Xs.direct,events:E},Me)},Wt({},d,oe)));return ye},$dispose:H},re=ur(N);o._s.set(e,re);const le=(o._a&&o._a.runWithContext||Sf)(()=>o._e.run(()=>(n=hl()).run(()=>t({action:z}))));for(const ue in le){const oe=le[ue];if(Be(oe)&&!wf(oe)||ts(oe))l||(_&&_f(oe)&&(Be(oe)?oe.value=_[ue]:Qo(oe,_[ue])),o.state.value[e][ue]=oe);else if(typeof oe=="function"){const ye=z(oe,ue);le[ue]=ye,a.actions[ue]=oe}}return Wt(re,le),Wt(_e(re),le),Object.defineProperty(re,"$state",{get:()=>o.state.value[e],set:ue=>{q(oe=>{Wt(oe,ue)})}}),o._p.forEach(ue=>{Wt(re,n.run(()=>ue({store:re,app:o._a,pinia:o,options:a})))}),_&&l&&s.hydrate&&s.hydrate(re.$state,_),u=!0,c=!0,re}/*! #__NO_SIDE_EFFECTS__ */function Cf(e,t,s){let o;const r=typeof t=="function";o=r?s:t;function l(n,a){const d=ac();return n=n||(d?yt(ga,null):null),n&&eo(n),n=ma,n._s.has(e)||(r?ya(e,t,o,n):If(e,o,n)),n._s.get(e)}return l.$id=e,l}const Ke=(e,t)=>{const s=e.__vccOpts||e;for(const[o,r]of t)s[o]=r;return s},xf={name:"Sidebar",data(){return{user:null,isCollapsed:!1,isMobile:!1}},mounted(){this.loadUser(),this.checkIfMobile(),window.addEventListener("resize",this.checkIfMobile)},beforeUnmount(){window.removeEventListener("resize",this.checkIfMobile)},methods:{loadUser(){const e=localStorage.getItem("user");e&&(this.user=JSON.parse(e))},logout(){localStorage.removeItem("user"),localStorage.removeItem("token"),this.$router.push("/")},toggleSidebar(){this.isCollapsed=!this.isCollapsed},toggleSidebarIfMobile(){this.isMobile&&(this.isCollapsed=!0)},checkIfMobile(){this.isMobile=window.innerWidth<=768,this.isMobile&&(this.isCollapsed=!0)}}},jf={class:"sidebar-brand"},kf={key:0,class:"link-text"},Pf={key:0,class:"menu-icon"},Of={key:1,class:"menu-icon"},qf={class:"sidebar-menu"},Df={class:"sidebar-links"},Tf={key:0,class:"link-text"},Rf={key:0,class:"link-text"},Af={key:0,class:"link-text"},Lf={key:0,class:"link-text"},$f={key:0,class:"link-text"},Mf={key:0,class:"link-text"},Uf={key:0,class:"link-text"},Nf={key:0,class:"link-text"},Ff={key:0,class:"link-text"},Vf={key:0,class:"link-text"},Bf={key:0,class:"link-text"},Hf={class:"sidebar-footer"},zf={key:0,class:"user-info"},Gf={class:"user-name"},Kf={key:0},Wf={key:0,class:"user-role"},Jf={key:0};function Xf(e,t,s,o,r,l){var a,d,u,c,m;const n=rs("router-link");return p(),h("nav",{class:ut(["sidebar",{collapsed:r.isCollapsed}])},[i("div",jf,[qe(n,{to:"/",class:"sidebar-logo"},{default:Ve(()=>[t[2]||(t[2]=i("i",{class:"fas fa-film icon"},null,-1)),r.isCollapsed?I("",!0):(p(),h("span",kf,"Cinema"))]),_:1}),i("button",{onClick:t[0]||(t[0]=(...S)=>l.toggleSidebar&&l.toggleSidebar(...S)),class:"menu-toggle"},[r.isCollapsed?(p(),h("span",Of,[...t[4]||(t[4]=[i("i",{class:"fas fa-arrow-left"},null,-1)])])):(p(),h("span",Pf,[...t[3]||(t[3]=[i("i",{class:"fas fa-bars"},null,-1)])]))])]),i("div",qf,[i("div",Df,[qe(n,{to:"/accueil",class:"sidebar-link",onClick:l.toggleSidebarIfMobile},{default:Ve(()=>[t[5]||(t[5]=i("i",{class:"fas fa-home icon"},null,-1)),r.isCollapsed?I("",!0):(p(),h("span",Tf,"Accueil"))]),_:1},8,["onClick"]),((a=r.user)==null?void 0:a.role)==="ADMIN"?(p(),cs(n,{key:0,to:"/admin",class:"sidebar-link",onClick:l.toggleSidebarIfMobile},{default:Ve(()=>[t[6]||(t[6]=i("i",{class:"fas fa-user-shield icon"},null,-1)),r.isCollapsed?I("",!0):(p(),h("span",Rf,"Admin"))]),_:1},8,["onClick"])):I("",!0),((d=r.user)==null?void 0:d.role)==="SCENARISTE"?(p(),cs(n,{key:1,to:"/scenariste",class:"sidebar-link",onClick:l.toggleSidebarIfMobile},{default:Ve(()=>[t[7]||(t[7]=i("i",{class:"fas fa-pen-fancy icon"},null,-1)),r.isCollapsed?I("",!0):(p(),h("span",Af,"Scnariste"))]),_:1},8,["onClick"])):I("",!0),qe(n,{to:"/creation-comedien",class:"sidebar-link",onClick:l.toggleSidebarIfMobile},{default:Ve(()=>[t[8]||(t[8]=i("i",{class:"fas fa-users icon"},null,-1)),r.isCollapsed?I("",!0):(p(),h("span",Lf,"Gestion Comdiens"))]),_:1},8,["onClick"]),((u=r.user)==null?void 0:u.role)==="ADMIN"?(p(),cs(n,{key:2,to:"/utilisateurs",class:"sidebar-link",onClick:l.toggleSidebarIfMobile},{default:Ve(()=>[t[9]||(t[9]=i("i",{class:"fas fa-users icon"},null,-1)),r.isCollapsed?I("",!0):(p(),h("span",$f,"Utilisateurs"))]),_:1},8,["onClick"])):I("",!0),((c=r.user)==null?void 0:c.role)!=="ADMIN"?(p(),cs(n,{key:3,to:"/statistiques",class:"sidebar-link",onClick:l.toggleSidebarIfMobile},{default:Ve(()=>[t[10]||(t[10]=i("i",{class:"fas fa-chart-bar icon"},null,-1)),r.isCollapsed?I("",!0):(p(),h("span",Mf,"Ecran travail"))]),_:1},8,["onClick"])):I("",!0),qe(n,{to:"/creation-personnage",class:"sidebar-link",onClick:l.toggleSidebarIfMobile},{default:Ve(()=>[t[11]||(t[11]=i("i",{class:"fas fa-user-astronaut icon"},null,-1)),r.isCollapsed?I("",!0):(p(),h("span",Uf,"Gestion Personnages"))]),_:1},8,["onClick"]),qe(n,{to:"/creation-dialogue",class:"sidebar-link",onClick:l.toggleSidebarIfMobile},{default:Ve(()=>[t[12]||(t[12]=i("i",{class:"fas fa-comment-dots icon"},null,-1)),r.isCollapsed?I("",!0):(p(),h("span",Nf,"Gestion Dialogues"))]),_:1},8,["onClick"]),qe(n,{to:"/creation-lieu",class:"sidebar-link",onClick:l.toggleSidebarIfMobile},{default:Ve(()=>[t[13]||(t[13]=i("i",{class:"fas fa-map-marker-alt icon"},null,-1)),r.isCollapsed?I("",!0):(p(),h("span",Ff,"Gestion Lieux"))]),_:1},8,["onClick"]),qe(n,{to:"/creation-plateau",class:"sidebar-link",onClick:l.toggleSidebarIfMobile},{default:Ve(()=>[t[14]||(t[14]=i("i",{class:"fas fa-camera icon"},null,-1)),r.isCollapsed?I("",!0):(p(),h("span",Vf,"Gestion Plateaux"))]),_:1},8,["onClick"]),((m=r.user)==null?void 0:m.role)==="ADMIN"?(p(),cs(n,{key:4,to:"/gestion-equipe",class:"sidebar-link",onClick:l.toggleSidebarIfMobile},{default:Ve(()=>[t[15]||(t[15]=i("i",{class:"fas fa-users-cog icon"},null,-1)),r.isCollapsed?I("",!0):(p(),h("span",Bf,"Gestion quipe"))]),_:1},8,["onClick"])):I("",!0)]),i("div",Hf,[r.user?(p(),h("div",zf,[i("span",Gf,[t[16]||(t[16]=i("i",{class:"fas fa-user-circle icon"},null,-1)),t[17]||(t[17]=D()),r.isCollapsed?I("",!0):(p(),h("span",Kf,v(r.user.nom),1))]),r.isCollapsed?I("",!0):(p(),h("span",Wf,"("+v(r.user.role)+")",1)),i("button",{onClick:t[1]||(t[1]=(...S)=>l.logout&&l.logout(...S)),class:"logout-btn"},[t[18]||(t[18]=i("i",{class:"fas fa-sign-out-alt icon"},null,-1)),r.isCollapsed?I("",!0):(p(),h("span",Jf,"Dconnexion"))])])):I("",!0)])])],2)}const Yf=Ke(xf,[["render",Xf]]);const Qf={name:"App",components:{Navbar:Yf},computed:{showNavbar(){return this.$route.path!=="/"}}},Zf={id:"app"};function ep(e,t,s,o,r,l){const n=rs("Navbar"),a=rs("router-view");return p(),h("div",Zf,[l.showNavbar?(p(),cs(n,{key:0})):I("",!0),qe(a)])}const tp=Ke(Qf,[["render",ep]]),sp="modulepreload",rp=function(e){return"/"+e},Ci={},_t=function(t,s,o){if(!s||s.length===0)return t();const r=document.getElementsByTagName("link");return Promise.all(s.map(l=>{if(l=rp(l),l in Ci)return;Ci[l]=!0;const n=l.endsWith(".css"),a=n?'[rel="stylesheet"]':"";if(!!o)for(let c=r.length-1;c>=0;c--){const m=r[c];if(m.href===l&&(!n||m.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${l}"]${a}`))return;const u=document.createElement("link");if(u.rel=n?"stylesheet":sp,n||(u.as="script",u.crossOrigin=""),u.href=l,document.head.appendChild(u),n)return new Promise((c,m)=>{u.addEventListener("load",c),u.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${l}`)))})})).then(()=>t()).catch(l=>{const n=new Event("vite:preloadError",{cancelable:!0});if(n.payload=l,window.dispatchEvent(n),!n.defaultPrevented)throw l})};/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */const Es=typeof document<"u";function ba(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function op(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&ba(e.default)}const je=Object.assign;function Lo(e,t){const s={};for(const o in t){const r=t[o];s[o]=xt(r)?r.map(e):e(r)}return s}const Ys=()=>{},xt=Array.isArray,Sa=/#/g,np=/&/g,ip=/\//g,lp=/=/g,ap=/\?/g,Ea=/\+/g,up=/%5B/g,dp=/%5D/g,_a=/%5E/g,cp=/%60/g,wa=/%7B/g,fp=/%7C/g,Ia=/%7D/g,pp=/%20/g;function jn(e){return encodeURI(""+e).replace(fp,"|").replace(up,"[").replace(dp,"]")}function hp(e){return jn(e).replace(wa,"{").replace(Ia,"}").replace(_a,"^")}function Zo(e){return jn(e).replace(Ea,"%2B").replace(pp,"+").replace(Sa,"%23").replace(np,"%26").replace(cp,"`").replace(wa,"{").replace(Ia,"}").replace(_a,"^")}function mp(e){return Zo(e).replace(lp,"%3D")}function gp(e){return jn(e).replace(Sa,"%23").replace(ap,"%3F")}function vp(e){return e==null?"":gp(e).replace(ip,"%2F")}function nr(e){try{return decodeURIComponent(""+e)}catch{}return""+e}const yp=/\/$/,bp=e=>e.replace(yp,"");function $o(e,t,s="/"){let o,r={},l="",n="";const a=t.indexOf("#");let d=t.indexOf("?");return a<d&&a>=0&&(d=-1),d>-1&&(o=t.slice(0,d),l=t.slice(d+1,a>-1?a:t.length),r=e(l)),a>-1&&(o=o||t.slice(0,a),n=t.slice(a,t.length)),o=wp(o??t,s),{fullPath:o+(l&&"?")+l+n,path:o,query:r,hash:nr(n)}}function Sp(e,t){const s=t.query?e(t.query):"";return t.path+(s&&"?")+s+(t.hash||"")}function xi(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function Ep(e,t,s){const o=t.matched.length-1,r=s.matched.length-1;return o>-1&&o===r&&ks(t.matched[o],s.matched[r])&&Ca(t.params,s.params)&&e(t.query)===e(s.query)&&t.hash===s.hash}function ks(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function Ca(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const s in e)if(!_p(e[s],t[s]))return!1;return!0}function _p(e,t){return xt(e)?ji(e,t):xt(t)?ji(t,e):e===t}function ji(e,t){return xt(t)?e.length===t.length&&e.every((s,o)=>s===t[o]):e.length===1&&e[0]===t}function wp(e,t){if(e.startsWith("/"))return e;if(!e)return t;const s=t.split("/"),o=e.split("/"),r=o[o.length-1];(r===".."||r===".")&&o.push("");let l=s.length-1,n,a;for(n=0;n<o.length;n++)if(a=o[n],a!==".")if(a==="..")l>1&&l--;else break;return s.slice(0,l).join("/")+"/"+o.slice(n).join("/")}const Kt={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var ir;(function(e){e.pop="pop",e.push="push"})(ir||(ir={}));var Qs;(function(e){e.back="back",e.forward="forward",e.unknown=""})(Qs||(Qs={}));function Ip(e){if(!e)if(Es){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),bp(e)}const Cp=/^[^#]+#/;function xp(e,t){return e.replace(Cp,"#")+t}function jp(e,t){const s=document.documentElement.getBoundingClientRect(),o=e.getBoundingClientRect();return{behavior:t.behavior,left:o.left-s.left-(t.left||0),top:o.top-s.top-(t.top||0)}}const to=()=>({left:window.scrollX,top:window.scrollY});function kp(e){let t;if("el"in e){const s=e.el,o=typeof s=="string"&&s.startsWith("#"),r=typeof s=="string"?o?document.getElementById(s.slice(1)):document.querySelector(s):s;if(!r)return;t=jp(r,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function ki(e,t){return(history.state?history.state.position-t:-1)+e}const en=new Map;function Pp(e,t){en.set(e,t)}function Op(e){const t=en.get(e);return en.delete(e),t}let qp=()=>location.protocol+"//"+location.host;function xa(e,t){const{pathname:s,search:o,hash:r}=t,l=e.indexOf("#");if(l>-1){let a=r.includes(e.slice(l))?e.slice(l).length:1,d=r.slice(a);return d[0]!=="/"&&(d="/"+d),xi(d,"")}return xi(s,e)+o+r}function Dp(e,t,s,o){let r=[],l=[],n=null;const a=({state:S})=>{const E=xa(e,location),_=s.value,k=t.value;let q=0;if(S){if(s.value=E,t.value=S,n&&n===_){n=null;return}q=k?S.position-k.position:0}else o(E);r.forEach(B=>{B(s.value,_,{delta:q,type:ir.pop,direction:q?q>0?Qs.forward:Qs.back:Qs.unknown})})};function d(){n=s.value}function u(S){r.push(S);const E=()=>{const _=r.indexOf(S);_>-1&&r.splice(_,1)};return l.push(E),E}function c(){const{history:S}=window;S.state&&S.replaceState(je({},S.state,{scroll:to()}),"")}function m(){for(const S of l)S();l=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",c)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",c,{passive:!0}),{pauseListeners:d,listen:u,destroy:m}}function Pi(e,t,s,o=!1,r=!1){return{back:e,current:t,forward:s,replaced:o,position:window.history.length,scroll:r?to():null}}function Tp(e){const{history:t,location:s}=window,o={value:xa(e,s)},r={value:t.state};r.value||l(o.value,{back:null,current:o.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function l(d,u,c){const m=e.indexOf("#"),S=m>-1?(s.host&&document.querySelector("base")?e:e.slice(m))+d:qp()+e+d;try{t[c?"replaceState":"pushState"](u,"",S),r.value=u}catch(E){console.error(E),s[c?"replace":"assign"](S)}}function n(d,u){const c=je({},t.state,Pi(r.value.back,d,r.value.forward,!0),u,{position:r.value.position});l(d,c,!0),o.value=d}function a(d,u){const c=je({},r.value,t.state,{forward:d,scroll:to()});l(c.current,c,!0);const m=je({},Pi(o.value,d,null),{position:c.position+1},u);l(d,m,!1),o.value=d}return{location:o,state:r,push:a,replace:n}}function Rp(e){e=Ip(e);const t=Tp(e),s=Dp(e,t.state,t.location,t.replace);function o(l,n=!0){n||s.pauseListeners(),history.go(l)}const r=je({location:"",base:e,go:o,createHref:xp.bind(null,e)},t,s);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>t.state.value}),r}function Ap(e){return typeof e=="string"||e&&typeof e=="object"}function ja(e){return typeof e=="string"||typeof e=="symbol"}const ka=Symbol("");var Oi;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(Oi||(Oi={}));function Ps(e,t){return je(new Error,{type:e,[ka]:!0},t)}function Mt(e,t){return e instanceof Error&&ka in e&&(t==null||!!(e.type&t))}const qi="[^/]+?",Lp={sensitive:!1,strict:!1,start:!0,end:!0},$p=/[.+*?^${}()[\]/\\]/g;function Mp(e,t){const s=je({},Lp,t),o=[];let r=s.start?"^":"";const l=[];for(const u of e){const c=u.length?[]:[90];s.strict&&!u.length&&(r+="/");for(let m=0;m<u.length;m++){const S=u[m];let E=40+(s.sensitive?.25:0);if(S.type===0)m||(r+="/"),r+=S.value.replace($p,"\\$&"),E+=40;else if(S.type===1){const{value:_,repeatable:k,optional:q,regexp:B}=S;l.push({name:_,repeatable:k,optional:q});const H=B||qi;if(H!==qi){E+=10;try{new RegExp(`(${H})`)}catch(N){throw new Error(`Invalid custom RegExp for param "${_}" (${H}): `+N.message)}}let z=k?`((?:${H})(?:/(?:${H}))*)`:`(${H})`;m||(z=q&&u.length<2?`(?:/${z})`:"/"+z),q&&(z+="?"),r+=z,E+=20,q&&(E+=-8),k&&(E+=-20),H===".*"&&(E+=-50)}c.push(E)}o.push(c)}if(s.strict&&s.end){const u=o.length-1;o[u][o[u].length-1]+=.7000000000000001}s.strict||(r+="/?"),s.end?r+="$":s.strict&&!r.endsWith("/")&&(r+="(?:/|$)");const n=new RegExp(r,s.sensitive?"":"i");function a(u){const c=u.match(n),m={};if(!c)return null;for(let S=1;S<c.length;S++){const E=c[S]||"",_=l[S-1];m[_.name]=E&&_.repeatable?E.split("/"):E}return m}function d(u){let c="",m=!1;for(const S of e){(!m||!c.endsWith("/"))&&(c+="/"),m=!1;for(const E of S)if(E.type===0)c+=E.value;else if(E.type===1){const{value:_,repeatable:k,optional:q}=E,B=_ in u?u[_]:"";if(xt(B)&&!k)throw new Error(`Provided param "${_}" is an array but it is not repeatable (* or + modifiers)`);const H=xt(B)?B.join("/"):B;if(!H)if(q)S.length<2&&(c.endsWith("/")?c=c.slice(0,-1):m=!0);else throw new Error(`Missing required param "${_}"`);c+=H}}return c||"/"}return{re:n,score:o,keys:l,parse:a,stringify:d}}function Up(e,t){let s=0;for(;s<e.length&&s<t.length;){const o=t[s]-e[s];if(o)return o;s++}return e.length<t.length?e.length===1&&e[0]===40+40?-1:1:e.length>t.length?t.length===1&&t[0]===40+40?1:-1:0}function Pa(e,t){let s=0;const o=e.score,r=t.score;for(;s<o.length&&s<r.length;){const l=Up(o[s],r[s]);if(l)return l;s++}if(Math.abs(r.length-o.length)===1){if(Di(o))return 1;if(Di(r))return-1}return r.length-o.length}function Di(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const Np={type:0,value:""},Fp=/[a-zA-Z0-9_]/;function Vp(e){if(!e)return[[]];if(e==="/")return[[Np]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(E){throw new Error(`ERR (${s})/"${u}": ${E}`)}let s=0,o=s;const r=[];let l;function n(){l&&r.push(l),l=[]}let a=0,d,u="",c="";function m(){u&&(s===0?l.push({type:0,value:u}):s===1||s===2||s===3?(l.length>1&&(d==="*"||d==="+")&&t(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),l.push({type:1,value:u,regexp:c,repeatable:d==="*"||d==="+",optional:d==="*"||d==="?"})):t("Invalid state to consume buffer"),u="")}function S(){u+=d}for(;a<e.length;){if(d=e[a++],d==="\\"&&s!==2){o=s,s=4;continue}switch(s){case 0:d==="/"?(u&&m(),n()):d===":"?(m(),s=1):S();break;case 4:S(),s=o;break;case 1:d==="("?s=2:Fp.test(d)?S():(m(),s=0,d!=="*"&&d!=="?"&&d!=="+"&&a--);break;case 2:d===")"?c[c.length-1]=="\\"?c=c.slice(0,-1)+d:s=3:c+=d;break;case 3:m(),s=0,d!=="*"&&d!=="?"&&d!=="+"&&a--,c="";break;default:t("Unknown state");break}}return s===2&&t(`Unfinished custom RegExp for param "${u}"`),m(),n(),r}function Bp(e,t,s){const o=Mp(Vp(e.path),s),r=je(o,{record:e,parent:t,children:[],alias:[]});return t&&!r.record.aliasOf==!t.record.aliasOf&&t.children.push(r),r}function Hp(e,t){const s=[],o=new Map;t=Li({strict:!1,end:!0,sensitive:!1},t);function r(m){return o.get(m)}function l(m,S,E){const _=!E,k=Ri(m);k.aliasOf=E&&E.record;const q=Li(t,m),B=[k];if("alias"in m){const N=typeof m.alias=="string"?[m.alias]:m.alias;for(const re of N)B.push(Ri(je({},k,{components:E?E.record.components:k.components,path:re,aliasOf:E?E.record:k})))}let H,z;for(const N of B){const{path:re}=N;if(S&&re[0]!=="/"){const ve=S.record.path,le=ve[ve.length-1]==="/"?"":"/";N.path=S.record.path+(re&&le+re)}if(H=Bp(N,S,q),E?E.alias.push(H):(z=z||H,z!==H&&z.alias.push(H),_&&m.name&&!Ai(H)&&n(m.name)),Oa(H)&&d(H),k.children){const ve=k.children;for(let le=0;le<ve.length;le++)l(ve[le],H,E&&E.children[le])}E=E||H}return z?()=>{n(z)}:Ys}function n(m){if(ja(m)){const S=o.get(m);S&&(o.delete(m),s.splice(s.indexOf(S),1),S.children.forEach(n),S.alias.forEach(n))}else{const S=s.indexOf(m);S>-1&&(s.splice(S,1),m.record.name&&o.delete(m.record.name),m.children.forEach(n),m.alias.forEach(n))}}function a(){return s}function d(m){const S=Kp(m,s);s.splice(S,0,m),m.record.name&&!Ai(m)&&o.set(m.record.name,m)}function u(m,S){let E,_={},k,q;if("name"in m&&m.name){if(E=o.get(m.name),!E)throw Ps(1,{location:m});q=E.record.name,_=je(Ti(S.params,E.keys.filter(z=>!z.optional).concat(E.parent?E.parent.keys.filter(z=>z.optional):[]).map(z=>z.name)),m.params&&Ti(m.params,E.keys.map(z=>z.name))),k=E.stringify(_)}else if(m.path!=null)k=m.path,E=s.find(z=>z.re.test(k)),E&&(_=E.parse(k),q=E.record.name);else{if(E=S.name?o.get(S.name):s.find(z=>z.re.test(S.path)),!E)throw Ps(1,{location:m,currentLocation:S});q=E.record.name,_=je({},S.params,m.params),k=E.stringify(_)}const B=[];let H=E;for(;H;)B.unshift(H.record),H=H.parent;return{name:q,path:k,params:_,matched:B,meta:Gp(B)}}e.forEach(m=>l(m));function c(){s.length=0,o.clear()}return{addRoute:l,resolve:u,removeRoute:n,clearRoutes:c,getRoutes:a,getRecordMatcher:r}}function Ti(e,t){const s={};for(const o of t)o in e&&(s[o]=e[o]);return s}function Ri(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:zp(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function zp(e){const t={},s=e.props||!1;if("component"in e)t.default=s;else for(const o in e.components)t[o]=typeof s=="object"?s[o]:s;return t}function Ai(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function Gp(e){return e.reduce((t,s)=>je(t,s.meta),{})}function Li(e,t){const s={};for(const o in e)s[o]=o in t?t[o]:e[o];return s}function Kp(e,t){let s=0,o=t.length;for(;s!==o;){const l=s+o>>1;Pa(e,t[l])<0?o=l:s=l+1}const r=Wp(e);return r&&(o=t.lastIndexOf(r,o-1)),o}function Wp(e){let t=e;for(;t=t.parent;)if(Oa(t)&&Pa(e,t)===0)return t}function Oa({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function Jp(e){const t={};if(e===""||e==="?")return t;const o=(e[0]==="?"?e.slice(1):e).split("&");for(let r=0;r<o.length;++r){const l=o[r].replace(Ea," "),n=l.indexOf("="),a=nr(n<0?l:l.slice(0,n)),d=n<0?null:nr(l.slice(n+1));if(a in t){let u=t[a];xt(u)||(u=t[a]=[u]),u.push(d)}else t[a]=d}return t}function $i(e){let t="";for(let s in e){const o=e[s];if(s=mp(s),o==null){o!==void 0&&(t+=(t.length?"&":"")+s);continue}(xt(o)?o.map(l=>l&&Zo(l)):[o&&Zo(o)]).forEach(l=>{l!==void 0&&(t+=(t.length?"&":"")+s,l!=null&&(t+="="+l))})}return t}function Xp(e){const t={};for(const s in e){const o=e[s];o!==void 0&&(t[s]=xt(o)?o.map(r=>r==null?null:""+r):o==null?o:""+o)}return t}const Yp=Symbol(""),Mi=Symbol(""),so=Symbol(""),kn=Symbol(""),tn=Symbol("");function Ns(){let e=[];function t(o){return e.push(o),()=>{const r=e.indexOf(o);r>-1&&e.splice(r,1)}}function s(){e=[]}return{add:t,list:()=>e.slice(),reset:s}}function Yt(e,t,s,o,r,l=n=>n()){const n=o&&(o.enterCallbacks[r]=o.enterCallbacks[r]||[]);return()=>new Promise((a,d)=>{const u=S=>{S===!1?d(Ps(4,{from:s,to:t})):S instanceof Error?d(S):Ap(S)?d(Ps(2,{from:t,to:S})):(n&&o.enterCallbacks[r]===n&&typeof S=="function"&&n.push(S),a())},c=l(()=>e.call(o&&o.instances[r],t,s,u));let m=Promise.resolve(c);e.length<3&&(m=m.then(u)),m.catch(S=>d(S))})}function Mo(e,t,s,o,r=l=>l()){const l=[];for(const n of e)for(const a in n.components){let d=n.components[a];if(!(t!=="beforeRouteEnter"&&!n.instances[a]))if(ba(d)){const c=(d.__vccOpts||d)[t];c&&l.push(Yt(c,s,o,n,a,r))}else{let u=d();l.push(()=>u.then(c=>{if(!c)throw new Error(`Couldn't resolve component "${a}" at "${n.path}"`);const m=op(c)?c.default:c;n.mods[a]=c,n.components[a]=m;const E=(m.__vccOpts||m)[t];return E&&Yt(E,s,o,n,a,r)()}))}}return l}function Ui(e){const t=yt(so),s=yt(kn),o=Ne(()=>{const d=Is(e.to);return t.resolve(d)}),r=Ne(()=>{const{matched:d}=o.value,{length:u}=d,c=d[u-1],m=s.matched;if(!c||!m.length)return-1;const S=m.findIndex(ks.bind(null,c));if(S>-1)return S;const E=Ni(d[u-2]);return u>1&&Ni(c)===E&&m[m.length-1].path!==E?m.findIndex(ks.bind(null,d[u-2])):S}),l=Ne(()=>r.value>-1&&sh(s.params,o.value.params)),n=Ne(()=>r.value>-1&&r.value===s.matched.length-1&&Ca(s.params,o.value.params));function a(d={}){if(th(d)){const u=t[Is(e.replace)?"replace":"push"](Is(e.to)).catch(Ys);return e.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>u),u}return Promise.resolve()}return{route:o,href:Ne(()=>o.value.href),isActive:l,isExactActive:n,navigate:a}}function Qp(e){return e.length===1?e[0]:e}const Zp=Ul({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:Ui,setup(e,{slots:t}){const s=ur(Ui(e)),{options:o}=yt(so),r=Ne(()=>({[Fi(e.activeClass,o.linkActiveClass,"router-link-active")]:s.isActive,[Fi(e.exactActiveClass,o.linkExactActiveClass,"router-link-exact-active")]:s.isExactActive}));return()=>{const l=t.default&&Qp(t.default(s));return e.custom?l:fa("a",{"aria-current":s.isExactActive?e.ariaCurrentValue:null,href:s.href,onClick:s.navigate,class:r.value},l)}}}),eh=Zp;function th(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function sh(e,t){for(const s in t){const o=t[s],r=e[s];if(typeof o=="string"){if(o!==r)return!1}else if(!xt(r)||r.length!==o.length||o.some((l,n)=>l!==r[n]))return!1}return!0}function Ni(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const Fi=(e,t,s)=>e??t??s,rh=Ul({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:s}){const o=yt(tn),r=Ne(()=>e.route||o.value),l=yt(Mi,0),n=Ne(()=>{let u=Is(l);const{matched:c}=r.value;let m;for(;(m=c[u])&&!m.components;)u++;return u}),a=Ne(()=>r.value.matched[n.value]);Er(Mi,Ne(()=>n.value+1)),Er(Yp,a),Er(tn,r);const d=Y();return pt(()=>[d.value,a.value,e.name],([u,c,m],[S,E,_])=>{c&&(c.instances[m]=u,E&&E!==c&&u&&u===S&&(c.leaveGuards.size||(c.leaveGuards=E.leaveGuards),c.updateGuards.size||(c.updateGuards=E.updateGuards))),u&&c&&(!E||!ks(c,E)||!S)&&(c.enterCallbacks[m]||[]).forEach(k=>k(u))},{flush:"post"}),()=>{const u=r.value,c=e.name,m=a.value,S=m&&m.components[c];if(!S)return Vi(s.default,{Component:S,route:u});const E=m.props[c],_=E?E===!0?u.params:typeof E=="function"?E(u):E:null,q=fa(S,je({},_,t,{onVnodeUnmounted:B=>{B.component.isUnmounted&&(m.instances[c]=null)},ref:d}));return Vi(s.default,{Component:q,route:u})||q}}});function Vi(e,t){if(!e)return null;const s=e(t);return s.length===1?s[0]:s}const oh=rh;function nh(e){const t=Hp(e.routes,e),s=e.parseQuery||Jp,o=e.stringifyQuery||$i,r=e.history,l=Ns(),n=Ns(),a=Ns(),d=Cd(Kt);let u=Kt;Es&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const c=Lo.bind(null,O=>""+O),m=Lo.bind(null,vp),S=Lo.bind(null,nr);function E(O,X){let W,G;return ja(O)?(W=t.getRecordMatcher(O),G=X):G=O,t.addRoute(G,W)}function _(O){const X=t.getRecordMatcher(O);X&&t.removeRoute(X)}function k(){return t.getRoutes().map(O=>O.record)}function q(O){return!!t.getRecordMatcher(O)}function B(O,X){if(X=je({},X||d.value),typeof O=="string"){const y=$o(s,O,X.path),w=t.resolve({path:y.path},X),A=r.createHref(y.fullPath);return je(y,w,{params:S(w.params),hash:nr(y.hash),redirectedFrom:void 0,href:A})}let W;if(O.path!=null)W=je({},O,{path:$o(s,O.path,X.path).path});else{const y=je({},O.params);for(const w in y)y[w]==null&&delete y[w];W=je({},O,{params:m(y)}),X.params=m(X.params)}const G=t.resolve(W,X),be=O.hash||"";G.params=c(S(G.params));const Ce=Sp(o,je({},O,{hash:hp(be),path:G.path})),g=r.createHref(Ce);return je({fullPath:Ce,hash:be,query:o===$i?Xp(O.query):O.query||{}},G,{redirectedFrom:void 0,href:g})}function H(O){return typeof O=="string"?$o(s,O,d.value.path):je({},O)}function z(O,X){if(u!==O)return Ps(8,{from:X,to:O})}function N(O){return le(O)}function re(O){return N(je(H(O),{replace:!0}))}function ve(O){const X=O.matched[O.matched.length-1];if(X&&X.redirect){const{redirect:W}=X;let G=typeof W=="function"?W(O):W;return typeof G=="string"&&(G=G.includes("?")||G.includes("#")?G=H(G):{path:G},G.params={}),je({query:O.query,hash:O.hash,params:G.path!=null?{}:O.params},G)}}function le(O,X){const W=u=B(O),G=d.value,be=O.state,Ce=O.force,g=O.replace===!0,y=ve(W);if(y)return le(je(H(y),{state:typeof y=="object"?je({},be,y.state):be,force:Ce,replace:g}),X||W);const w=W;w.redirectedFrom=X;let A;return!Ce&&Ep(o,G,W)&&(A=Ps(16,{to:w,from:G}),Ie(G,G,!0,!1)),(A?Promise.resolve(A):ye(w,G)).catch(P=>Mt(P)?Mt(P,2)?P:pe(P):M(P,w,G)).then(P=>{if(P){if(Mt(P,2))return le(je({replace:g},H(P.to),{state:typeof P.to=="object"?je({},be,P.to.state):be,force:Ce}),X||w)}else P=Me(w,G,!0,g,be);return $e(w,G,P),P})}function ue(O,X){const W=z(O,X);return W?Promise.reject(W):Promise.resolve()}function oe(O){const X=fe.values().next().value;return X&&typeof X.runWithContext=="function"?X.runWithContext(O):O()}function ye(O,X){let W;const[G,be,Ce]=ih(O,X);W=Mo(G.reverse(),"beforeRouteLeave",O,X);for(const y of G)y.leaveGuards.forEach(w=>{W.push(Yt(w,O,X))});const g=ue.bind(null,O,X);return W.push(g),Qe(W).then(()=>{W=[];for(const y of l.list())W.push(Yt(y,O,X));return W.push(g),Qe(W)}).then(()=>{W=Mo(be,"beforeRouteUpdate",O,X);for(const y of be)y.updateGuards.forEach(w=>{W.push(Yt(w,O,X))});return W.push(g),Qe(W)}).then(()=>{W=[];for(const y of Ce)if(y.beforeEnter)if(xt(y.beforeEnter))for(const w of y.beforeEnter)W.push(Yt(w,O,X));else W.push(Yt(y.beforeEnter,O,X));return W.push(g),Qe(W)}).then(()=>(O.matched.forEach(y=>y.enterCallbacks={}),W=Mo(Ce,"beforeRouteEnter",O,X,oe),W.push(g),Qe(W))).then(()=>{W=[];for(const y of n.list())W.push(Yt(y,O,X));return W.push(g),Qe(W)}).catch(y=>Mt(y,8)?y:Promise.reject(y))}function $e(O,X,W){a.list().forEach(G=>oe(()=>G(O,X,W)))}function Me(O,X,W,G,be){const Ce=z(O,X);if(Ce)return Ce;const g=X===Kt,y=Es?history.state:{};W&&(G||g?r.replace(O.fullPath,je({scroll:g&&y&&y.scroll},be)):r.push(O.fullPath,be)),d.value=O,Ie(O,X,W,g),pe()}let Re;function we(){Re||(Re=r.listen((O,X,W)=>{if(!Se.listening)return;const G=B(O),be=ve(G);if(be){le(je(be,{replace:!0,force:!0}),G).catch(Ys);return}u=G;const Ce=d.value;Es&&Pp(ki(Ce.fullPath,W.delta),to()),ye(G,Ce).catch(g=>Mt(g,12)?g:Mt(g,2)?(le(je(H(g.to),{force:!0}),G).then(y=>{Mt(y,20)&&!W.delta&&W.type===ir.pop&&r.go(-1,!1)}).catch(Ys),Promise.reject()):(W.delta&&r.go(-W.delta,!1),M(g,G,Ce))).then(g=>{g=g||Me(G,Ce,!1),g&&(W.delta&&!Mt(g,8)?r.go(-W.delta,!1):W.type===ir.pop&&Mt(g,20)&&r.go(-1,!1)),$e(G,Ce,g)}).catch(Ys)}))}let Ue=Ns(),ie=Ns(),F;function M(O,X,W){pe(O);const G=ie.list();return G.length?G.forEach(be=>be(O,X,W)):console.error(O),Promise.reject(O)}function De(){return F&&d.value!==Kt?Promise.resolve():new Promise((O,X)=>{Ue.add([O,X])})}function pe(O){return F||(F=!O,we(),Ue.list().forEach(([X,W])=>O?W(O):X()),Ue.reset()),O}function Ie(O,X,W,G){const{scrollBehavior:be}=e;if(!Es||!be)return Promise.resolve();const Ce=!W&&Op(ki(O.fullPath,0))||(G||!W)&&history.state&&history.state.scroll||null;return Jr().then(()=>be(O,X,Ce)).then(g=>g&&kp(g)).catch(g=>M(g,O,X))}const Pe=O=>r.go(O);let Ye;const fe=new Set,Se={currentRoute:d,listening:!0,addRoute:E,removeRoute:_,clearRoutes:t.clearRoutes,hasRoute:q,getRoutes:k,resolve:B,options:e,push:N,replace:re,go:Pe,back:()=>Pe(-1),forward:()=>Pe(1),beforeEach:l.add,beforeResolve:n.add,afterEach:a.add,onError:ie.add,isReady:De,install(O){const X=this;O.component("RouterLink",eh),O.component("RouterView",oh),O.config.globalProperties.$router=X,Object.defineProperty(O.config.globalProperties,"$route",{enumerable:!0,get:()=>Is(d)}),Es&&!Ye&&d.value===Kt&&(Ye=!0,N(r.location).catch(be=>{}));const W={};for(const be in Kt)Object.defineProperty(W,be,{get:()=>d.value[be],enumerable:!0});O.provide(so,X),O.provide(kn,Ol(W)),O.provide(tn,d);const G=O.unmount;fe.add(O),O.unmount=function(){fe.delete(O),fe.size<1&&(u=Kt,Re&&Re(),Re=null,d.value=Kt,Ye=!1,F=!1),G()}}};function Qe(O){return O.reduce((X,W)=>X.then(()=>oe(W)),Promise.resolve())}return Se}function ih(e,t){const s=[],o=[],r=[],l=Math.max(t.matched.length,e.matched.length);for(let n=0;n<l;n++){const a=t.matched[n];a&&(e.matched.find(u=>ks(u,a))?o.push(a):s.push(a));const d=e.matched[n];d&&(t.matched.find(u=>ks(u,d))||r.push(d))}return[s,o,r]}function lh(){return yt(so)}function qa(e){return yt(kn)}function Da(e,t){return function(){return e.apply(t,arguments)}}const{toString:ah}=Object.prototype,{getPrototypeOf:Pn}=Object,{iterator:ro,toStringTag:Ta}=Symbol,oo=(e=>t=>{const s=ah.call(t);return e[s]||(e[s]=s.slice(8,-1).toLowerCase())})(Object.create(null)),jt=e=>(e=e.toLowerCase(),t=>oo(t)===e),no=e=>t=>typeof t===e,{isArray:Ds}=Array,Os=no("undefined");function fr(e){return e!==null&&!Os(e)&&e.constructor!==null&&!Os(e.constructor)&&ct(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Ra=jt("ArrayBuffer");function uh(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Ra(e.buffer),t}const dh=no("string"),ct=no("function"),Aa=no("number"),pr=e=>e!==null&&typeof e=="object",ch=e=>e===!0||e===!1,Cr=e=>{if(oo(e)!=="object")return!1;const t=Pn(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Ta in e)&&!(ro in e)},fh=e=>{if(!pr(e)||fr(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},ph=jt("Date"),hh=jt("File"),mh=jt("Blob"),gh=jt("FileList"),vh=e=>pr(e)&&ct(e.pipe),yh=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||ct(e.append)&&((t=oo(e))==="formdata"||t==="object"&&ct(e.toString)&&e.toString()==="[object FormData]"))},bh=jt("URLSearchParams"),[Sh,Eh,_h,wh]=["ReadableStream","Request","Response","Headers"].map(jt),Ih=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function hr(e,t,{allOwnKeys:s=!1}={}){if(e===null||typeof e>"u")return;let o,r;if(typeof e!="object"&&(e=[e]),Ds(e))for(o=0,r=e.length;o<r;o++)t.call(null,e[o],o,e);else{if(fr(e))return;const l=s?Object.getOwnPropertyNames(e):Object.keys(e),n=l.length;let a;for(o=0;o<n;o++)a=l[o],t.call(null,e[a],a,e)}}function La(e,t){if(fr(e))return null;t=t.toLowerCase();const s=Object.keys(e);let o=s.length,r;for(;o-- >0;)if(r=s[o],t===r.toLowerCase())return r;return null}const fs=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),$a=e=>!Os(e)&&e!==fs;function sn(){const{caseless:e,skipUndefined:t}=$a(this)&&this||{},s={},o=(r,l)=>{const n=e&&La(s,l)||l;Cr(s[n])&&Cr(r)?s[n]=sn(s[n],r):Cr(r)?s[n]=sn({},r):Ds(r)?s[n]=r.slice():(!t||!Os(r))&&(s[n]=r)};for(let r=0,l=arguments.length;r<l;r++)arguments[r]&&hr(arguments[r],o);return s}const Ch=(e,t,s,{allOwnKeys:o}={})=>(hr(t,(r,l)=>{s&&ct(r)?e[l]=Da(r,s):e[l]=r},{allOwnKeys:o}),e),xh=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),jh=(e,t,s,o)=>{e.prototype=Object.create(t.prototype,o),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),s&&Object.assign(e.prototype,s)},kh=(e,t,s,o)=>{let r,l,n;const a={};if(t=t||{},e==null)return t;do{for(r=Object.getOwnPropertyNames(e),l=r.length;l-- >0;)n=r[l],(!o||o(n,e,t))&&!a[n]&&(t[n]=e[n],a[n]=!0);e=s!==!1&&Pn(e)}while(e&&(!s||s(e,t))&&e!==Object.prototype);return t},Ph=(e,t,s)=>{e=String(e),(s===void 0||s>e.length)&&(s=e.length),s-=t.length;const o=e.indexOf(t,s);return o!==-1&&o===s},Oh=e=>{if(!e)return null;if(Ds(e))return e;let t=e.length;if(!Aa(t))return null;const s=new Array(t);for(;t-- >0;)s[t]=e[t];return s},qh=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Pn(Uint8Array)),Dh=(e,t)=>{const o=(e&&e[ro]).call(e);let r;for(;(r=o.next())&&!r.done;){const l=r.value;t.call(e,l[0],l[1])}},Th=(e,t)=>{let s;const o=[];for(;(s=e.exec(t))!==null;)o.push(s);return o},Rh=jt("HTMLFormElement"),Ah=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(s,o,r){return o.toUpperCase()+r}),Bi=(({hasOwnProperty:e})=>(t,s)=>e.call(t,s))(Object.prototype),Lh=jt("RegExp"),Ma=(e,t)=>{const s=Object.getOwnPropertyDescriptors(e),o={};hr(s,(r,l)=>{let n;(n=t(r,l,e))!==!1&&(o[l]=n||r)}),Object.defineProperties(e,o)},$h=e=>{Ma(e,(t,s)=>{if(ct(e)&&["arguments","caller","callee"].indexOf(s)!==-1)return!1;const o=e[s];if(ct(o)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")})}})},Mh=(e,t)=>{const s={},o=r=>{r.forEach(l=>{s[l]=!0})};return Ds(e)?o(e):o(String(e).split(t)),s},Uh=()=>{},Nh=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function Fh(e){return!!(e&&ct(e.append)&&e[Ta]==="FormData"&&e[ro])}const Vh=e=>{const t=new Array(10),s=(o,r)=>{if(pr(o)){if(t.indexOf(o)>=0)return;if(fr(o))return o;if(!("toJSON"in o)){t[r]=o;const l=Ds(o)?[]:{};return hr(o,(n,a)=>{const d=s(n,r+1);!Os(d)&&(l[a]=d)}),t[r]=void 0,l}}return o};return s(e,0)},Bh=jt("AsyncFunction"),Hh=e=>e&&(pr(e)||ct(e))&&ct(e.then)&&ct(e.catch),Ua=((e,t)=>e?setImmediate:t?((s,o)=>(fs.addEventListener("message",({source:r,data:l})=>{r===fs&&l===s&&o.length&&o.shift()()},!1),r=>{o.push(r),fs.postMessage(s,"*")}))(`axios@${Math.random()}`,[]):s=>setTimeout(s))(typeof setImmediate=="function",ct(fs.postMessage)),zh=typeof queueMicrotask<"u"?queueMicrotask.bind(fs):typeof process<"u"&&process.nextTick||Ua,Gh=e=>e!=null&&ct(e[ro]),x={isArray:Ds,isArrayBuffer:Ra,isBuffer:fr,isFormData:yh,isArrayBufferView:uh,isString:dh,isNumber:Aa,isBoolean:ch,isObject:pr,isPlainObject:Cr,isEmptyObject:fh,isReadableStream:Sh,isRequest:Eh,isResponse:_h,isHeaders:wh,isUndefined:Os,isDate:ph,isFile:hh,isBlob:mh,isRegExp:Lh,isFunction:ct,isStream:vh,isURLSearchParams:bh,isTypedArray:qh,isFileList:gh,forEach:hr,merge:sn,extend:Ch,trim:Ih,stripBOM:xh,inherits:jh,toFlatObject:kh,kindOf:oo,kindOfTest:jt,endsWith:Ph,toArray:Oh,forEachEntry:Dh,matchAll:Th,isHTMLForm:Rh,hasOwnProperty:Bi,hasOwnProp:Bi,reduceDescriptors:Ma,freezeMethods:$h,toObjectSet:Mh,toCamelCase:Ah,noop:Uh,toFiniteNumber:Nh,findKey:La,global:fs,isContextDefined:$a,isSpecCompliantForm:Fh,toJSONObject:Vh,isAsyncFn:Bh,isThenable:Hh,setImmediate:Ua,asap:zh,isIterable:Gh};function ce(e,t,s,o,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),s&&(this.config=s),o&&(this.request=o),r&&(this.response=r,this.status=r.status?r.status:null)}x.inherits(ce,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:x.toJSONObject(this.config),code:this.code,status:this.status}}});const Na=ce.prototype,Fa={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Fa[e]={value:e}});Object.defineProperties(ce,Fa);Object.defineProperty(Na,"isAxiosError",{value:!0});ce.from=(e,t,s,o,r,l)=>{const n=Object.create(Na);x.toFlatObject(e,n,function(c){return c!==Error.prototype},u=>u!=="isAxiosError");const a=e&&e.message?e.message:"Error",d=t==null&&e?e.code:t;return ce.call(n,a,d,s,o,r),e&&n.cause==null&&Object.defineProperty(n,"cause",{value:e,configurable:!0}),n.name=e&&e.name||"Error",l&&Object.assign(n,l),n};const Kh=null;function rn(e){return x.isPlainObject(e)||x.isArray(e)}function Va(e){return x.endsWith(e,"[]")?e.slice(0,-2):e}function Hi(e,t,s){return e?e.concat(t).map(function(r,l){return r=Va(r),!s&&l?"["+r+"]":r}).join(s?".":""):t}function Wh(e){return x.isArray(e)&&!e.some(rn)}const Jh=x.toFlatObject(x,{},null,function(t){return/^is[A-Z]/.test(t)});function io(e,t,s){if(!x.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,s=x.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,function(k,q){return!x.isUndefined(q[k])});const o=s.metaTokens,r=s.visitor||c,l=s.dots,n=s.indexes,d=(s.Blob||typeof Blob<"u"&&Blob)&&x.isSpecCompliantForm(t);if(!x.isFunction(r))throw new TypeError("visitor must be a function");function u(_){if(_===null)return"";if(x.isDate(_))return _.toISOString();if(x.isBoolean(_))return _.toString();if(!d&&x.isBlob(_))throw new ce("Blob is not supported. Use a Buffer instead.");return x.isArrayBuffer(_)||x.isTypedArray(_)?d&&typeof Blob=="function"?new Blob([_]):Buffer.from(_):_}function c(_,k,q){let B=_;if(_&&!q&&typeof _=="object"){if(x.endsWith(k,"{}"))k=o?k:k.slice(0,-2),_=JSON.stringify(_);else if(x.isArray(_)&&Wh(_)||(x.isFileList(_)||x.endsWith(k,"[]"))&&(B=x.toArray(_)))return k=Va(k),B.forEach(function(z,N){!(x.isUndefined(z)||z===null)&&t.append(n===!0?Hi([k],N,l):n===null?k:k+"[]",u(z))}),!1}return rn(_)?!0:(t.append(Hi(q,k,l),u(_)),!1)}const m=[],S=Object.assign(Jh,{defaultVisitor:c,convertValue:u,isVisitable:rn});function E(_,k){if(!x.isUndefined(_)){if(m.indexOf(_)!==-1)throw Error("Circular reference detected in "+k.join("."));m.push(_),x.forEach(_,function(B,H){(!(x.isUndefined(B)||B===null)&&r.call(t,B,x.isString(H)?H.trim():H,k,S))===!0&&E(B,k?k.concat(H):[H])}),m.pop()}}if(!x.isObject(e))throw new TypeError("data must be an object");return E(e),t}function zi(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(o){return t[o]})}function On(e,t){this._pairs=[],e&&io(e,this,t)}const Ba=On.prototype;Ba.append=function(t,s){this._pairs.push([t,s])};Ba.toString=function(t){const s=t?function(o){return t.call(this,o,zi)}:zi;return this._pairs.map(function(r){return s(r[0])+"="+s(r[1])},"").join("&")};function Xh(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Ha(e,t,s){if(!t)return e;const o=s&&s.encode||Xh;x.isFunction(s)&&(s={serialize:s});const r=s&&s.serialize;let l;if(r?l=r(t,s):l=x.isURLSearchParams(t)?t.toString():new On(t,s).toString(o),l){const n=e.indexOf("#");n!==-1&&(e=e.slice(0,n)),e+=(e.indexOf("?")===-1?"?":"&")+l}return e}class Yh{constructor(){this.handlers=[]}use(t,s,o){return this.handlers.push({fulfilled:t,rejected:s,synchronous:o?o.synchronous:!1,runWhen:o?o.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){x.forEach(this.handlers,function(o){o!==null&&t(o)})}}const Gi=Yh,za={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Qh=typeof URLSearchParams<"u"?URLSearchParams:On,Zh=typeof FormData<"u"?FormData:null,em=typeof Blob<"u"?Blob:null,tm={isBrowser:!0,classes:{URLSearchParams:Qh,FormData:Zh,Blob:em},protocols:["http","https","file","blob","url","data"]},qn=typeof window<"u"&&typeof document<"u",on=typeof navigator=="object"&&navigator||void 0,sm=qn&&(!on||["ReactNative","NativeScript","NS"].indexOf(on.product)<0),rm=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),om=qn&&window.location.href||"http://localhost",nm=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:qn,hasStandardBrowserEnv:sm,hasStandardBrowserWebWorkerEnv:rm,navigator:on,origin:om},Symbol.toStringTag,{value:"Module"})),nt={...nm,...tm};function im(e,t){return io(e,new nt.classes.URLSearchParams,{visitor:function(s,o,r,l){return nt.isNode&&x.isBuffer(s)?(this.append(o,s.toString("base64")),!1):l.defaultVisitor.apply(this,arguments)},...t})}function lm(e){return x.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function am(e){const t={},s=Object.keys(e);let o;const r=s.length;let l;for(o=0;o<r;o++)l=s[o],t[l]=e[l];return t}function Ga(e){function t(s,o,r,l){let n=s[l++];if(n==="__proto__")return!0;const a=Number.isFinite(+n),d=l>=s.length;return n=!n&&x.isArray(r)?r.length:n,d?(x.hasOwnProp(r,n)?r[n]=[r[n],o]:r[n]=o,!a):((!r[n]||!x.isObject(r[n]))&&(r[n]=[]),t(s,o,r[n],l)&&x.isArray(r[n])&&(r[n]=am(r[n])),!a)}if(x.isFormData(e)&&x.isFunction(e.entries)){const s={};return x.forEachEntry(e,(o,r)=>{t(lm(o),r,s,0)}),s}return null}function um(e,t,s){if(x.isString(e))try{return(t||JSON.parse)(e),x.trim(e)}catch(o){if(o.name!=="SyntaxError")throw o}return(s||JSON.stringify)(e)}const Dn={transitional:za,adapter:["xhr","http","fetch"],transformRequest:[function(t,s){const o=s.getContentType()||"",r=o.indexOf("application/json")>-1,l=x.isObject(t);if(l&&x.isHTMLForm(t)&&(t=new FormData(t)),x.isFormData(t))return r?JSON.stringify(Ga(t)):t;if(x.isArrayBuffer(t)||x.isBuffer(t)||x.isStream(t)||x.isFile(t)||x.isBlob(t)||x.isReadableStream(t))return t;if(x.isArrayBufferView(t))return t.buffer;if(x.isURLSearchParams(t))return s.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let a;if(l){if(o.indexOf("application/x-www-form-urlencoded")>-1)return im(t,this.formSerializer).toString();if((a=x.isFileList(t))||o.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return io(a?{"files[]":t}:t,d&&new d,this.formSerializer)}}return l||r?(s.setContentType("application/json",!1),um(t)):t}],transformResponse:[function(t){const s=this.transitional||Dn.transitional,o=s&&s.forcedJSONParsing,r=this.responseType==="json";if(x.isResponse(t)||x.isReadableStream(t))return t;if(t&&x.isString(t)&&(o&&!this.responseType||r)){const n=!(s&&s.silentJSONParsing)&&r;try{return JSON.parse(t,this.parseReviver)}catch(a){if(n)throw a.name==="SyntaxError"?ce.from(a,ce.ERR_BAD_RESPONSE,this,null,this.response):a}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:nt.classes.FormData,Blob:nt.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};x.forEach(["delete","get","head","post","put","patch"],e=>{Dn.headers[e]={}});const Tn=Dn,dm=x.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),cm=e=>{const t={};let s,o,r;return e&&e.split(`
`).forEach(function(n){r=n.indexOf(":"),s=n.substring(0,r).trim().toLowerCase(),o=n.substring(r+1).trim(),!(!s||t[s]&&dm[s])&&(s==="set-cookie"?t[s]?t[s].push(o):t[s]=[o]:t[s]=t[s]?t[s]+", "+o:o)}),t},Ki=Symbol("internals");function Fs(e){return e&&String(e).trim().toLowerCase()}function xr(e){return e===!1||e==null?e:x.isArray(e)?e.map(xr):String(e)}function fm(e){const t=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let o;for(;o=s.exec(e);)t[o[1]]=o[2];return t}const pm=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Uo(e,t,s,o,r){if(x.isFunction(o))return o.call(this,t,s);if(r&&(t=s),!!x.isString(t)){if(x.isString(o))return t.indexOf(o)!==-1;if(x.isRegExp(o))return o.test(t)}}function hm(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,s,o)=>s.toUpperCase()+o)}function mm(e,t){const s=x.toCamelCase(" "+t);["get","set","has"].forEach(o=>{Object.defineProperty(e,o+s,{value:function(r,l,n){return this[o].call(this,t,r,l,n)},configurable:!0})})}class lo{constructor(t){t&&this.set(t)}set(t,s,o){const r=this;function l(a,d,u){const c=Fs(d);if(!c)throw new Error("header name must be a non-empty string");const m=x.findKey(r,c);(!m||r[m]===void 0||u===!0||u===void 0&&r[m]!==!1)&&(r[m||d]=xr(a))}const n=(a,d)=>x.forEach(a,(u,c)=>l(u,c,d));if(x.isPlainObject(t)||t instanceof this.constructor)n(t,s);else if(x.isString(t)&&(t=t.trim())&&!pm(t))n(cm(t),s);else if(x.isObject(t)&&x.isIterable(t)){let a={},d,u;for(const c of t){if(!x.isArray(c))throw TypeError("Object iterator must return a key-value pair");a[u=c[0]]=(d=a[u])?x.isArray(d)?[...d,c[1]]:[d,c[1]]:c[1]}n(a,s)}else t!=null&&l(s,t,o);return this}get(t,s){if(t=Fs(t),t){const o=x.findKey(this,t);if(o){const r=this[o];if(!s)return r;if(s===!0)return fm(r);if(x.isFunction(s))return s.call(this,r,o);if(x.isRegExp(s))return s.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,s){if(t=Fs(t),t){const o=x.findKey(this,t);return!!(o&&this[o]!==void 0&&(!s||Uo(this,this[o],o,s)))}return!1}delete(t,s){const o=this;let r=!1;function l(n){if(n=Fs(n),n){const a=x.findKey(o,n);a&&(!s||Uo(o,o[a],a,s))&&(delete o[a],r=!0)}}return x.isArray(t)?t.forEach(l):l(t),r}clear(t){const s=Object.keys(this);let o=s.length,r=!1;for(;o--;){const l=s[o];(!t||Uo(this,this[l],l,t,!0))&&(delete this[l],r=!0)}return r}normalize(t){const s=this,o={};return x.forEach(this,(r,l)=>{const n=x.findKey(o,l);if(n){s[n]=xr(r),delete s[l];return}const a=t?hm(l):String(l).trim();a!==l&&delete s[l],s[a]=xr(r),o[a]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const s=Object.create(null);return x.forEach(this,(o,r)=>{o!=null&&o!==!1&&(s[r]=t&&x.isArray(o)?o.join(", "):o)}),s}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,s])=>t+": "+s).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...s){const o=new this(t);return s.forEach(r=>o.set(r)),o}static accessor(t){const o=(this[Ki]=this[Ki]={accessors:{}}).accessors,r=this.prototype;function l(n){const a=Fs(n);o[a]||(mm(r,n),o[a]=!0)}return x.isArray(t)?t.forEach(l):l(t),this}}lo.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);x.reduceDescriptors(lo.prototype,({value:e},t)=>{let s=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(o){this[s]=o}}});x.freezeMethods(lo);const Ct=lo;function No(e,t){const s=this||Tn,o=t||s,r=Ct.from(o.headers);let l=o.data;return x.forEach(e,function(a){l=a.call(s,l,r.normalize(),t?t.status:void 0)}),r.normalize(),l}function Ka(e){return!!(e&&e.__CANCEL__)}function Ts(e,t,s){ce.call(this,e??"canceled",ce.ERR_CANCELED,t,s),this.name="CanceledError"}x.inherits(Ts,ce,{__CANCEL__:!0});function Wa(e,t,s){const o=s.config.validateStatus;!s.status||!o||o(s.status)?e(s):t(new ce("Request failed with status code "+s.status,[ce.ERR_BAD_REQUEST,ce.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s))}function gm(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function vm(e,t){e=e||10;const s=new Array(e),o=new Array(e);let r=0,l=0,n;return t=t!==void 0?t:1e3,function(d){const u=Date.now(),c=o[l];n||(n=u),s[r]=d,o[r]=u;let m=l,S=0;for(;m!==r;)S+=s[m++],m=m%e;if(r=(r+1)%e,r===l&&(l=(l+1)%e),u-n<t)return;const E=c&&u-c;return E?Math.round(S*1e3/E):void 0}}function ym(e,t){let s=0,o=1e3/t,r,l;const n=(u,c=Date.now())=>{s=c,r=null,l&&(clearTimeout(l),l=null),e(...u)};return[(...u)=>{const c=Date.now(),m=c-s;m>=o?n(u,c):(r=u,l||(l=setTimeout(()=>{l=null,n(r)},o-m)))},()=>r&&n(r)]}const Fr=(e,t,s=3)=>{let o=0;const r=vm(50,250);return ym(l=>{const n=l.loaded,a=l.lengthComputable?l.total:void 0,d=n-o,u=r(d),c=n<=a;o=n;const m={loaded:n,total:a,progress:a?n/a:void 0,bytes:d,rate:u||void 0,estimated:u&&a&&c?(a-n)/u:void 0,event:l,lengthComputable:a!=null,[t?"download":"upload"]:!0};e(m)},s)},Wi=(e,t)=>{const s=e!=null;return[o=>t[0]({lengthComputable:s,total:e,loaded:o}),t[1]]},Ji=e=>(...t)=>x.asap(()=>e(...t)),bm=nt.hasStandardBrowserEnv?((e,t)=>s=>(s=new URL(s,nt.origin),e.protocol===s.protocol&&e.host===s.host&&(t||e.port===s.port)))(new URL(nt.origin),nt.navigator&&/(msie|trident)/i.test(nt.navigator.userAgent)):()=>!0,Sm=nt.hasStandardBrowserEnv?{write(e,t,s,o,r,l){const n=[e+"="+encodeURIComponent(t)];x.isNumber(s)&&n.push("expires="+new Date(s).toGMTString()),x.isString(o)&&n.push("path="+o),x.isString(r)&&n.push("domain="+r),l===!0&&n.push("secure"),document.cookie=n.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Em(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function _m(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function Ja(e,t,s){let o=!Em(t);return e&&(o||s==!1)?_m(e,t):t}const Xi=e=>e instanceof Ct?{...e}:e;function ms(e,t){t=t||{};const s={};function o(u,c,m,S){return x.isPlainObject(u)&&x.isPlainObject(c)?x.merge.call({caseless:S},u,c):x.isPlainObject(c)?x.merge({},c):x.isArray(c)?c.slice():c}function r(u,c,m,S){if(x.isUndefined(c)){if(!x.isUndefined(u))return o(void 0,u,m,S)}else return o(u,c,m,S)}function l(u,c){if(!x.isUndefined(c))return o(void 0,c)}function n(u,c){if(x.isUndefined(c)){if(!x.isUndefined(u))return o(void 0,u)}else return o(void 0,c)}function a(u,c,m){if(m in t)return o(u,c);if(m in e)return o(void 0,u)}const d={url:l,method:l,data:l,baseURL:n,transformRequest:n,transformResponse:n,paramsSerializer:n,timeout:n,timeoutMessage:n,withCredentials:n,withXSRFToken:n,adapter:n,responseType:n,xsrfCookieName:n,xsrfHeaderName:n,onUploadProgress:n,onDownloadProgress:n,decompress:n,maxContentLength:n,maxBodyLength:n,beforeRedirect:n,transport:n,httpAgent:n,httpsAgent:n,cancelToken:n,socketPath:n,responseEncoding:n,validateStatus:a,headers:(u,c,m)=>r(Xi(u),Xi(c),m,!0)};return x.forEach(Object.keys({...e,...t}),function(c){const m=d[c]||r,S=m(e[c],t[c],c);x.isUndefined(S)&&m!==a||(s[c]=S)}),s}const Xa=e=>{const t=ms({},e);let{data:s,withXSRFToken:o,xsrfHeaderName:r,xsrfCookieName:l,headers:n,auth:a}=t;if(t.headers=n=Ct.from(n),t.url=Ha(Ja(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),a&&n.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):""))),x.isFormData(s)){if(nt.hasStandardBrowserEnv||nt.hasStandardBrowserWebWorkerEnv)n.setContentType(void 0);else if(x.isFunction(s.getHeaders)){const d=s.getHeaders(),u=["content-type","content-length"];Object.entries(d).forEach(([c,m])=>{u.includes(c.toLowerCase())&&n.set(c,m)})}}if(nt.hasStandardBrowserEnv&&(o&&x.isFunction(o)&&(o=o(t)),o||o!==!1&&bm(t.url))){const d=r&&l&&Sm.read(l);d&&n.set(r,d)}return t},wm=typeof XMLHttpRequest<"u",Im=wm&&function(e){return new Promise(function(s,o){const r=Xa(e);let l=r.data;const n=Ct.from(r.headers).normalize();let{responseType:a,onUploadProgress:d,onDownloadProgress:u}=r,c,m,S,E,_;function k(){E&&E(),_&&_(),r.cancelToken&&r.cancelToken.unsubscribe(c),r.signal&&r.signal.removeEventListener("abort",c)}let q=new XMLHttpRequest;q.open(r.method.toUpperCase(),r.url,!0),q.timeout=r.timeout;function B(){if(!q)return;const z=Ct.from("getAllResponseHeaders"in q&&q.getAllResponseHeaders()),re={data:!a||a==="text"||a==="json"?q.responseText:q.response,status:q.status,statusText:q.statusText,headers:z,config:e,request:q};Wa(function(le){s(le),k()},function(le){o(le),k()},re),q=null}"onloadend"in q?q.onloadend=B:q.onreadystatechange=function(){!q||q.readyState!==4||q.status===0&&!(q.responseURL&&q.responseURL.indexOf("file:")===0)||setTimeout(B)},q.onabort=function(){q&&(o(new ce("Request aborted",ce.ECONNABORTED,e,q)),q=null)},q.onerror=function(N){const re=N&&N.message?N.message:"Network Error",ve=new ce(re,ce.ERR_NETWORK,e,q);ve.event=N||null,o(ve),q=null},q.ontimeout=function(){let N=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const re=r.transitional||za;r.timeoutErrorMessage&&(N=r.timeoutErrorMessage),o(new ce(N,re.clarifyTimeoutError?ce.ETIMEDOUT:ce.ECONNABORTED,e,q)),q=null},l===void 0&&n.setContentType(null),"setRequestHeader"in q&&x.forEach(n.toJSON(),function(N,re){q.setRequestHeader(re,N)}),x.isUndefined(r.withCredentials)||(q.withCredentials=!!r.withCredentials),a&&a!=="json"&&(q.responseType=r.responseType),u&&([S,_]=Fr(u,!0),q.addEventListener("progress",S)),d&&q.upload&&([m,E]=Fr(d),q.upload.addEventListener("progress",m),q.upload.addEventListener("loadend",E)),(r.cancelToken||r.signal)&&(c=z=>{q&&(o(!z||z.type?new Ts(null,e,q):z),q.abort(),q=null)},r.cancelToken&&r.cancelToken.subscribe(c),r.signal&&(r.signal.aborted?c():r.signal.addEventListener("abort",c)));const H=gm(r.url);if(H&&nt.protocols.indexOf(H)===-1){o(new ce("Unsupported protocol "+H+":",ce.ERR_BAD_REQUEST,e));return}q.send(l||null)})},Cm=(e,t)=>{const{length:s}=e=e?e.filter(Boolean):[];if(t||s){let o=new AbortController,r;const l=function(u){if(!r){r=!0,a();const c=u instanceof Error?u:this.reason;o.abort(c instanceof ce?c:new Ts(c instanceof Error?c.message:c))}};let n=t&&setTimeout(()=>{n=null,l(new ce(`timeout ${t} of ms exceeded`,ce.ETIMEDOUT))},t);const a=()=>{e&&(n&&clearTimeout(n),n=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(l):u.removeEventListener("abort",l)}),e=null)};e.forEach(u=>u.addEventListener("abort",l));const{signal:d}=o;return d.unsubscribe=()=>x.asap(a),d}},xm=Cm,jm=function*(e,t){let s=e.byteLength;if(!t||s<t){yield e;return}let o=0,r;for(;o<s;)r=o+t,yield e.slice(o,r),o=r},km=async function*(e,t){for await(const s of Pm(e))yield*jm(s,t)},Pm=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:s,value:o}=await t.read();if(s)break;yield o}}finally{await t.cancel()}},Yi=(e,t,s,o)=>{const r=km(e,t);let l=0,n,a=d=>{n||(n=!0,o&&o(d))};return new ReadableStream({async pull(d){try{const{done:u,value:c}=await r.next();if(u){a(),d.close();return}let m=c.byteLength;if(s){let S=l+=m;s(S)}d.enqueue(new Uint8Array(c))}catch(u){throw a(u),u}},cancel(d){return a(d),r.return()}},{highWaterMark:2})},Qi=64*1024,{isFunction:br}=x,Om=(({Request:e,Response:t})=>({Request:e,Response:t}))(x.global),{ReadableStream:Zi,TextEncoder:el}=x.global,tl=(e,...t)=>{try{return!!e(...t)}catch{return!1}},qm=e=>{e=x.merge.call({skipUndefined:!0},Om,e);const{fetch:t,Request:s,Response:o}=e,r=t?br(t):typeof fetch=="function",l=br(s),n=br(o);if(!r)return!1;const a=r&&br(Zi),d=r&&(typeof el=="function"?(_=>k=>_.encode(k))(new el):async _=>new Uint8Array(await new s(_).arrayBuffer())),u=l&&a&&tl(()=>{let _=!1;const k=new s(nt.origin,{body:new Zi,method:"POST",get duplex(){return _=!0,"half"}}).headers.has("Content-Type");return _&&!k}),c=n&&a&&tl(()=>x.isReadableStream(new o("").body)),m={stream:c&&(_=>_.body)};r&&["text","arrayBuffer","blob","formData","stream"].forEach(_=>{!m[_]&&(m[_]=(k,q)=>{let B=k&&k[_];if(B)return B.call(k);throw new ce(`Response type '${_}' is not supported`,ce.ERR_NOT_SUPPORT,q)})});const S=async _=>{if(_==null)return 0;if(x.isBlob(_))return _.size;if(x.isSpecCompliantForm(_))return(await new s(nt.origin,{method:"POST",body:_}).arrayBuffer()).byteLength;if(x.isArrayBufferView(_)||x.isArrayBuffer(_))return _.byteLength;if(x.isURLSearchParams(_)&&(_=_+""),x.isString(_))return(await d(_)).byteLength},E=async(_,k)=>{const q=x.toFiniteNumber(_.getContentLength());return q??S(k)};return async _=>{let{url:k,method:q,data:B,signal:H,cancelToken:z,timeout:N,onDownloadProgress:re,onUploadProgress:ve,responseType:le,headers:ue,withCredentials:oe="same-origin",fetchOptions:ye}=Xa(_),$e=t||fetch;le=le?(le+"").toLowerCase():"text";let Me=xm([H,z&&z.toAbortSignal()],N),Re=null;const we=Me&&Me.unsubscribe&&(()=>{Me.unsubscribe()});let Ue;try{if(ve&&u&&q!=="get"&&q!=="head"&&(Ue=await E(ue,B))!==0){let Ie=new s(k,{method:"POST",body:B,duplex:"half"}),Pe;if(x.isFormData(B)&&(Pe=Ie.headers.get("content-type"))&&ue.setContentType(Pe),Ie.body){const[Ye,fe]=Wi(Ue,Fr(Ji(ve)));B=Yi(Ie.body,Qi,Ye,fe)}}x.isString(oe)||(oe=oe?"include":"omit");const ie=l&&"credentials"in s.prototype,F={...ye,signal:Me,method:q.toUpperCase(),headers:ue.normalize().toJSON(),body:B,duplex:"half",credentials:ie?oe:void 0};Re=l&&new s(k,F);let M=await(l?$e(Re,ye):$e(k,F));const De=c&&(le==="stream"||le==="response");if(c&&(re||De&&we)){const Ie={};["status","statusText","headers"].forEach(Se=>{Ie[Se]=M[Se]});const Pe=x.toFiniteNumber(M.headers.get("content-length")),[Ye,fe]=re&&Wi(Pe,Fr(Ji(re),!0))||[];M=new o(Yi(M.body,Qi,Ye,()=>{fe&&fe(),we&&we()}),Ie)}le=le||"text";let pe=await m[x.findKey(m,le)||"text"](M,_);return!De&&we&&we(),await new Promise((Ie,Pe)=>{Wa(Ie,Pe,{data:pe,headers:Ct.from(M.headers),status:M.status,statusText:M.statusText,config:_,request:Re})})}catch(ie){throw we&&we(),ie&&ie.name==="TypeError"&&/Load failed|fetch/i.test(ie.message)?Object.assign(new ce("Network Error",ce.ERR_NETWORK,_,Re),{cause:ie.cause||ie}):ce.from(ie,ie&&ie.code,_,Re)}}},Dm=new Map,Ya=e=>{let t=e?e.env:{};const{fetch:s,Request:o,Response:r}=t,l=[o,r,s];let n=l.length,a=n,d,u,c=Dm;for(;a--;)d=l[a],u=c.get(d),u===void 0&&c.set(d,u=a?new Map:qm(t)),c=u;return u};Ya();const nn={http:Kh,xhr:Im,fetch:{get:Ya}};x.forEach(nn,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const sl=e=>`- ${e}`,Tm=e=>x.isFunction(e)||e===null||e===!1,Qa={getAdapter:(e,t)=>{e=x.isArray(e)?e:[e];const{length:s}=e;let o,r;const l={};for(let n=0;n<s;n++){o=e[n];let a;if(r=o,!Tm(o)&&(r=nn[(a=String(o)).toLowerCase()],r===void 0))throw new ce(`Unknown adapter '${a}'`);if(r&&(x.isFunction(r)||(r=r.get(t))))break;l[a||"#"+n]=r}if(!r){const n=Object.entries(l).map(([d,u])=>`adapter ${d} `+(u===!1?"is not supported by the environment":"is not available in the build"));let a=s?n.length>1?`since :
`+n.map(sl).join(`
`):" "+sl(n[0]):"as no adapter specified";throw new ce("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return r},adapters:nn};function Fo(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Ts(null,e)}function rl(e){return Fo(e),e.headers=Ct.from(e.headers),e.data=No.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Qa.getAdapter(e.adapter||Tn.adapter,e)(e).then(function(o){return Fo(e),o.data=No.call(e,e.transformResponse,o),o.headers=Ct.from(o.headers),o},function(o){return Ka(o)||(Fo(e),o&&o.response&&(o.response.data=No.call(e,e.transformResponse,o.response),o.response.headers=Ct.from(o.response.headers))),Promise.reject(o)})}const Za="1.12.2",ao={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{ao[e]=function(o){return typeof o===e||"a"+(t<1?"n ":" ")+e}});const ol={};ao.transitional=function(t,s,o){function r(l,n){return"[Axios v"+Za+"] Transitional option '"+l+"'"+n+(o?". "+o:"")}return(l,n,a)=>{if(t===!1)throw new ce(r(n," has been removed"+(s?" in "+s:"")),ce.ERR_DEPRECATED);return s&&!ol[n]&&(ol[n]=!0,console.warn(r(n," has been deprecated since v"+s+" and will be removed in the near future"))),t?t(l,n,a):!0}};ao.spelling=function(t){return(s,o)=>(console.warn(`${o} is likely a misspelling of ${t}`),!0)};function Rm(e,t,s){if(typeof e!="object")throw new ce("options must be an object",ce.ERR_BAD_OPTION_VALUE);const o=Object.keys(e);let r=o.length;for(;r-- >0;){const l=o[r],n=t[l];if(n){const a=e[l],d=a===void 0||n(a,l,e);if(d!==!0)throw new ce("option "+l+" must be "+d,ce.ERR_BAD_OPTION_VALUE);continue}if(s!==!0)throw new ce("Unknown option "+l,ce.ERR_BAD_OPTION)}}const jr={assertOptions:Rm,validators:ao},qt=jr.validators;class Vr{constructor(t){this.defaults=t||{},this.interceptors={request:new Gi,response:new Gi}}async request(t,s){try{return await this._request(t,s)}catch(o){if(o instanceof Error){let r={};Error.captureStackTrace?Error.captureStackTrace(r):r=new Error;const l=r.stack?r.stack.replace(/^.+\n/,""):"";try{o.stack?l&&!String(o.stack).endsWith(l.replace(/^.+\n.+\n/,""))&&(o.stack+=`
`+l):o.stack=l}catch{}}throw o}}_request(t,s){typeof t=="string"?(s=s||{},s.url=t):s=t||{},s=ms(this.defaults,s);const{transitional:o,paramsSerializer:r,headers:l}=s;o!==void 0&&jr.assertOptions(o,{silentJSONParsing:qt.transitional(qt.boolean),forcedJSONParsing:qt.transitional(qt.boolean),clarifyTimeoutError:qt.transitional(qt.boolean)},!1),r!=null&&(x.isFunction(r)?s.paramsSerializer={serialize:r}:jr.assertOptions(r,{encode:qt.function,serialize:qt.function},!0)),s.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?s.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:s.allowAbsoluteUrls=!0),jr.assertOptions(s,{baseUrl:qt.spelling("baseURL"),withXsrfToken:qt.spelling("withXSRFToken")},!0),s.method=(s.method||this.defaults.method||"get").toLowerCase();let n=l&&x.merge(l.common,l[s.method]);l&&x.forEach(["delete","get","head","post","put","patch","common"],_=>{delete l[_]}),s.headers=Ct.concat(n,l);const a=[];let d=!0;this.interceptors.request.forEach(function(k){typeof k.runWhen=="function"&&k.runWhen(s)===!1||(d=d&&k.synchronous,a.unshift(k.fulfilled,k.rejected))});const u=[];this.interceptors.response.forEach(function(k){u.push(k.fulfilled,k.rejected)});let c,m=0,S;if(!d){const _=[rl.bind(this),void 0];for(_.unshift(...a),_.push(...u),S=_.length,c=Promise.resolve(s);m<S;)c=c.then(_[m++],_[m++]);return c}S=a.length;let E=s;for(;m<S;){const _=a[m++],k=a[m++];try{E=_(E)}catch(q){k.call(this,q);break}}try{c=rl.call(this,E)}catch(_){return Promise.reject(_)}for(m=0,S=u.length;m<S;)c=c.then(u[m++],u[m++]);return c}getUri(t){t=ms(this.defaults,t);const s=Ja(t.baseURL,t.url,t.allowAbsoluteUrls);return Ha(s,t.params,t.paramsSerializer)}}x.forEach(["delete","get","head","options"],function(t){Vr.prototype[t]=function(s,o){return this.request(ms(o||{},{method:t,url:s,data:(o||{}).data}))}});x.forEach(["post","put","patch"],function(t){function s(o){return function(l,n,a){return this.request(ms(a||{},{method:t,headers:o?{"Content-Type":"multipart/form-data"}:{},url:l,data:n}))}}Vr.prototype[t]=s(),Vr.prototype[t+"Form"]=s(!0)});const kr=Vr;class Rn{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let s;this.promise=new Promise(function(l){s=l});const o=this;this.promise.then(r=>{if(!o._listeners)return;let l=o._listeners.length;for(;l-- >0;)o._listeners[l](r);o._listeners=null}),this.promise.then=r=>{let l;const n=new Promise(a=>{o.subscribe(a),l=a}).then(r);return n.cancel=function(){o.unsubscribe(l)},n},t(function(l,n,a){o.reason||(o.reason=new Ts(l,n,a),s(o.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const s=this._listeners.indexOf(t);s!==-1&&this._listeners.splice(s,1)}toAbortSignal(){const t=new AbortController,s=o=>{t.abort(o)};return this.subscribe(s),t.signal.unsubscribe=()=>this.unsubscribe(s),t.signal}static source(){let t;return{token:new Rn(function(r){t=r}),cancel:t}}}const Am=Rn;function Lm(e){return function(s){return e.apply(null,s)}}function $m(e){return x.isObject(e)&&e.isAxiosError===!0}const ln={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(ln).forEach(([e,t])=>{ln[t]=e});const Mm=ln;function eu(e){const t=new kr(e),s=Da(kr.prototype.request,t);return x.extend(s,kr.prototype,t,{allOwnKeys:!0}),x.extend(s,t,null,{allOwnKeys:!0}),s.create=function(r){return eu(ms(e,r))},s}const Ge=eu(Tn);Ge.Axios=kr;Ge.CanceledError=Ts;Ge.CancelToken=Am;Ge.isCancel=Ka;Ge.VERSION=Za;Ge.toFormData=io;Ge.AxiosError=ce;Ge.Cancel=Ge.CanceledError;Ge.all=function(t){return Promise.all(t)};Ge.spread=Lm;Ge.isAxiosError=$m;Ge.mergeConfig=ms;Ge.AxiosHeaders=Ct;Ge.formToJSON=e=>Ga(x.isHTMLForm(e)?new FormData(e):e);Ge.getAdapter=Qa.getAdapter;Ge.HttpStatusCode=Mm;Ge.default=Ge;const C=Ge;const Um={name:"ConnexionView",data(){return{email:"",password:"",loading:!1,error:""}},methods:{async seConnecter(){var e,t;this.loading=!0,this.error="";try{const s=await C.post("/api/auth/login",{email:this.email,password:this.password});localStorage.setItem("user",JSON.stringify(s.data.user)),localStorage.setItem("token",s.data.token);let o="/accueil";s.data.user.role==="ADMIN"?o="/admin":(s.data.user.role==="SCENARISTE"||s.data.user.role==="REALISATEUR")&&(o="/scenariste"),this.$router.push(o)}catch(s){console.error("Erreur de connexion:",s),this.error=((t=(e=s.response)==null?void 0:e.data)==null?void 0:t.message)||"Erreur de connexion. Vrifiez vos identifiants."}finally{this.loading=!1}}}},Nm={class:"connexion-container"},Fm={class:"connexion-card"},Vm={class:"form-group"},Bm={class:"input-container"},Hm={class:"form-group"},zm={class:"input-container"},Gm={class:"form-options"},Km={class:"checkbox-container"},Wm={key:0,class:"error-message"},Jm=["disabled"],Xm={key:0,class:"btn-loading"},Ym={key:1,class:"btn-text"};function Qm(e,t,s,o,r,l){return p(),h("div",Nm,[t[16]||(t[16]=ns('<div class="background-animation"><div class="animated-bg"><div class="bg-shape shape-1"></div><div class="bg-shape shape-2"></div><div class="bg-shape shape-3"></div><div class="bg-shape shape-4"></div></div></div>',1)),i("div",Fm,[t[15]||(t[15]=i("div",{class:"connexion-header"},[i("div",{class:"logo-container"},[i("i",{class:"fas fa-user-circle logo-icon"})]),i("h1",null,"Connexion"),i("p",null,"Accdez  votre espace personnel")],-1)),i("form",{onSubmit:t[3]||(t[3]=Fe((...n)=>l.seConnecter&&l.seConnecter(...n),["prevent"])),class:"connexion-form"},[i("div",Vm,[i("div",Bm,[t[4]||(t[4]=i("i",{class:"fas fa-envelope input-icon"},null,-1)),T(i("input",{type:"email",id:"email","onUpdate:modelValue":t[0]||(t[0]=n=>r.email=n),required:"",placeholder:" ",class:"form-input"},null,512),[[Z,r.email]]),t[5]||(t[5]=i("label",{for:"email",class:"input-label"},"Email",-1))])]),i("div",Hm,[i("div",zm,[t[6]||(t[6]=i("i",{class:"fas fa-lock input-icon"},null,-1)),T(i("input",{type:"password",id:"password","onUpdate:modelValue":t[1]||(t[1]=n=>r.password=n),required:"",placeholder:" ",class:"form-input"},null,512),[[Z,r.password]]),t[7]||(t[7]=i("label",{for:"password",class:"input-label"},"Mot de passe",-1))])]),i("div",Gm,[i("label",Km,[t[8]||(t[8]=D(" Se souvenir de moi ",-1)),T(i("input",{type:"checkbox","onUpdate:modelValue":t[2]||(t[2]=n=>e.rememberMe=n)},null,512),[[cf,e.rememberMe]]),t[9]||(t[9]=i("span",{class:"checkmark"},null,-1))]),t[10]||(t[10]=i("a",{href:"#",class:"forgot-link"},"Mot de passe oubli?",-1))]),r.error?(p(),h("div",Wm,[t[11]||(t[11]=i("i",{class:"fas fa-exclamation-circle error-icon"},null,-1)),D(" "+v(r.error),1)])):I("",!0),i("button",{type:"submit",class:"connexion-btn",disabled:r.loading},[r.loading?(p(),h("span",Xm,[...t[12]||(t[12]=[i("span",{class:"loading-dots"},[i("span"),i("span"),i("span")],-1)])])):(p(),h("span",Ym,[...t[13]||(t[13]=[i("span",null,"Se connecter",-1),i("i",{class:"fas fa-arrow-right btn-icon"},null,-1)])]))],8,Jm),t[14]||(t[14]=i("div",{class:"signup-link"},[D(" Pas encore inscrit? "),i("a",{href:"#"},"Crer un compte")],-1))],32)])])}const Zm=Ke(Um,[["render",Qm]]);const eg={name:"AccueilView",data(){return{showProfileMenu:!1,user:null}},computed:{userInitials(){var e;return(e=this.user)!=null&&e.nom?this.user.nom.split(" ").map(t=>t.charAt(0)).join("").toUpperCase().substring(0,2):"?"}},mounted(){this.loadUser(),document.addEventListener("click",this.handleClickOutside)},beforeUnmount(){document.removeEventListener("click",this.handleClickOutside)},methods:{loadUser(){const e=localStorage.getItem("user");e?this.user=JSON.parse(e):this.$router.push("/")},toggleProfileMenu(){this.showProfileMenu=!this.showProfileMenu},handleClickOutside(e){e.target.closest(".profile-section")||(this.showProfileMenu=!1)},seDeconnecter(){localStorage.removeItem("user"),localStorage.removeItem("token"),this.$router.push("/")}}},tg={class:"accueil-container"},sg={class:"header"},rg={class:"header-content"},og={class:"profile-section"},ng={class:"profile-avatar"},ig={class:"profile-name"},lg={key:0,class:"profile-menu"},ag={class:"profile-info"},ug={class:"profile-avatar-large"},dg={class:"profile-details"},cg={class:"role-badge"},fg={class:"profile-actions"},pg={class:"main-content"},hg={class:"welcome-section"},mg={class:"dashboard-grid"},gg={class:"dashboard-card"},vg={class:"dashboard-card"},yg={class:"dashboard-card"};function bg(e,t,s,o,r,l){var a,d,u,c,m,S;const n=rs("router-link");return p(),h("div",tg,[i("header",sg,[i("div",rg,[t[3]||(t[3]=i("h1",null,"Gestion de Cration de Films",-1)),i("div",og,[i("div",{class:"profile-icon",onClick:t[0]||(t[0]=(...E)=>l.toggleProfileMenu&&l.toggleProfileMenu(...E))},[i("span",ng,v(l.userInitials),1),i("span",ig,v((a=r.user)==null?void 0:a.nom),1),t[2]||(t[2]=i("span",{class:"profile-arrow"},"",-1))]),r.showProfileMenu?(p(),h("div",lg,[i("div",ag,[i("div",ug,v(l.userInitials),1),i("div",dg,[i("h3",null,v((d=r.user)==null?void 0:d.nom),1),i("p",null,v((u=r.user)==null?void 0:u.email),1),i("p",cg,v((c=r.user)==null?void 0:c.role),1)])]),i("div",fg,[i("button",{onClick:t[1]||(t[1]=(...E)=>l.seDeconnecter&&l.seDeconnecter(...E)),class:"logout-btn"}," Se dconnecter ")])])):I("",!0)])])]),i("main",pg,[i("div",hg,[i("h2",null,"Bienvenue, "+v((m=r.user)==null?void 0:m.nom)+" !",1),i("p",null,"Vous tes connect en tant que "+v((S=r.user)==null?void 0:S.role),1)]),i("div",mg,[i("div",gg,[t[5]||(t[5]=i("h3",null,"Projets",-1)),t[6]||(t[6]=i("p",null,"Grez vos projets de films",-1)),qe(n,{to:"/projets",class:"card-link"},{default:Ve(()=>[...t[4]||(t[4]=[D("Voir les projets",-1)])]),_:1})]),i("div",vg,[t[8]||(t[8]=i("h3",null,"Utilisateurs",-1)),t[9]||(t[9]=i("p",null,"Grez les utilisateurs",-1)),qe(n,{to:"/utilisateurs",class:"card-link"},{default:Ve(()=>[...t[7]||(t[7]=[D("Voir les utilisateurs",-1)])]),_:1})]),i("div",yg,[t[11]||(t[11]=i("h3",null,"Statistiques",-1)),t[12]||(t[12]=i("p",null,"Consultez les statistiques",-1)),qe(n,{to:"/statistiques",class:"card-link"},{default:Ve(()=>[...t[10]||(t[10]=[D("Voir les stats",-1)])]),_:1})])])])])}const Sg=Ke(eg,[["render",bg]]);const Eg={name:"HomeView"},_g={class:"home"};function wg(e,t,s,o,r,l){const n=rs("router-link");return p(),h("div",_g,[t[1]||(t[1]=i("h1",null,"Bienvenue dans la gestion de cration d'un film",-1)),qe(n,{to:"/utilisateurs",class:"btn"},{default:Ve(()=>[...t[0]||(t[0]=[D("Voir les utilisateurs",-1)])]),_:1})])}const Ig=Ke(Eg,[["render",wg],["__scopeId","data-v-d1c45329"]]);const Cg={name:"UtilisateursView",data(){return{utilisateurs:[]}},created(){this.fetchUtilisateurs()},methods:{async fetchUtilisateurs(){try{const e=await C.get("/api/utilisateurs");this.utilisateurs=e.data}catch(e){console.error("Erreur lors de la rcupration des utilisateurs:",e)}},formatDate(e){return e?new Date(e).toLocaleString():""}}},xg={class:"app-wrapper"},jg={class:"utilisateurs-container"},kg={class:"utilisateurs-table"};function Pg(e,t,s,o,r,l){return p(),h("div",xg,[i("div",jg,[t[1]||(t[1]=i("h1",null,"Liste des Utilisateurs",-1)),i("table",kg,[t[0]||(t[0]=i("thead",null,[i("tr",null,[i("th",null,"ID"),i("th",null,"Nom"),i("th",null,"Email"),i("th",null,"Rle"),i("th",null,"Cr le"),i("th",null,"Modifi le")])],-1)),i("tbody",null,[(p(!0),h(Q,null,te(r.utilisateurs,n=>(p(),h("tr",{key:n.id},[i("td",null,v(n.id),1),i("td",null,v(n.nom),1),i("td",null,v(n.email),1),i("td",null,v(n.role),1),i("td",null,v(l.formatDate(n.creeLe)),1),i("td",null,v(l.formatDate(n.modifieLe)),1)]))),128))])])])])}const Og=Ke(Cg,[["render",Pg],["__scopeId","data-v-e417fb84"]]),qg={name:"AccueilView",data(){return{showProfileMenu:!1,user:null}},computed:{userInitials(){var e;return(e=this.user)!=null&&e.nom?this.user.nom.split(" ").map(t=>t.charAt(0)).join("").toUpperCase().substring(0,2):"?"}},mounted(){this.loadUser(),document.addEventListener("click",this.handleClickOutside)},beforeUnmount(){document.removeEventListener("click",this.handleClickOutside)},methods:{loadUser(){const e=localStorage.getItem("user");e?this.user=JSON.parse(e):this.$router.push("/")},toggleProfileMenu(){this.showProfileMenu=!this.showProfileMenu},handleClickOutside(e){e.target.closest(".profile-section")||(this.showProfileMenu=!1)},seDeconnecter(){localStorage.removeItem("user"),localStorage.removeItem("token"),this.$router.push("/")}}},Dg={class:"accueil-container"},Tg={class:"header"},Rg={class:"header-content"},Ag={class:"profile-section"},Lg={class:"profile-avatar"},$g={class:"profile-name"},Mg={key:0,class:"profile-menu"},Ug={class:"profile-info"},Ng={class:"profile-avatar-large"},Fg={class:"profile-details"},Vg={class:"role-badge"},Bg={class:"profile-actions"},Hg={class:"main-content"},zg={class:"welcome-section"},Gg={class:"dashboard-grid"},Kg={class:"dashboard-card"},Wg={class:"dashboard-card"},Jg={class:"dashboard-card"};function Xg(e,t,s,o,r,l){var a,d,u,c,m,S;const n=rs("router-link");return p(),h("div",Dg,[i("header",Tg,[i("div",Rg,[t[3]||(t[3]=i("h1",null,"Gestion de Cration de Films",-1)),i("div",Ag,[i("div",{class:"profile-icon",onClick:t[0]||(t[0]=(...E)=>l.toggleProfileMenu&&l.toggleProfileMenu(...E))},[i("span",Lg,v(l.userInitials),1),i("span",$g,v((a=r.user)==null?void 0:a.nom),1),t[2]||(t[2]=i("span",{class:"profile-arrow"},"",-1))]),r.showProfileMenu?(p(),h("div",Mg,[i("div",Ug,[i("div",Ng,v(l.userInitials),1),i("div",Fg,[i("h3",null,v((d=r.user)==null?void 0:d.nom),1),i("p",null,v((u=r.user)==null?void 0:u.email),1),i("p",Vg,v((c=r.user)==null?void 0:c.role),1)])]),i("div",Bg,[i("button",{onClick:t[1]||(t[1]=(...E)=>l.seDeconnecter&&l.seDeconnecter(...E)),class:"logout-btn"}," Se dconnecter ")])])):I("",!0)])])]),i("main",Hg,[i("div",zg,[i("h2",null,"Bienvenue, "+v((m=r.user)==null?void 0:m.nom)+" !",1),i("p",null,"Vous tes connect en tant que "+v((S=r.user)==null?void 0:S.role),1)]),i("div",Gg,[i("div",Kg,[t[5]||(t[5]=i("h3",null,"Projets",-1)),t[6]||(t[6]=i("p",null,"Grez vos projets de films",-1)),qe(n,{to:"/projets",class:"card-link"},{default:Ve(()=>[...t[4]||(t[4]=[D("Voir les projets",-1)])]),_:1})]),i("div",Wg,[t[8]||(t[8]=i("h3",null,"Utilisateurs",-1)),t[9]||(t[9]=i("p",null,"Grez les utilisateurs",-1)),qe(n,{to:"/utilisateurs",class:"card-link"},{default:Ve(()=>[...t[7]||(t[7]=[D("Voir les utilisateurs",-1)])]),_:1})]),i("div",Jg,[t[11]||(t[11]=i("h3",null,"Statistiques",-1)),t[12]||(t[12]=i("p",null,"Consultez les statistiques",-1)),qe(n,{to:"/statistiques",class:"card-link"},{default:Ve(()=>[...t[10]||(t[10]=[D("Voir les stats",-1)])]),_:1})])])])])}const Yg=Ke(qg,[["render",Xg]]);const Qg={name:"ScenaristeAccueilView",data(){return{showProfileMenu:!1,user:null,projects:[],genres:[],statuts:[],filterTimePeriod:"all",filterGenre:"",filterStatut:"",editingProject:null,editForm:{titre:"",synopsis:"",genreId:"",statutId:"",dateFin:""},editLoading:!1,editError:"",searchQuery:"",searchResults:[],showSearchResults:!1,searchTimeout:null}},computed:{userInitials(){var e;return(e=this.user)!=null&&e.nom?this.user.nom.split(" ").map(t=>t.charAt(0)).join("").toUpperCase().substring(0,2):"?"},filteredProjects(){let e=this.projects;if(this.filterGenre&&(e=e.filter(t=>t.genreNom===this.filterGenre)),this.filterStatut&&(e=e.filter(t=>t.statutNom===this.filterStatut)),this.filterTimePeriod!=="all"){const t=new Date;let s;switch(this.filterTimePeriod){case"today":s=new Date(t.getFullYear(),t.getMonth(),t.getDate());break;case"this_week":const o=t.getDay(),r=o===0?6:o-1;s=new Date(t),s.setDate(t.getDate()-r),s.setHours(0,0,0,0);break;case"this_month":s=new Date(t.getFullYear(),t.getMonth(),1);break;case"this_year":s=new Date(t.getFullYear(),0,1);break;case"recent":s=new Date(t),s.setDate(t.getDate()-7);break;default:s=null}s&&(e=e.filter(o=>new Date(o.modifieLe)>=s))}return e}},mounted(){this.loadUser(),this.fetchGenres(),this.fetchStatuts(),this.fetchProjects(),document.addEventListener("click",this.handleClickOutside),document.addEventListener("click",this.handleClickOutsideSearch)},beforeUnmount(){document.removeEventListener("click",this.handleClickOutside),document.removeEventListener("click",this.handleClickOutsideSearch)},methods:{loadUser(){const e=localStorage.getItem("user");e?(this.user=JSON.parse(e),this.user.role!=="SCENARISTE"&&this.user.role!=="REALISATEUR"&&this.$router.push("/accueil")):this.$router.push("/")},performSearch(){if(this.searchTimeout&&clearTimeout(this.searchTimeout),this.searchQuery.trim().length<2){this.showSearchResults=!1,this.searchResults=[];return}this.searchTimeout=setTimeout(()=>{this.executeSearch()},300)},async executeSearch(){try{const e=this.searchQuery.trim();if(e.length<2)return;console.log("Lancement de la recherche pour:",e);const[t,s,o]=await Promise.all([C.get(`/api/recherche/episodes?q=${encodeURIComponent(e)}`).catch(a=>(console.error("Erreur recherche pisodes:",a),{data:[]})),C.get(`/api/recherche/scenes?q=${encodeURIComponent(e)}`).catch(a=>(console.error("Erreur recherche scnes:",a),{data:[]})),C.get(`/api/recherche/sequences?q=${encodeURIComponent(e)}`).catch(a=>(console.error("Erreur recherche squences:",a),{data:[]}))]);console.log("Rponses reues:",{episodes:t.data,scenes:s.data,sequences:o.data});const r=(t.data||[]).map(a=>({...a,type:"episode",projetTitre:a.projetTitre||"Projet inconnu",projetId:a.projetId||this.getProjetIdFromEpisode(a)})),l=(s.data||[]).map(a=>({...a,type:"scene",projetTitre:a.projetTitre||"Projet inconnu",episodeTitre:a.episodeTitre||"pisode inconnu",projetId:a.projetId||this.getProjetIdFromScene(a)})),n=(o.data||[]).map(a=>({...a,type:"sequence",projetTitre:a.projetTitre||"Projet inconnu",episodeTitre:a.episodeTitre||"pisode inconnu",projetId:a.projetId||this.getProjetIdFromSequence(a)}));this.searchResults=[...r,...l,...n],this.showSearchResults=!0,console.log("Rsultats combins:",this.searchResults)}catch(e){console.error("Erreur globale lors de la recherche:",e),this.searchResults=[],this.showSearchResults=!0}},clearSearch(){this.searchQuery="",this.searchResults=[],this.showSearchResults=!1},getTypeLabel(e){return{episode:"pisode",scene:"Scne",sequence:"Squence"}[e]||e},truncateText(e,t){return e.length<=t?e:e.substring(0,t)+"..."},navigateToResult(e){if(!e.projetId){console.error("ID du projet manquant dans le rsultat de recherche");return}const t={};e.type==="episode"?t.episodeId=e.id:e.type==="sequence"?(t.episodeId=e.episodeId,t.sequenceId=e.id):e.type==="scene"&&(t.episodeId=e.episodeId,t.sequenceId=e.sequenceId),this.$router.push({path:`/projet/${e.projetId}/ecran-travail`,query:t}),this.clearSearch()},handleClickOutsideSearch(e){e.target.closest(".global-search-section")||(this.showSearchResults=!1)},async fetchGenres(){try{const e=await C.get("/api/genres");this.genres=e.data}catch(e){console.error("Erreur lors du chargement des genres:",e)}},async fetchStatuts(){try{const e=await C.get("/api/statuts-projet");this.statuts=e.data}catch(e){console.error("Erreur lors du chargement des statuts:",e)}},async fetchProjects(){try{const e=await C.get("/api/projets");this.projects=e.data}catch(e){console.error("Erreur lors du chargement des projets:",e)}},startEdit(e){this.editingProject=e,this.editForm={titre:e.titre,synopsis:e.synopsis||"",genreId:e.genreId,statutId:this.getCurrentStatutId(e.statutNom),dateFin:e.dateFin}},getCurrentStatutId(e){const t=this.statuts.find(s=>s.nomStatutsProjet===e);return t?t.idStatutProjet:""},async submitEdit(){var e,t;this.editLoading=!0,this.editError="";try{(await C.put(`/api/projets/${this.editingProject.id}`,this.editForm)).status===200&&(await this.fetchProjects(),this.cancelEdit())}catch(s){console.error("Erreur lors de la modification du projet:",s),this.editError=((t=(e=s.response)==null?void 0:e.data)==null?void 0:t.message)||"Erreur lors de la modification du projet"}finally{this.editLoading=!1}},cancelEdit(){this.editingProject=null,this.editForm={titre:"",synopsis:"",genreId:"",statutId:"",dateFin:""},this.editError=""},async deleteProject(e){if(confirm("tes-vous sr de vouloir supprimer ce projet ?"))try{await C.delete(`/api/projets/${e}`),await this.fetchProjects()}catch(t){console.error("Erreur lors de la suppression du projet:",t),alert("Erreur lors de la suppression du projet")}},formatDate(e){return new Date(e).toLocaleString()},toggleProfileMenu(){this.showProfileMenu=!this.showProfileMenu},handleClickOutside(e){e.target.closest(".profile-section")||(this.showProfileMenu=!1)},seDeconnecter(){localStorage.removeItem("user"),localStorage.removeItem("token"),this.$router.push("/")},goToAddEpisode(e){this.$router.push(`/projet/${e}/add-episode`)},goToAddProject(){this.$router.push("/add-project")},async executeSearch(){try{const e=this.searchQuery.trim();if(e.length<2)return;console.log("Lancement de la recherche pour:",e);try{const[t,s,o]=await Promise.all([C.get(`/api/recherche/episodes?q=${encodeURIComponent(e)}`),C.get(`/api/recherche/scenes?q=${encodeURIComponent(e)}`),C.get(`/api/recherche/sequences?q=${encodeURIComponent(e)}`)]);console.log("Rponses reues:",{episodes:t.data,scenes:s.data,sequences:o.data}),this.processSearchResults(t.data,s.data,o.data)}catch(t){console.warn("Recherche API choue, utilisation de la recherche de secours:",t),await this.executeSearchFallback(e)}}catch(e){console.error("Erreur globale lors de la recherche:",e),this.searchResults=[],this.showSearchResults=!0}},processSearchResults(e,t,s){const o=(e||[]).map(n=>({...n,type:"episode",projetTitre:n.projetTitre||"Projet inconnu",projetId:n.projetId||this.extractProjetId(n)})),r=(t||[]).map(n=>({...n,type:"scene",projetTitre:n.projetTitre||"Projet inconnu",episodeTitre:n.episodeTitre||"pisode inconnu",projetId:n.projetId||this.extractProjetId(n)})),l=(s||[]).map(n=>({...n,type:"sequence",projetTitre:n.projetTitre||"Projet inconnu",episodeTitre:n.episodeTitre||"pisode inconnu",projetId:n.projetId||this.extractProjetId(n)}));this.searchResults=[...o,...r,...l],this.showSearchResults=!0,console.log("Rsultats combins:",this.searchResults)},async executeSearchFallback(e){try{const o=((await C.get("/api/projets")).data||[]).filter(r=>r.titre&&r.titre.toLowerCase().includes(e.toLowerCase()));this.searchResults=o.map(r=>({id:r.id,titre:r.titre,type:"projet",projetTitre:r.titre,synopsis:r.synopsis||"",ordre:0,projetId:r.id})),this.showSearchResults=!0,console.log("Rsultats de secours:",this.searchResults)}catch(t){console.error("Recherche de secours choue:",t),this.searchResults=[],this.showSearchResults=!0}},extractProjetId(e){return e.projetId||null}}},Zg={class:"app-wrapper"},ev={class:"accueil-container"},tv={class:"main-content-scenariste"},sv={class:"welcome-section"},rv={class:"global-search-section"},ov={class:"search-container"},nv={key:0,class:"search-results"},iv={class:"search-results-header"},lv={class:"results-list"},av=["onClick"],uv={class:"result-content"},dv={class:"result-details"},cv={key:0},fv={key:1},pv={key:0,class:"result-synopsis"},hv={key:0,class:"no-results"},mv={class:"title-filtre"},gv={class:"filters-scenariste"},vv={class:"filter-group-scenariste"},yv={class:"filter-group-scenariste"},bv=["value"],Sv={class:"filter-group-scenariste"},Ev=["value"],_v={class:"add-project-btn-container"},wv={key:0,class:"edit-project-modal"},Iv={class:"modal-content"},Cv={class:"modal-header"},xv={class:"form-group"},jv={class:"form-group"},kv={class:"form-row"},Pv={class:"form-group"},Ov=["value"],qv={class:"form-group"},Dv=["value"],Tv={class:"form-group"},Rv={key:0,class:"error-message"},Av={class:"form-actions"},Lv=["disabled"],$v={class:"project-list"},Mv={class:"episode-header"},Uv={class:"episode-statut-scene"},Nv={class:"episode-actions"},Fv=["onClick"],Vv=["onClick"],Bv={class:"episode-footer"},Hv={class:"button-group"},zv=["onClick"],Gv=["onClick"],Kv=["onClick"];function Wv(e,t,s,o,r,l){var a,d;const n=rs("center");return p(),h("div",Zg,[i("div",ev,[i("main",tv,[i("div",sv,[i("h2",null,"Bienvenue, "+v((a=r.user)==null?void 0:a.nom)+" !",1),i("p",null,"Vous tes connect en tant que "+v((d=r.user)==null?void 0:d.role),1)]),t[45]||(t[45]=i("br",null,null,-1)),i("div",rv,[i("div",ov,[t[17]||(t[17]=i("i",{class:"fas fa-search search-icon"},null,-1)),T(i("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=u=>r.searchQuery=u),onInput:t[1]||(t[1]=(...u)=>l.performSearch&&l.performSearch(...u)),placeholder:"Rechercher des pisodes, scnes, squences...",class:"search-input"},null,544),[[Z,r.searchQuery]]),r.searchQuery?(p(),h("button",{key:0,onClick:t[2]||(t[2]=(...u)=>l.clearSearch&&l.clearSearch(...u)),class:"clear-search-btn"},[...t[16]||(t[16]=[i("i",{class:"fas fa-times"},null,-1)])])):I("",!0)]),r.showSearchResults?(p(),h("div",nv,[i("div",iv,[i("h3",null,"Rsultats de recherche ("+v(r.searchResults.length)+")",1),i("button",{onClick:t[3]||(t[3]=(...u)=>l.clearSearch&&l.clearSearch(...u)),class:"close-results-btn"},[...t[18]||(t[18]=[i("i",{class:"fas fa-times"},null,-1)])])]),i("div",lv,[(p(!0),h(Q,null,te(r.searchResults,u=>(p(),h("div",{key:u.id+u.type,class:"search-result-item",onClick:c=>l.navigateToResult(u)},[i("span",{class:ut(["result-type-badge",u.type])},v(l.getTypeLabel(u.type)),3),i("div",uv,[i("h4",null,v(u.titre),1),i("div",dv,[i("span",null,"Projet: "+v(u.projetTitre),1),u.episodeTitre?(p(),h("span",cv,"pisode: "+v(u.episodeTitre),1)):I("",!0),u.sequenceTitre?(p(),h("span",fv,"Squence: "+v(u.sequenceTitre),1)):I("",!0),i("span",null,"Ordre: "+v(u.ordre),1)]),u.synopsis?(p(),h("p",pv,v(l.truncateText(u.synopsis,100)),1)):I("",!0)]),t[19]||(t[19]=i("i",{class:"fas fa-arrow-right result-arrow"},null,-1))],8,av))),128)),r.searchResults.length===0?(p(),h("div",hv,' Aucun rsultat trouv pour "'+v(r.searchQuery)+'" ',1)):I("",!0)])])):I("",!0)]),i("div",mv,[qe(n,null,{default:Ve(()=>[...t[20]||(t[20]=[i("h2",null,"Les projets existants",-1)])]),_:1})]),t[46]||(t[46]=i("br",null,null,-1)),i("div",gv,[i("div",vv,[t[22]||(t[22]=i("label",null,"Priode de mise  jour:",-1)),T(i("select",{"onUpdate:modelValue":t[4]||(t[4]=u=>r.filterTimePeriod=u)},[...t[21]||(t[21]=[ns('<option value="all" data-v-5a253cc8>Toutes les priodes</option><option value="today" data-v-5a253cc8>Aujourd&#39;hui</option><option value="this_week" data-v-5a253cc8>Cette semaine</option><option value="this_month" data-v-5a253cc8>Ce mois-ci</option><option value="this_year" data-v-5a253cc8>Cette anne</option><option value="recent" data-v-5a253cc8>Rcent (7 derniers jours)</option>',6)])],512),[[he,r.filterTimePeriod]])]),i("div",yv,[t[24]||(t[24]=i("label",null,"Genre:",-1)),T(i("select",{"onUpdate:modelValue":t[5]||(t[5]=u=>r.filterGenre=u)},[t[23]||(t[23]=i("option",{value:""},"Tous",-1)),(p(!0),h(Q,null,te(r.genres,u=>(p(),h("option",{key:u.idGenre,value:u.nomGenre},v(u.nomGenre),9,bv))),128))],512),[[he,r.filterGenre]])]),i("div",Sv,[t[26]||(t[26]=i("label",null,"Statut:",-1)),T(i("select",{"onUpdate:modelValue":t[6]||(t[6]=u=>r.filterStatut=u)},[t[25]||(t[25]=i("option",{value:""},"Tous",-1)),(p(!0),h(Q,null,te(r.statuts,u=>(p(),h("option",{key:u.idStatutProjet,value:u.nomStatutsProjet},v(u.nomStatutsProjet),9,Ev))),128))],512),[[he,r.filterStatut]])]),i("div",_v,[i("button",{class:"add-project-btn",onClick:t[7]||(t[7]=(...u)=>l.goToAddProject&&l.goToAddProject(...u))},[...t[27]||(t[27]=[i("i",{class:"fas fa-plus-circle icon"},null,-1),D(" Projet ",-1)])])])]),t[47]||(t[47]=D()),t[48]||(t[48]=i("br",null,null,-1)),t[49]||(t[49]=D()),t[50]||(t[50]=i("br",null,null,-1)),r.editingProject?(p(),h("div",wv,[i("div",Iv,[i("div",Cv,[t[29]||(t[29]=i("h3",null,[i("i",{class:"fas fa-edit icon"}),D(" Modifier le projet")],-1)),i("button",{onClick:t[8]||(t[8]=(...u)=>l.cancelEdit&&l.cancelEdit(...u)),class:"close-btn"},[...t[28]||(t[28]=[i("i",{class:"fas fa-times icon"},null,-1)])])]),i("form",{onSubmit:t[15]||(t[15]=Fe((...u)=>l.submitEdit&&l.submitEdit(...u),["prevent"])),class:"edit-form"},[i("div",xv,[t[30]||(t[30]=i("label",{for:"edit-titre"},"Titre du projet *",-1)),T(i("input",{type:"text",id:"edit-titre","onUpdate:modelValue":t[9]||(t[9]=u=>r.editForm.titre=u),required:"",class:"form-input"},null,512),[[Z,r.editForm.titre]])]),i("div",jv,[t[31]||(t[31]=i("label",{for:"edit-synopsis"},"Synopsis",-1)),T(i("textarea",{id:"edit-synopsis","onUpdate:modelValue":t[10]||(t[10]=u=>r.editForm.synopsis=u),rows:"4",class:"form-textarea"},null,512),[[Z,r.editForm.synopsis]])]),i("div",kv,[i("div",Pv,[t[33]||(t[33]=i("label",{for:"edit-genre"},"Genre *",-1)),T(i("select",{id:"edit-genre","onUpdate:modelValue":t[11]||(t[11]=u=>r.editForm.genreId=u),required:"",class:"form-select"},[t[32]||(t[32]=i("option",{value:""},"Slectionnez un genre",-1)),(p(!0),h(Q,null,te(r.genres,u=>(p(),h("option",{key:u.idGenre,value:u.idGenre},v(u.nomGenre),9,Ov))),128))],512),[[he,r.editForm.genreId]])]),i("div",qv,[t[35]||(t[35]=i("label",{for:"edit-statut"},"Statut *",-1)),T(i("select",{id:"edit-statut","onUpdate:modelValue":t[12]||(t[12]=u=>r.editForm.statutId=u),required:"",class:"form-select"},[t[34]||(t[34]=i("option",{value:""},"Slectionnez un statut",-1)),(p(!0),h(Q,null,te(r.statuts,u=>(p(),h("option",{key:u.idStatutProjet,value:u.idStatutProjet},v(u.nomStatutsProjet),9,Dv))),128))],512),[[he,r.editForm.statutId]])])]),i("div",Tv,[t[36]||(t[36]=i("label",{for:"edit-dateFin"},"Date de fin *",-1)),T(i("input",{type:"date",id:"edit-dateFin","onUpdate:modelValue":t[13]||(t[13]=u=>r.editForm.dateFin=u),required:"",class:"form-input"},null,512),[[Z,r.editForm.dateFin]])]),r.editError?(p(),h("div",Rv,v(r.editError),1)):I("",!0),i("div",Av,[i("button",{type:"button",onClick:t[14]||(t[14]=(...u)=>l.cancelEdit&&l.cancelEdit(...u)),class:"cancel-btn"},[...t[37]||(t[37]=[i("i",{class:"fas fa-times icon"},null,-1),D(" Annuler",-1)])]),i("button",{type:"submit",class:"submit-btn",disabled:r.editLoading},[t[38]||(t[38]=i("i",{class:"fas fa-save icon"},null,-1)),D(" "+v(r.editLoading?"Modification en cours...":"Modifier le projet"),1)],8,Lv)])],32)])])):I("",!0),i("div",$v,[(p(!0),h(Q,null,te(l.filteredProjects,(u,c)=>(p(),h("div",{key:u.id,class:"project-card-scen",style:es({"--index":c+1})},[i("div",Mv,[i("div",Uv,[i("p",null,v(u.statutNom),1),i("div",Nv,[i("span",{class:"icon-edit",onClick:m=>l.startEdit(u)},[...t[39]||(t[39]=[i("i",{class:"fas fa-edit"},null,-1)])],8,Fv),i("span",{class:"icon-delete",onClick:m=>l.deleteProject(u.id)},[...t[40]||(t[40]=[i("i",{class:"fas fa-trash-alt"},null,-1)])],8,Vv)])])]),i("h3",null,[t[41]||(t[41]=i("i",{class:"fas fa-film icon"},null,-1)),D(" Titre: "+v(u.titre),1)]),i("p",null,"Genre: "+v(u.genreNom),1),i("p",null,"Cr le: "+v(l.formatDate(u.creeLe)),1),i("p",null,"Modifi le: "+v(l.formatDate(u.modifieLe)),1),i("div",Bv,[i("div",Hv,[i("button",{class:"details-btn",onClick:m=>e.$router.push(`/projet/${u.id}`)},[...t[42]||(t[42]=[i("i",{class:"fas fa-info-circle icon"},null,-1),D(" Dtails ",-1)])],8,zv),i("button",{class:"add-episode-btn-scen",onClick:m=>l.goToAddEpisode(u.id)},[...t[43]||(t[43]=[i("i",{class:"fas fa-plus-circle icon"},null,-1),D(" pisode ",-1)])],8,Gv)]),i("button",{class:"work-screen-btn",onClick:m=>e.$router.push(`/projet/${u.id}/ecran-travail`)},[...t[44]||(t[44]=[i("i",{class:"fas fa-desktop icon",style:{color:"#21294F"}},null,-1),D(" cran de Travail ",-1)])],8,Kv)])],4))),128))])])])])}const Jv=Ke(Qg,[["render",Wv],["__scopeId","data-v-5a253cc8"]]);const Xv={name:"ScenaristeAccueilView",data(){return{showProfileMenu:!1,user:null,projects:[],genres:[],statuts:[],filterTimePeriod:"all",filterGenre:"",filterStatut:"",editingProject:null,editForm:{titre:"",synopsis:"",genreId:"",statutId:"",dateFin:""},editLoading:!1,editError:""}},computed:{userInitials(){var e;return(e=this.user)!=null&&e.nom?this.user.nom.split(" ").map(t=>t.charAt(0)).join("").toUpperCase().substring(0,2):"?"},filteredProjects(){let e=this.projects;if(this.filterGenre&&(e=e.filter(t=>t.genreNom===this.filterGenre)),this.filterStatut&&(e=e.filter(t=>t.statutNom===this.filterStatut)),this.filterTimePeriod!=="all"){const t=new Date;let s;switch(this.filterTimePeriod){case"today":s=new Date(t.getFullYear(),t.getMonth(),t.getDate());break;case"this_week":const o=t.getDay(),r=o===0?6:o-1;s=new Date(t),s.setDate(t.getDate()-r),s.setHours(0,0,0,0);break;case"this_month":s=new Date(t.getFullYear(),t.getMonth(),1);break;case"this_year":s=new Date(t.getFullYear(),0,1);break;case"recent":s=new Date(t),s.setDate(t.getDate()-7);break;default:s=null}s&&(e=e.filter(o=>new Date(o.modifieLe)>=s))}return e}},mounted(){this.loadUser(),this.fetchGenres(),this.fetchStatuts(),this.fetchProjects(),document.addEventListener("click",this.handleClickOutside)},beforeUnmount(){document.removeEventListener("click",this.handleClickOutside)},methods:{loadUser(){const e=localStorage.getItem("user");e?this.user=JSON.parse(e):this.$router.push("/")},async fetchGenres(){try{const e=await C.get("/api/genres");this.genres=e.data}catch(e){console.error("Erreur lors du chargement des genres:",e)}},async fetchStatuts(){try{const e=await C.get("/api/statuts-projet");this.statuts=e.data}catch(e){console.error("Erreur lors du chargement des statuts:",e)}},async fetchProjects(){try{const e=await C.get("/api/projets");this.projects=e.data}catch(e){console.error("Erreur lors du chargement des projets:",e)}},startEdit(e){this.editingProject=e,this.editForm={titre:e.titre,synopsis:e.synopsis||"",genreId:e.genreId,statutId:this.getCurrentStatutId(e.statutNom),dateFin:e.dateFin}},getCurrentStatutId(e){const t=this.statuts.find(s=>s.nomStatutsProjet===e);return t?t.idStatutProjet:""},async submitEdit(){var e,t;this.editLoading=!0,this.editError="";try{(await C.put(`/api/projets/${this.editingProject.id}`,this.editForm)).status===200&&(await this.fetchProjects(),this.cancelEdit())}catch(s){console.error("Erreur lors de la modification du projet:",s),this.editError=((t=(e=s.response)==null?void 0:e.data)==null?void 0:t.message)||"Erreur lors de la modification du projet"}finally{this.editLoading=!1}},cancelEdit(){this.editingProject=null,this.editForm={titre:"",synopsis:"",genreId:"",statutId:"",dateFin:""},this.editError=""},async deleteProject(e){if(confirm("tes-vous sr de vouloir supprimer ce projet ?"))try{await C.delete(`/api/projets/${e}`),await this.fetchProjects()}catch(t){console.error("Erreur lors de la suppression du projet:",t),alert("Erreur lors de la suppression du projet")}},formatDate(e){return new Date(e).toLocaleString()},toggleProfileMenu(){this.showProfileMenu=!this.showProfileMenu},handleClickOutside(e){e.target.closest(".profile-section")||(this.showProfileMenu=!1)},seDeconnecter(){localStorage.removeItem("user"),localStorage.removeItem("token"),this.$router.push("/")},goToAddEpisode(e){this.$router.push(`/projet/${e}/add-episode`)},goToAddProject(){this.$router.push("/add-project")}}},Yv={class:"app-wrapper"},Qv={class:"accueil-container"},Zv={class:"main-content-scenariste"},e1={class:"welcome-section"},t1={class:"title-filtre"},s1={class:"filters-scenariste"},r1={class:"filter-group-scenariste"},o1={class:"filter-group-scenariste"},n1=["value"],i1={class:"filter-group-scenariste"},l1=["value"],a1={class:"add-project-btn-container"},u1={key:0,class:"edit-project-modal"},d1={class:"modal-content"},c1={class:"modal-header"},f1={class:"form-group"},p1={class:"form-group"},h1={class:"form-row"},m1={class:"form-group"},g1=["value"],v1={class:"form-group"},y1=["value"],b1={class:"form-group"},S1={key:0,class:"error-message"},E1={class:"form-actions"},_1=["disabled"],w1={class:"project-list"},I1={class:"episode-header"},C1={class:"episode-statut-scene"},x1={class:"episode-footer"},j1={class:"button-group"},k1=["onClick"],P1=["onClick"];function O1(e,t,s,o,r,l){var a,d;const n=rs("center");return p(),h("div",Yv,[i("div",Qv,[i("main",Zv,[i("div",e1,[i("h2",null,"Bienvenue, "+v((a=r.user)==null?void 0:a.nom)+" !",1),i("p",null,"Vous tes connect en tant que "+v((d=r.user)==null?void 0:d.role),1)]),t[34]||(t[34]=i("br",null,null,-1)),i("div",t1,[qe(n,null,{default:Ve(()=>[...t[12]||(t[12]=[i("h2",null,"Les projets existants",-1)])]),_:1})]),t[35]||(t[35]=i("br",null,null,-1)),i("div",s1,[i("div",r1,[t[14]||(t[14]=i("label",null,"Priode de mise  jour:",-1)),T(i("select",{"onUpdate:modelValue":t[0]||(t[0]=u=>r.filterTimePeriod=u)},[...t[13]||(t[13]=[ns('<option value="all" data-v-e867c3d1>Toutes les priodes</option><option value="today" data-v-e867c3d1>Aujourd&#39;hui</option><option value="this_week" data-v-e867c3d1>Cette semaine</option><option value="this_month" data-v-e867c3d1>Ce mois-ci</option><option value="this_year" data-v-e867c3d1>Cette anne</option><option value="recent" data-v-e867c3d1>Rcent (7 derniers jours)</option>',6)])],512),[[he,r.filterTimePeriod]])]),i("div",o1,[t[16]||(t[16]=i("label",null,"Genre:",-1)),T(i("select",{"onUpdate:modelValue":t[1]||(t[1]=u=>r.filterGenre=u)},[t[15]||(t[15]=i("option",{value:""},"Tous",-1)),(p(!0),h(Q,null,te(r.genres,u=>(p(),h("option",{key:u.idGenre,value:u.nomGenre},v(u.nomGenre),9,n1))),128))],512),[[he,r.filterGenre]])]),i("div",i1,[t[18]||(t[18]=i("label",null,"Statut:",-1)),T(i("select",{"onUpdate:modelValue":t[2]||(t[2]=u=>r.filterStatut=u)},[t[17]||(t[17]=i("option",{value:""},"Tous",-1)),(p(!0),h(Q,null,te(r.statuts,u=>(p(),h("option",{key:u.idStatutProjet,value:u.nomStatutsProjet},v(u.nomStatutsProjet),9,l1))),128))],512),[[he,r.filterStatut]])]),i("div",a1,[i("button",{class:"add-project-btn",onClick:t[3]||(t[3]=(...u)=>l.goToAddProject&&l.goToAddProject(...u))},[...t[19]||(t[19]=[i("i",{class:"fas fa-plus-circle icon"},null,-1),D(" Projet ",-1)])])])]),t[36]||(t[36]=D()),t[37]||(t[37]=i("br",null,null,-1)),t[38]||(t[38]=D()),t[39]||(t[39]=i("br",null,null,-1)),r.editingProject?(p(),h("div",u1,[i("div",d1,[i("div",c1,[t[21]||(t[21]=i("h3",null,[i("i",{class:"fas fa-edit icon"}),D(" Modifier le projet")],-1)),i("button",{onClick:t[4]||(t[4]=(...u)=>l.cancelEdit&&l.cancelEdit(...u)),class:"close-btn"},[...t[20]||(t[20]=[i("i",{class:"fas fa-times icon"},null,-1)])])]),i("form",{onSubmit:t[11]||(t[11]=Fe((...u)=>l.submitEdit&&l.submitEdit(...u),["prevent"])),class:"edit-form"},[i("div",f1,[t[22]||(t[22]=i("label",{for:"edit-titre"},"Titre du projet *",-1)),T(i("input",{type:"text",id:"edit-titre","onUpdate:modelValue":t[5]||(t[5]=u=>r.editForm.titre=u),required:"",class:"form-input"},null,512),[[Z,r.editForm.titre]])]),i("div",p1,[t[23]||(t[23]=i("label",{for:"edit-synopsis"},"Synopsis",-1)),T(i("textarea",{id:"edit-synopsis","onUpdate:modelValue":t[6]||(t[6]=u=>r.editForm.synopsis=u),rows:"4",class:"form-textarea"},null,512),[[Z,r.editForm.synopsis]])]),i("div",h1,[i("div",m1,[t[25]||(t[25]=i("label",{for:"edit-genre"},"Genre *",-1)),T(i("select",{id:"edit-genre","onUpdate:modelValue":t[7]||(t[7]=u=>r.editForm.genreId=u),required:"",class:"form-select"},[t[24]||(t[24]=i("option",{value:""},"Slectionnez un genre",-1)),(p(!0),h(Q,null,te(r.genres,u=>(p(),h("option",{key:u.idGenre,value:u.idGenre},v(u.nomGenre),9,g1))),128))],512),[[he,r.editForm.genreId]])]),i("div",v1,[t[27]||(t[27]=i("label",{for:"edit-statut"},"Statut *",-1)),T(i("select",{id:"edit-statut","onUpdate:modelValue":t[8]||(t[8]=u=>r.editForm.statutId=u),required:"",class:"form-select"},[t[26]||(t[26]=i("option",{value:""},"Slectionnez un statut",-1)),(p(!0),h(Q,null,te(r.statuts,u=>(p(),h("option",{key:u.idStatutProjet,value:u.idStatutProjet},v(u.nomStatutsProjet),9,y1))),128))],512),[[he,r.editForm.statutId]])])]),i("div",b1,[t[28]||(t[28]=i("label",{for:"edit-dateFin"},"Date de fin *",-1)),T(i("input",{type:"date",id:"edit-dateFin","onUpdate:modelValue":t[9]||(t[9]=u=>r.editForm.dateFin=u),required:"",class:"form-input"},null,512),[[Z,r.editForm.dateFin]])]),r.editError?(p(),h("div",S1,v(r.editError),1)):I("",!0),i("div",E1,[i("button",{type:"button",onClick:t[10]||(t[10]=(...u)=>l.cancelEdit&&l.cancelEdit(...u)),class:"cancel-btn"},[...t[29]||(t[29]=[i("i",{class:"fas fa-times icon"},null,-1),D(" Annuler",-1)])]),i("button",{type:"submit",class:"submit-btn",disabled:r.editLoading},[t[30]||(t[30]=i("i",{class:"fas fa-save icon"},null,-1)),D(" "+v(r.editLoading?"Modification en cours...":"Modifier le projet"),1)],8,_1)])],32)])])):I("",!0),i("div",w1,[(p(!0),h(Q,null,te(l.filteredProjects,(u,c)=>(p(),h("div",{key:u.id,class:"project-card-scen",style:es({"--index":c+1})},[i("div",I1,[i("div",C1,[i("p",null,v(u.statutNom),1)])]),i("h3",null,[t[31]||(t[31]=i("i",{class:"fas fa-film icon"},null,-1)),D(" Titre: "+v(u.titre),1)]),i("p",null,"Genre: "+v(u.genreNom),1),i("p",null,"Cr le: "+v(l.formatDate(u.creeLe)),1),i("p",null,"Modifi le: "+v(l.formatDate(u.modifieLe)),1),i("div",x1,[i("div",j1,[i("button",{class:"details-btn",onClick:m=>e.$router.push(`/projet/${u.id}`)},[...t[32]||(t[32]=[i("i",{class:"fas fa-info-circle icon"},null,-1),D(" Dtails ",-1)])],8,k1)]),i("button",{class:"add-episode-btn-scen",onClick:m=>e.$router.push(`/projet/${u.id}/ecran-travail-viewers`)},[...t[33]||(t[33]=[i("i",{class:"fas fa-desktop icon",style:{color:"#21294F"}},null,-1),D(" cran de Travail ",-1)])],8,P1)])],4))),128))])])])])}const q1=Ke(Xv,[["render",O1],["__scopeId","data-v-e867c3d1"]]);const D1={name:"AddProjectView",data(){return{showProfileMenu:!1,user:null,project:{titre:"",synopsis:"",genreId:"",statutId:"",dateDebut:"",dateFin:""},genres:[],statuts:[],loading:!1,error:""}},computed:{userInitials(){var e;return(e=this.user)!=null&&e.nom?this.user.nom.split(" ").map(t=>t.charAt(0)).join("").toUpperCase().substring(0,2):"?"}},mounted(){this.loadUser(),this.fetchGenres(),this.fetchStatuts(),document.addEventListener("click",this.handleClickOutside)},beforeUnmount(){document.removeEventListener("click",this.handleClickOutside)},methods:{loadUser(){const e=localStorage.getItem("user");e?this.user=JSON.parse(e):this.$router.push("/")},async fetchGenres(){try{const e=await C.get("/api/genres");this.genres=e.data}catch(e){console.error("Erreur lors du chargement des genres:",e)}},async fetchStatuts(){try{const e=await C.get("/api/statuts-projet");this.statuts=e.data}catch(e){console.error("Erreur lors du chargement des statuts:",e)}},async submitProject(){var e,t;this.loading=!0,this.error="";try{(await C.post("/api/projets",this.project)).status===201&&this.$router.push("/scenariste")}catch(s){console.error("Erreur lors de la cration du projet:",s),this.error=((t=(e=s.response)==null?void 0:e.data)==null?void 0:t.message)||"Erreur lors de la cration du projet"}finally{this.loading=!1}},goBack(){this.$router.push("/scenariste")},toggleProfileMenu(){this.showProfileMenu=!this.showProfileMenu},handleClickOutside(e){e.target.closest(".profile-section")||(this.showProfileMenu=!1)},seDeconnecter(){localStorage.removeItem("user"),localStorage.removeItem("token"),this.$router.push("/")}}},T1={class:"add-project-container"},R1={class:"main-content"},A1={class:"form-header"},L1={class:"form-group"},$1={class:"form-group"},M1={class:"form-row"},U1={class:"form-group"},N1=["value"],F1={class:"form-group"},V1=["value"],B1={class:"form-row"},H1={class:"form-group"},z1={class:"form-group"},G1={key:0,class:"error-message"},K1={class:"form-actions"},W1=["disabled"];function J1(e,t,s,o,r,l){return p(),h("div",T1,[i("main",R1,[i("div",A1,[t[9]||(t[9]=i("h2",null,"Ajouter un nouveau projet",-1)),i("button",{onClick:t[0]||(t[0]=(...n)=>l.goBack&&l.goBack(...n)),class:"back-btn"}," Retour")]),i("form",{onSubmit:t[8]||(t[8]=Fe((...n)=>l.submitProject&&l.submitProject(...n),["prevent"])),class:"project-form"},[i("div",L1,[t[10]||(t[10]=i("label",{for:"titre"},"Titre du projet *",-1)),T(i("input",{type:"text",id:"titre","onUpdate:modelValue":t[1]||(t[1]=n=>r.project.titre=n),required:"",placeholder:"Entrez le titre du projet",class:"form-input"},null,512),[[Z,r.project.titre]])]),i("div",$1,[t[11]||(t[11]=i("label",{for:"synopsis"},"Synopsis",-1)),T(i("textarea",{id:"synopsis","onUpdate:modelValue":t[2]||(t[2]=n=>r.project.synopsis=n),placeholder:"Dcrivez le synopsis du projet",rows:"4",class:"form-textarea"},null,512),[[Z,r.project.synopsis]])]),i("div",M1,[i("div",U1,[t[13]||(t[13]=i("label",{for:"genre"},"Genre *",-1)),T(i("select",{id:"genre","onUpdate:modelValue":t[3]||(t[3]=n=>r.project.genreId=n),required:"",class:"form-select"},[t[12]||(t[12]=i("option",{value:""},"Slectionnez un genre",-1)),(p(!0),h(Q,null,te(r.genres,n=>(p(),h("option",{key:n.idGenre,value:n.idGenre},v(n.nomGenre),9,N1))),128))],512),[[he,r.project.genreId]])]),i("div",F1,[t[15]||(t[15]=i("label",{for:"statut"},"Statut *",-1)),T(i("select",{id:"statut","onUpdate:modelValue":t[4]||(t[4]=n=>r.project.statutId=n),required:"",class:"form-select"},[t[14]||(t[14]=i("option",{value:""},"Slectionnez un statut",-1)),(p(!0),h(Q,null,te(r.statuts,n=>(p(),h("option",{key:n.idStatutProjet,value:n.idStatutProjet},v(n.nomStatutsProjet),9,V1))),128))],512),[[he,r.project.statutId]])])]),i("div",B1,[i("div",H1,[t[16]||(t[16]=i("label",{for:"dateDebut"},"Date de dbut estime *",-1)),T(i("input",{type:"date",id:"dateDebut","onUpdate:modelValue":t[5]||(t[5]=n=>r.project.dateDebut=n),required:"",class:"form-input"},null,512),[[Z,r.project.dateDebut]])]),i("div",z1,[t[17]||(t[17]=i("label",{for:"dateFin"},"Date de fin estime *",-1)),T(i("input",{type:"date",id:"dateFin","onUpdate:modelValue":t[6]||(t[6]=n=>r.project.dateFin=n),required:"",class:"form-input"},null,512),[[Z,r.project.dateFin]])])]),r.error?(p(),h("div",G1,v(r.error),1)):I("",!0),i("div",K1,[i("button",{type:"button",onClick:t[7]||(t[7]=(...n)=>l.goBack&&l.goBack(...n)),class:"cancel-btn"},"Annuler"),i("button",{type:"submit",class:"submit-btn",disabled:r.loading},v(r.loading?"Cration en cours...":"Crer le projet"),9,W1)])],32)])])}const X1=Ke(D1,[["render",J1],["__scopeId","data-v-99e7da4d"]]);const Y1={data(){return{user:JSON.parse(localStorage.getItem("user"))||null,showProfileMenu:!1,projet:{},episodes:[],statutsEpisode:[],filterTimePeriod:"all",filterStatut:"",showEditModal:!1,editingEpisode:{idEpisode:null,titre:"",synopsis:"",ordre:null,statutId:null},editError:"",orderError:"",suggestedOrder:null,existingOrders:[],originalOrder:null}},computed:{userInitials(){var t;return(t=this.user)!=null&&t.nom?this.user.nom.split(" ").map(s=>s[0]).join("").toUpperCase():""},filteredEpisodes(){let e=this.episodes;this.filterStatut&&(e=e.filter(s=>s.statutNom===this.filterStatut));const t=new Date;return e=e.filter(s=>{const o=new Date(s.modifieLe);switch(this.filterTimePeriod){case"today":return o.toDateString()===t.toDateString();case"this_week":const r=new Date(t);return r.setDate(t.getDate()-7),o>=r;case"this_month":return o.getMonth()===t.getMonth()&&o.getFullYear()===t.getFullYear();case"this_year":return o.getFullYear()===t.getFullYear();case"recent":const l=new Date(t);return l.setDate(t.getDate()-7),o>=l;default:return!0}}),e}},async created(){await this.loadProjet(),await this.loadEpisodes(),await this.loadStatutsEpisode(),document.addEventListener("click",this.handleClickOutside)},beforeDestroy(){document.removeEventListener("click",this.handleClickOutside)},methods:{async loadProjet(){try{const e=await C.get(`/api/projets/${this.$route.params.id}`);this.projet=e.data}catch(e){console.error("Erreur lors du chargement du projet:",e)}},async loadEpisodes(){try{const e=await C.get(`/api/episodes/projet/${this.$route.params.id}`);this.episodes=e.data}catch(e){console.error("Erreur lors du chargement des pisodes:",e)}},async loadStatutsEpisode(){try{const e=await C.get("/api/statuts-episode");this.statutsEpisode=e.data}catch(e){console.error("Erreur lors du chargement des statuts:",e)}},startEditEpisode(e){this.editingEpisode={idEpisode:e.idEpisode,titre:e.titre,synopsis:e.synopsis,ordre:e.ordre,statutId:this.getStatutIdByNom(e.statutNom)},this.originalOrder=e.ordre,this.showEditModal=!0,this.loadExistingOrders()},async loadExistingOrders(){try{const e=await C.get(`/api/episodes/projet/${this.$route.params.id}`);this.existingOrders=e.data.filter(t=>t.idEpisode!==this.editingEpisode.idEpisode).map(t=>t.ordre),this.calculateSuggestedOrder()}catch(e){console.error("Erreur lors du chargement des ordres existants:",e)}},calculateSuggestedOrder(){if(this.existingOrders.length===0)this.suggestedOrder=1;else{const e=Math.max(...this.existingOrders);this.suggestedOrder=e+1}},validateOrder(){if(!this.editingEpisode.ordre){this.orderError="L'ordre est requis";return}const e=parseInt(this.editingEpisode.ordre);if(e<1){this.orderError="L'ordre doit tre un nombre positif";return}if(this.existingOrders.includes(e)&&e!==this.originalOrder){this.orderError=`L'ordre ${e} existe dj pour ce projet. Veuillez choisir un autre numro.`;return}this.orderError=""},useSuggestedOrder(){this.editingEpisode.ordre=this.suggestedOrder,this.validateOrder()},getStatutIdByNom(e){const t=this.statutsEpisode.find(s=>s.nomStatutsEpisode===e);return t?t.idStatutEpisode:null},async saveEditedEpisode(){var e,t,s,o,r,l;if(this.validateOrder(),!this.orderError)try{const n=await C.put(`/api/episodes/${this.editingEpisode.idEpisode}`,{titre:this.editingEpisode.titre,synopsis:this.editingEpisode.synopsis,ordre:parseInt(this.editingEpisode.ordre),statutId:this.editingEpisode.statutId});this.showEditModal=!1,this.editError="",this.orderError="",await this.loadEpisodes()}catch(n){console.error("Erreur lors de la mise  jour de l pisode:",n),((e=n.response)==null?void 0:e.status)===400&&((o=(s=(t=n.response)==null?void 0:t.data)==null?void 0:s.message)!=null&&o.includes("ordre"))?(this.orderError="Cet ordre existe dj pour ce projet. Veuillez choisir un autre numro.",this.editError="Erreur de validation: "+this.orderError):this.editError=((l=(r=n.response)==null?void 0:r.data)==null?void 0:l.message)||"Erreur lors de la mise  jour de l'pisode"}},closeEditModal(){this.showEditModal=!1,this.editingEpisode={idEpisode:null,titre:"",synopsis:"",ordre:null,statutId:null},this.editError="",this.orderError="",this.suggestedOrder=null,this.existingOrders=[],this.originalOrder=null},async confirmDeleteEpisode(e){if(confirm("tes-vous sr de vouloir supprimer cet pisode ?"))try{await C.delete(`/api/episodes/${e}`),await this.loadEpisodes()}catch(t){console.error("Erreur lors de la suppression de l'pisode:",t)}},goToAddEpisode(){this.$router.push(`/projet/${this.$route.params.id}/add-episode`)},goToDetails(e){this.$router.push(`/episode/${e}/detail-episode`)},goToAddSequence(e){this.$router.push(`/episode/${e}/add-sequence`)},goBack(){this.$router.push("/scenariste")},formatDate(e){return new Date(e).toLocaleString()},truncateText(e,t){return e.length<=t?e:e.substring(0,t)+"..."},toggleProfileMenu(){this.showProfileMenu=!this.showProfileMenu},handleClickOutside(e){e.target.closest(".profile-section")||(this.showProfileMenu=!1)},seDeconnecter(){localStorage.removeItem("user"),localStorage.removeItem("token"),this.$router.push("/")}}},Q1={class:"projet-scenariste-container"},Z1={class:"main-content"},ey={class:"project-header"},ty={class:"project-details"},sy={class:"project-info"},ry={class:"project-main"},oy={class:"project-synopsis"},ny={class:"project-sidebar"},iy={class:"project-statut"},ly={class:"statut-value"},ay={class:"project-date"},uy={class:"date-value"},dy={class:"project-date"},cy={class:"date-value"},fy={key:0,class:"project-date"},py={class:"date-value"},hy={class:"project-genre"},my={class:"genre-value"},gy={class:"episodes-section"},vy={class:"section-header"},yy={class:"filters"},by={class:"filter-group"},Sy={class:"filter-group"},Ey=["value"],_y={class:"episodes-list"},wy={class:"episode-header"},Iy={class:"episode-statut"},Cy={class:"episode-actions"},xy=["onClick"],jy=["onClick"],ky={class:"episode-content"},Py={class:"episode-order"},Oy={class:"episode-dates"},qy={key:0,class:"episode-synopsis"},Dy={class:"episode-footer"},Ty=["onClick"],Ry=["onClick"],Ay={key:0,class:"error-message"},Ly={class:"form-group"},$y={class:"form-group"},My={class:"form-group"},Uy={key:0,class:"error-text"},Ny={key:1,class:"suggestion-text"},Fy={class:"form-group"},Vy=["value"],By={class:"form-group"},Hy=["value"],zy={class:"modal-actions"},Gy=["disabled"];function Ky(e,t,s,o,r,l){return p(),h("div",Q1,[i("main",Z1,[i("div",ey,[i("button",{onClick:t[0]||(t[0]=(...n)=>l.goBack&&l.goBack(...n)),class:"back-btn"}," Retour"),t[14]||(t[14]=i("h2",null,"Dtails du Projet",-1))]),i("div",ty,[i("div",sy,[i("div",ry,[i("h3",null,v(r.projet.titre),1),i("div",oy,[t[15]||(t[15]=i("h4",null,"Synopsis",-1)),i("p",null,v(r.projet.synopsis||"Aucun synopsis disponible"),1)])]),i("div",ny,[i("div",iy,[t[16]||(t[16]=i("span",{class:"statut-label"},"Statut:",-1)),i("span",ly,v(r.projet.statutNom),1)]),i("div",ay,[t[17]||(t[17]=i("span",{class:"date-label"},"Cr le:",-1)),i("span",uy,v(l.formatDate(r.projet.creeLe)),1)]),i("div",dy,[t[18]||(t[18]=i("span",{class:"date-label"},"Modifi le:",-1)),i("span",cy,v(l.formatDate(r.projet.modifieLe)),1)]),r.projet.dateFin?(p(),h("div",fy,[t[19]||(t[19]=i("span",{class:"date-label"},"Termin le:",-1)),i("span",py,v(l.formatDate(r.projet.dateFin)),1)])):I("",!0),i("div",hy,[t[20]||(t[20]=i("span",{class:"genre-label"},"Genre:",-1)),i("span",my,v(r.projet.genreNom),1)])])])]),i("div",gy,[i("div",vy,[t[21]||(t[21]=i("h3",null,"pisodes",-1)),i("button",{class:"add-episode-btn",onClick:t[1]||(t[1]=(...n)=>l.goToAddEpisode&&l.goToAddEpisode(...n))},"+ pisode")]),i("div",yy,[i("div",by,[t[23]||(t[23]=i("label",null,"Priode de mise  jour:",-1)),T(i("select",{"onUpdate:modelValue":t[2]||(t[2]=n=>r.filterTimePeriod=n)},[...t[22]||(t[22]=[ns('<option value="all">Toutes les priodes</option><option value="today">Aujourd&#39;hui</option><option value="this_week">Cette semaine</option><option value="this_month">Ce mois-ci</option><option value="this_year">Cette anne</option><option value="recent">Rcent (7 derniers jours)</option>',6)])],512),[[he,r.filterTimePeriod]])]),i("div",Sy,[t[25]||(t[25]=i("label",null,"Statut:",-1)),T(i("select",{"onUpdate:modelValue":t[3]||(t[3]=n=>r.filterStatut=n)},[t[24]||(t[24]=i("option",{value:""},"Tous",-1)),(p(!0),h(Q,null,te(r.statutsEpisode,n=>(p(),h("option",{key:n.idStatutEpisode,value:n.nomStatutsEpisode},v(n.nomStatutsEpisode),9,Ey))),128))],512),[[he,r.filterStatut]])])]),i("div",_y,[(p(!0),h(Q,null,te(l.filteredEpisodes,n=>(p(),h("div",{key:n.idEpisode,class:"episode-card"},[i("div",wy,[i("div",Iy,v(n.statutNom),1),i("div",Cy,[i("span",{class:"icon-edit",onClick:a=>l.startEditEpisode(n)},"",8,xy),i("span",{class:"icon-delete",onClick:a=>l.confirmDeleteEpisode(n.idEpisode)},"",8,jy)])]),i("div",ky,[i("h4",null,v(n.titre),1),i("p",Py,"Ordre: "+v(n.ordre),1),i("div",Oy,[i("p",null,"Cr le: "+v(l.formatDate(n.creeLe)),1),i("p",null,"Modifi le: "+v(l.formatDate(n.modifieLe)),1),i("p",null,"Nombre de squences: "+v(n.nombreSequences||0),1)]),n.synopsis?(p(),h("div",qy,[i("p",null,v(l.truncateText(n.synopsis,100)),1)])):I("",!0),i("div",Dy,[i("button",{class:"details-btn",onClick:a=>l.goToDetails(n.idEpisode)},"Dtails",8,Ty),i("button",{class:"add-sequence-btn",onClick:a=>l.goToAddSequence(n.idEpisode)},"+ Squence",8,Ry)])])]))),128))])]),r.showEditModal?(p(),h("div",{key:0,class:"modal-overlay",onClick:t[13]||(t[13]=(...n)=>l.closeEditModal&&l.closeEditModal(...n))},[i("div",{class:"modal-content",onClick:t[12]||(t[12]=Fe(()=>{},["stop"]))},[t[31]||(t[31]=i("h3",null,"Modifier l'pisode",-1)),r.editError?(p(),h("div",Ay,v(r.editError),1)):I("",!0),i("form",{onSubmit:t[11]||(t[11]=Fe((...n)=>l.saveEditedEpisode&&l.saveEditedEpisode(...n),["prevent"]))},[i("div",Ly,[t[26]||(t[26]=i("label",null,"Titre de l'pisode:",-1)),T(i("input",{"onUpdate:modelValue":t[4]||(t[4]=n=>r.editingEpisode.titre=n),type:"text",required:""},null,512),[[Z,r.editingEpisode.titre]])]),i("div",$y,[t[27]||(t[27]=i("label",null,"Synopsis:",-1)),T(i("textarea",{"onUpdate:modelValue":t[5]||(t[5]=n=>r.editingEpisode.synopsis=n),required:""},null,512),[[Z,r.editingEpisode.synopsis]])]),i("div",My,[t[28]||(t[28]=i("label",null,"Ordre dans le projet:",-1)),T(i("input",{"onUpdate:modelValue":t[6]||(t[6]=n=>r.editingEpisode.ordre=n),type:"number",required:"",class:ut({"error-input":r.orderError}),onBlur:t[7]||(t[7]=(...n)=>l.validateOrder&&l.validateOrder(...n))},null,34),[[Z,r.editingEpisode.ordre]]),r.orderError?(p(),h("div",Uy,v(r.orderError),1)):I("",!0),r.suggestedOrder&&!r.editingEpisode.ordre?(p(),h("div",Ny,[D(" Suggestion: Le prochain ordre disponible est "+v(r.suggestedOrder)+" ",1),i("button",{type:"button",onClick:t[8]||(t[8]=(...n)=>l.useSuggestedOrder&&l.useSuggestedOrder(...n)),class:"suggestion-btn"}," Utiliser cette valeur ")])):I("",!0)]),i("div",Fy,[t[29]||(t[29]=i("label",null,"Titre du projet:",-1)),i("input",{value:r.projet.titre,type:"text",disabled:""},null,8,Vy)]),i("div",By,[t[30]||(t[30]=i("label",null,"Statut:",-1)),T(i("select",{"onUpdate:modelValue":t[9]||(t[9]=n=>r.editingEpisode.statutId=n),required:""},[(p(!0),h(Q,null,te(r.statutsEpisode,n=>(p(),h("option",{key:n.idStatutEpisode,value:n.idStatutEpisode},v(n.nomStatutsEpisode),9,Hy))),128))],512),[[he,r.editingEpisode.statutId]])]),i("div",zy,[i("button",{type:"submit",class:"save-btn",disabled:r.orderError!==""},"Sauvegarder",8,Gy),i("button",{type:"button",onClick:t[10]||(t[10]=(...n)=>l.closeEditModal&&l.closeEditModal(...n)),class:"cancel-btn"},"Annuler")])],32)])])):I("",!0)])])}const Wy=Ke(Y1,[["render",Ky]]);const Jy={name:"AddEpisodeView",data(){return{showProfileMenu:!1,user:null,projetTitre:"",statutsEpisode:[],existingOrders:[],realisateurs:[],scenaristes:[],form:{titre:"",ordre:"",projetId:this.$route.params.id||this.$route.params.projetId||"",statutId:"",synopsis:"",realisateurId:"",scenaristeId:""},loading:!1,errorMessage:"",ordreError:"",suggestedOrdre:null}},computed:{userInitials(){var e;return(e=this.user)!=null&&e.nom?this.user.nom.split(" ").map(t=>t.charAt(0)).join("").toUpperCase().substring(0,2):"?"}},mounted(){this.loadUser(),this.fetchProjetDetails(),this.fetchStatutsEpisode(),this.fetchExistingEpisodes(),this.fetchRealisateurs(),this.fetchScenaristes(),document.addEventListener("click",this.handleClickOutside)},beforeUnmount(){document.removeEventListener("click",this.handleClickOutside)},methods:{loadUser(){const e=localStorage.getItem("user");e?this.user=JSON.parse(e):this.$router.push("/")},async fetchProjetDetails(){try{const e=this.$route.params.id||this.$route.params.projetId||this.$route.query.projetId;if(!e){this.errorMessage="ID du projet non spcifi";return}const t=await C.get(`/api/projets/${e}`);this.projetTitre=t.data.titre,this.form.projetId=e}catch(e){console.error("Erreur lors du chargement du projet:",e),this.errorMessage="Erreur lors du chargement des dtails du projet. Veuillez ressayer."}},async fetchStatutsEpisode(){try{const e=await C.get("/api/statuts-episode");this.statutsEpisode=e.data}catch(e){console.error("Erreur lors du chargement des statuts d'pisode:",e),this.errorMessage="Erreur lors du chargement des statuts"}},async fetchExistingEpisodes(){try{const e=this.$route.params.id||this.$route.params.projetId||this.$route.query.projetId;if(!e)return;const t=await C.get(`/api/episodes/projet/${e}`);this.existingOrders=t.data.map(s=>s.ordre),this.calculateSuggestedOrdre()}catch(e){console.error("Erreur lors du chargement des pisodes existants:",e)}},calculateSuggestedOrdre(){if(this.existingOrders.length===0){this.suggestedOrdre=1,this.form.ordre=1;return}const e=Math.max(...this.existingOrders);this.suggestedOrdre=e+1,this.form.ordre=this.suggestedOrdre},validateOrdre(){if(!this.form.ordre){this.ordreError="L'ordre est requis";return}const e=parseInt(this.form.ordre);if(e<1){this.ordreError="L'ordre doit tre au moins 1";return}if(this.existingOrders.includes(e)){this.ordreError=`L'ordre ${e} existe dj pour ce projet. Veuillez choisir un autre numro.`;return}this.ordreError=""},useSuggestedOrder(){this.scene.ordre=this.suggestedOrder,this.validateOrder()},async fetchRealisateurs(){try{const e=await C.get("/api/realisateurs");this.realisateurs=e.data}catch(e){console.error("Erreur lors du chargement des ralisateurs:",e)}},async fetchScenaristes(){try{const e=await C.get("/api/scenaristes");this.scenaristes=e.data}catch(e){console.error("Erreur lors du chargement des scnaristes:",e)}},async submitForm(){var e,t,s,o,r,l;if(this.validateOrdre(),!this.ordreError){this.loading=!0,this.errorMessage="";try{(await C.post(`/api/episodes/projet/${this.form.projetId}`,this.form)).status===201&&this.$router.push(`/projet/${this.form.projetId}`)}catch(n){console.error("Erreur lors de la cration de l'pisode:",n),((e=n.response)==null?void 0:e.status)===400&&((o=(s=(t=n.response)==null?void 0:t.data)==null?void 0:s.message)!=null&&o.includes("ordre"))?this.ordreError="Cet ordre existe dj pour ce projet. Veuillez choisir un autre numro.":this.errorMessage=((l=(r=n.response)==null?void 0:r.data)==null?void 0:l.message)||"Erreur lors de la cration de l'pisode"}finally{this.loading=!1}}},goBack(){this.$router.go(-1)},toggleProfileMenu(){this.showProfileMenu=!this.showProfileMenu},handleClickOutside(e){e.target.closest(".profile-section")||(this.showProfileMenu=!1)},seDeconnecter(){localStorage.removeItem("user"),localStorage.removeItem("token"),this.$router.push("/")}}},Xy={class:"add-episode-container"},Yy={class:"main-content"},Qy={class:"form-header"},Zy={class:"form-group"},eb={class:"form-group"},tb={key:0,class:"error-text"},sb={key:1,class:"suggestion-text"},rb={class:"form-group"},ob=["value"],nb={class:"form-group"},ib=["value"],lb={class:"form-group"},ab=["value"],ub={class:"form-group"},db=["value"],cb={class:"form-group"},fb={key:0,class:"error-message"},pb={class:"form-actions"},hb=["disabled"];function mb(e,t,s,o,r,l){return p(),h("div",Xy,[i("main",Yy,[i("div",Qy,[i("button",{onClick:t[0]||(t[0]=(...n)=>l.goBack&&l.goBack(...n)),class:"back-btn"}," Retour"),t[11]||(t[11]=i("h2",null,"Crer votre pisode",-1))]),i("form",{onSubmit:t[10]||(t[10]=Fe((...n)=>l.submitForm&&l.submitForm(...n),["prevent"])),class:"episode-form"},[i("div",Zy,[t[12]||(t[12]=i("label",{for:"titre"},"Titre de l'pisode *",-1)),T(i("input",{type:"text",id:"titre","onUpdate:modelValue":t[1]||(t[1]=n=>r.form.titre=n),required:"",placeholder:"Entrez le titre",class:"form-input"},null,512),[[Z,r.form.titre]])]),i("div",eb,[t[13]||(t[13]=i("label",{for:"ordre"},"Ordre dans le projet *",-1)),T(i("input",{type:"number",id:"ordre","onUpdate:modelValue":t[2]||(t[2]=n=>r.form.ordre=n),required:"",placeholder:"Entrez le nombre",min:"1",class:ut(["form-input",{"error-input":r.ordreError}]),onBlur:t[3]||(t[3]=(...n)=>l.validateOrdre&&l.validateOrdre(...n))},null,34),[[Z,r.form.ordre]]),r.ordreError?(p(),h("span",tb,v(r.ordreError),1)):I("",!0),r.suggestedOrdre?(p(),h("span",sb,[D(" Suggestion: Le prochain ordre disponible est "+v(r.suggestedOrdre)+" ",1),i("button",{type:"button",onClick:t[4]||(t[4]=(...n)=>l.useSuggestedOrder&&l.useSuggestedOrder(...n)),class:"suggestion-btn"}," Utiliser cette valeur ")])):I("",!0)]),i("div",rb,[t[15]||(t[15]=i("label",{for:"realisateur"},"Ralisateur *",-1)),T(i("select",{id:"realisateur","onUpdate:modelValue":t[5]||(t[5]=n=>r.form.realisateurId=n),required:"",class:"form-select"},[t[14]||(t[14]=i("option",{value:""},"Slectionner un ralisateur",-1)),(p(!0),h(Q,null,te(r.realisateurs,n=>(p(),h("option",{key:n.idRealisateur,value:n.idRealisateur},v(n.nom)+" - "+v(n.specialite),9,ob))),128))],512),[[he,r.form.realisateurId]])]),i("div",nb,[t[17]||(t[17]=i("label",{for:"scenariste"},"Scnariste *",-1)),T(i("select",{id:"scenariste","onUpdate:modelValue":t[6]||(t[6]=n=>r.form.scenaristeId=n),required:"",class:"form-select"},[t[16]||(t[16]=i("option",{value:""},"Slectionner un scnariste",-1)),(p(!0),h(Q,null,te(r.scenaristes,n=>(p(),h("option",{key:n.idScenariste,value:n.idScenariste},v(n.nom)+" - "+v(n.specialite),9,ib))),128))],512),[[he,r.form.scenaristeId]])]),i("div",lb,[t[18]||(t[18]=i("label",{for:"projet"},"Titre du projet *",-1)),i("input",{id:"projet",value:r.projetTitre,type:"text",disabled:"",class:"form-input"},null,8,ab)]),i("div",ub,[t[20]||(t[20]=i("label",{for:"statut"},"Statut *",-1)),T(i("select",{id:"statut","onUpdate:modelValue":t[7]||(t[7]=n=>r.form.statutId=n),required:"",class:"form-select"},[t[19]||(t[19]=i("option",{value:""},"Slectionner le statut",-1)),(p(!0),h(Q,null,te(r.statutsEpisode,n=>(p(),h("option",{key:n.idStatutEpisode,value:n.idStatutEpisode},v(n.nomStatutsEpisode),9,db))),128))],512),[[he,r.form.statutId]])]),i("div",cb,[t[21]||(t[21]=i("label",{for:"synopsis"},"Synopsis",-1)),T(i("textarea",{id:"synopsis","onUpdate:modelValue":t[8]||(t[8]=n=>r.form.synopsis=n),rows:"6",placeholder:"Entrez le synopsis",class:"form-textarea"},null,512),[[Z,r.form.synopsis]])]),r.errorMessage?(p(),h("div",fb,v(r.errorMessage),1)):I("",!0),i("div",pb,[i("button",{type:"button",onClick:t[9]||(t[9]=(...n)=>l.goBack&&l.goBack(...n)),class:"cancel-btn"},"Annuler"),i("button",{type:"submit",class:"submit-btn",disabled:r.loading||r.ordreError!==""},v(r.loading?"Cration en cours...":"Crer"),9,hb)])],32)])])}const gb=Ke(Jy,[["render",mb],["__scopeId","data-v-55c8dbb6"]]),tu=Cf("ecranTravail",{state:()=>({episodes:[],currentEpisode:null,sequences:[],currentSequence:null,currentEpisodeIndex:0,currentPageIndex:0,projetId:null,error:null,isLoading:!1,lastViewedEpisodeId:null,lastViewedSequenceId:null}),actions:{saveCurrentPosition(){this.lastViewedEpisodeId=this.currentEpisode?this.currentEpisode.idEpisode:null,this.lastViewedSequenceId=this.currentSequence?this.currentSequence.idSequence:null},async restorePosition(){this.lastViewedEpisodeId&&await this.selectEpisodeById(this.lastViewedEpisodeId),this.lastViewedSequenceId&&await this.selectSequenceById(this.lastViewedSequenceId)},async fetchEpisodes(e){var t;this.isLoading=!0;try{this.projetId=e,this.error=null,console.log(`Fetching episodes for projetId: ${e}`);const s=await C.get(`/api/ecran-travail/projets/${e}/episodes`);if(console.log("Response status:",s.status),console.log("Response data:",s.data),s.status===204||!s.data||s.data.length===0){this.error="Aucun pisode trouv pour ce projet.",this.episodes=[],this.currentEpisode=null,this.sequences=[],this.currentSequence=null,this.currentEpisodeIndex=0;return}this.episodes=s.data,this.episodes.sort((o,r)=>o.ordre-r.ordre),this.episodes.length>0&&(this.currentEpisodeIndex=0,this.currentEpisode=this.episodes[0],await this.fetchSequences(this.episodes[0].idEpisode))}catch(s){console.error("Error details:",s),console.error("Response:",s.response),this.error=((t=s.response)==null?void 0:t.status)===404?`Projet non trouv (ID: ${e}). Vrifiez que le projet existe dans la base de donnes.`:`Erreur lors du chargement des pisodes: ${s.message}`,this.currentEpisode=null,this.sequences=[],this.currentSequence=null,this.currentEpisodeIndex=0}finally{this.isLoading=!1}},async fetchSequences(e,t=!0){var s;this.isLoading=!0;try{this.error=null,console.log(`Fetching sequences for episodeId: ${e}`);const o=await C.get(`/api/ecran-travail/episodes/${e}/sequences`);if(o.status===204||!o.data||o.data.length===0){console.log("Aucune squence trouve pour cet pisode."),this.sequences=[],this.currentSequence=null;return}this.sequences=o.data,this.sequences.sort((r,l)=>r.ordre-l.ordre),this.sequences.length>0&&t?(this.currentSequence=this.sequences[0],this.currentPageIndex=0,await this.fetchSequenceDetails(this.sequences[0].idSequence)):t||this.currentSequence&&(this.currentPageIndex=this.sequences.findIndex(r=>r.idSequence===this.currentSequence.idSequence))}catch(o){console.error("Erreur lors du chargement des squences:",((s=o.response)==null?void 0:s.data)||o.message),this.sequences=[],this.currentSequence=null}finally{this.isLoading=!1}},async fetchSequenceDetails(e){var t;this.isLoading=!0;try{this.error=null,console.log(`Fetching sequence details for sequenceId: ${e}`);const s=await C.get(`/api/ecran-travail/sequences/${e}`);this.currentSequence=s.data,console.log("Sequence details:",this.currentSequence);const o=this.episodes.find(r=>r.idEpisode===this.currentSequence.episodeId);o&&(this.currentEpisode=o,this.currentEpisodeIndex=this.episodes.findIndex(r=>r.idEpisode===o.idEpisode))}catch(s){console.error("Erreur lors du chargement des dtails de la squence:",((t=s.response)==null?void 0:t.data)||s.message),this.error=`Erreur lors du chargement des dtails de la squence: ${s.message}`,this.currentSequence=null}finally{this.isLoading=!1}},async selectEpisodeById(e){this.episodes.length===0&&await this.fetchEpisodes(this.projetId);const t=this.episodes.findIndex(s=>s.idEpisode===parseInt(e));t!==-1?(this.currentEpisodeIndex=t,this.currentEpisode=this.episodes[t],this.sequences=[],this.currentSequence=null,await this.fetchSequences(this.currentEpisode.idEpisode)):this.error="pisode non trouv."},async selectSequenceById(e){await this.fetchSequenceDetails(e),this.currentSequence?(await this.fetchSequences(this.currentSequence.episodeId,!1),this.currentPageIndex=this.sequences.findIndex(t=>t.idSequence===parseInt(e))):this.error="Squence non trouve."},async goToNextPage(){var e,t,s,o,r,l,n;this.isLoading=!0;try{if(this.error=null,this.currentSequence){console.log(`Navigating to next sequence from: ${this.currentSequence.idSequence}`);const a=await C.get(`/api/ecran-travail/sequences/${this.currentSequence.idSequence}/next`);if(a.status===200){this.currentSequence=a.data,console.log("Dtails de la squence fetchs :",a.data),console.log("Scnes associes :",a.data.scenes),console.log("Dialogues de la premire scne :",(t=(e=a.data.scenes)==null?void 0:e[0])==null?void 0:t.dialogues),console.log("Lieux de la premire scne :",(o=(s=a.data.scenes)==null?void 0:s[0])==null?void 0:o.sceneLieus),this.currentPageIndex++,console.log("Next sequence:",this.currentSequence);const d=this.episodes.find(u=>u.idEpisode===this.currentSequence.episodeId);d&&(this.currentEpisode=d,this.currentEpisodeIndex=this.episodes.findIndex(u=>u.idEpisode===d.idEpisode),this.currentSequence.episodeId!==((r=this.sequences[0])==null?void 0:r.episodeId)&&await this.fetchSequences(this.currentSequence.episodeId,!1));return}else a.status===204&&console.log("No more sequences in episode, going to next episode")}this.episodes.length>0&&this.currentEpisodeIndex<this.episodes.length-1?(this.currentEpisodeIndex++,this.currentEpisode=this.episodes[this.currentEpisodeIndex],this.currentSequence=null,this.currentPageIndex=0,this.sequences=[],console.log(`Navigating to next episode: ${this.currentEpisode.titre}`),await this.fetchSequences(this.currentEpisode.idEpisode)):this.error="Fin du projet."}catch(a){console.error("Erreur lors de la navigation suivante:",((l=a.response)==null?void 0:l.data)||a.message),this.error=((n=a.response)==null?void 0:n.status)===204?"Fin du projet.":`Erreur lors de la navigation: ${a.message}`}finally{this.isLoading=!1}},async goToPrevPage(){var e,t,s;this.isLoading=!0;try{if(this.error=null,this.currentSequence){console.log(`Navigating to previous sequence from: ${this.currentSequence.idSequence}`);const o=await C.get(`/api/ecran-travail/sequences/${this.currentSequence.idSequence}/prev`);if(o.status===200){this.currentSequence=o.data,this.currentPageIndex--,console.log("Previous sequence:",this.currentSequence);const r=this.episodes.find(l=>l.idEpisode===this.currentSequence.episodeId);r&&(this.currentEpisode=r,this.currentEpisodeIndex=this.episodes.findIndex(l=>l.idEpisode===r.idEpisode),this.currentSequence.episodeId!==((e=this.sequences[0])==null?void 0:e.episodeId)&&await this.fetchSequences(this.currentSequence.episodeId,!1));return}else o.status===204&&console.log("No previous sequences")}if(this.currentEpisodeIndex>0){console.log("Navigating to previous episode"),this.currentEpisodeIndex--,this.currentEpisode=this.episodes[this.currentEpisodeIndex],this.currentSequence=null,this.currentPageIndex=0,this.sequences=[],console.log(`Navigating to previous episode: ${this.currentEpisode.titre}`),await this.fetchSequences(this.currentEpisode.idEpisode),this.sequences.length>0&&(this.currentSequence=this.sequences[this.sequences.length-1],this.currentPageIndex=this.sequences.length-1,await this.fetchSequenceDetails(this.currentSequence.idSequence));return}this.currentEpisode=null,this.currentSequence=null,this.currentEpisodeIndex=0,this.currentPageIndex=0,this.sequences=[],this.error="Dbut du projet."}catch(o){console.error("Erreur lors de la navigation prcdente:",((t=o.response)==null?void 0:t.data)||o.message),this.error=((s=o.response)==null?void 0:s.status)===204?"Dbut du projet.":`Erreur lors de la navigation: ${o.message}`}finally{this.isLoading=!1}}},getters:{hasNext:e=>e.episodes.length===0?!1:e.currentEpisodeIndex<e.episodes.length-1,hasPrev:e=>e.currentEpisodeIndex>0||e.currentSequence||e.episodes.length===0,getBackUrl:e=>{let t=`/projet/${e.projetId}/ecran-travail`;return e.lastViewedEpisodeId?(t+=`?episodeId=${e.lastViewedEpisodeId}`,e.lastViewedSequenceId&&(t+=`&sequenceId=${e.lastViewedSequenceId}`)):e.currentEpisode&&(t+=`?episodeId=${e.currentEpisode.idEpisode}`,e.currentSequence&&(t+=`&sequenceId=${e.currentSequence.idSequence}`)),t}},async fetchEpisodes(e){var t,s;if(!e||e==="null"||e==="undefined"){console.error("projetId invalide:",e),this.error="ID du projet manquant ou invalide",this.isLoading=!1;return}this.isLoading=!0;try{this.projetId=e,this.error=null,console.log(`Fetching episodes for projetId: ${e}`);let o;try{o=await C.get(`/api/projets/${e}/episodes`)}catch{console.log("Premire tentative choue, essai avec prfixe ecran-travail"),o=await C.get(`/api/ecran-travail/projets/${e}/episodes`)}if(console.log("Response status:",o.status),console.log("Response data:",o.data),o.status===204||!o.data||o.data.length===0){this.error="Aucun pisode trouv pour ce projet.",this.episodes=[],this.currentEpisode=null,this.sequences=[],this.currentSequence=null,this.currentEpisodeIndex=0;return}this.episodes=o.data,this.episodes.sort((r,l)=>r.ordre-l.ordre),this.episodes.length>0&&(this.currentEpisodeIndex=0,this.currentEpisode=this.episodes[0],await this.fetchSequences(this.episodes[0].idEpisode))}catch(o){console.error("Error details:",o),console.error("Response:",o.response),this.error=`Erreur lors du chargement des pisodes: ${((s=(t=o.response)==null?void 0:t.data)==null?void 0:s.message)||o.message}`,this.currentEpisode=null,this.sequences=[],this.currentSequence=null,this.currentEpisodeIndex=0}finally{this.isLoading=!1}}});const vb={class:"app-wrapper"},yb={class:"ecran-travail"},bb={class:""},Sb={class:"navigation"},Eb=["disabled"],_b=["disabled"],wb={class:"title-episode"},Ib={class:"syno-episode"},Cb={key:0,class:"episode-equipe"},xb={class:"equipe-info"},jb={key:0,class:"realisateur-info"},kb={key:1,class:"scenariste-info"},Pb={class:"episode-navigation"},Ob=["onClick"],qb={key:0,class:"blinking-icon"},Db={key:0,class:"loading"},Tb={key:1,class:"error-message"},Rb={class:"liens"},Ab={class:"#"},Lb={key:0,class:"sequence-navigation"},$b=["onClick"],Mb={key:0},Ub={key:1,class:"blinking-icon"},Nb={key:2,class:"sequence-page"},Fb={key:0,class:"comment-section"},Vb={class:"add-comment"},Bb={class:"comments-list"},Hb={class:"comment-header"},zb={class:"comment-author"},Gb={class:"comment-date"},Kb={class:"comment-content"},Wb={key:0,class:"comment-actions"},Jb=["onClick"],Xb={class:"scenes-section"},Yb={class:"scenes-list"},Qb=["onClick"],Zb=["onClick"],eS=["onClick"],tS={key:0,class:"comment-section"},sS={class:"add-comment"},rS={class:"comments-list"},oS={class:"comment-header"},nS={class:"comment-author"},iS={class:"comment-date"},lS={class:"comment-content"},aS={key:0,class:"comment-actions"},uS=["onClick"],dS={class:"section-header"},cS=["onClick"],fS={key:1,class:"lieux-plateaux"},pS={key:0},hS=["onClick"],mS={key:2},gS={key:2},vS={key:3,class:"dialogues"},yS=["onMouseup","data-dialogue-id"],bS={class:"dialogue-content"},SS=["title"],ES={key:0,class:"dialogue-observation"},_S={class:"dialogue-actions"},wS=["onClick"],IS=["onClick"],CS=["onClick"],xS=["onClick"],jS={class:"section-header"},kS=["onClick"],PS={key:3,class:"no-data"},OS={class:"highlight-preview"},qS={class:"selected-text-preview"},DS={class:"color-selection"},TS={class:"color-palette"},RS=["onClick","title"],AS={key:0,class:"existing-highlights"},LS={class:"highlight-text"},$S={class:"highlight-info"},MS=["onClick"],US={class:"modal-actions"},NS=["disabled"],FS={key:5,class:"modal-overlay"},VS={class:"modal-content"},BS={class:"form-group"},HS={class:"form-group"},zS={class:"form-group"},GS={class:"form-group"},KS=["value"],WS={key:0,class:"error-message"},JS={class:"modal-actions"},XS=["disabled"],YS={key:6,class:"modal-overlay"},QS={class:"modal-content"},ZS={class:"form-group"},eE={class:"form-group"},tE={class:"form-group"},sE={class:"form-group"},rE=["value"],oE={key:0,class:"error-message"},nE={class:"modal-actions"},iE=["disabled"],lE={key:7,class:"modal-overlay"},aE={class:"modal-content"},uE={class:"form-group"},dE={class:"form-group"},cE={class:"form-group"},fE={class:"form-group"},pE=["value"],hE={key:0,class:"error-message"},mE={class:"modal-actions"},gE=["disabled"],vE={key:8,class:"modal-overlay"},yE={class:"modal-content"},bE={class:"form-group"},SE=["value"],EE={class:"form-group"},_E={class:"form-group"},wE={key:0,class:"suggestion"},IE={key:1,class:"error-message"},CE={class:"form-group"},xE={key:0,class:"error-message"},jE={class:"modal-actions"},kE=["disabled"],PE={key:9,class:"modal-overlay"},OE={class:"modal-content"},qE={class:"add-comment"},DE={class:"comments-list"},TE={class:"comment-header"},RE={class:"comment-author"},AE={class:"comment-date"},LE={class:"comment-content"},$E={key:0,class:"comment-actions"},ME=["onClick"],UE={class:"modal-header"},NE={class:"form-group"},FE={key:0,disabled:""},VE=["value"],BE={key:0,class:"form-group"},HE=["value"],zE={class:"form-group"},GE={key:1,class:"error-message"},KE={class:"modal-actions"},WE=["disabled"],JE={key:0,class:"associated-lieux"},XE={class:"scene-lieu-info"},YE={key:0},QE=["onClick"],ZE={__name:"EcranTravail",setup(e){const t=qa(),s=lh(),o=tu(),r=Y(!1),l=Y(null),n=Y(""),a=Y(null),d=Y([]),u=Y({}),c=Y({canEditEpisode:!1,canCreateSequence:!1,canCreateScene:!1,canCreateDialogue:!1,canCreateLieu:!1,canCreatePlateau:!1,canCreateComedien:!1,canCreatePersonnage:!1}),m=Y([]),S=Y(null),E=Y(""),_=Y(JSON.parse(localStorage.getItem("user"))||null),k=Y(!1),q=Y(""),B=Y([]),H=Y(0),z=Y(!1),N=Y(null),re=Y(""),ve=Y([]),le=Y({}),ue=Y(!1),oe=Y(null),ye=Y(""),$e=Y([]),Me=Y({}),Re=Y(!1),we=Y(null),Ue=Y(null),ie=Y(null),F=Y(""),M=Y([]),De=Y([]),pe=Y([]),Ie=Y(""),Pe=Y(!1),Ye=Y([]),fe=Y(!1),Se=Y({id:null,titre:"",synopsis:"",ordre:null,statutId:null}),Qe=Y([]),O=Y(""),X=Y(!1),W=Y(!1),G=Y({id:null,titre:"",synopsis:"",ordre:null,statutId:null}),be=Y([]),Ce=Y(""),g=Y(!1),y=Y(!1),w=Y({id:null,titre:"",synopsis:"",ordre:null,statutId:null}),A=Y([]),P=Y(""),R=Y(!1),K=Y(!1),L=Y({id:null,personnageNom:"",texte:"",observation:""}),U=Y(""),$=Y(!1),V=Y(t.params.idProjet||"1"),J=Y(null),se=Y(null),ae=Ne(()=>o.episodes),me=Ne(()=>o.sequences);Lr(async()=>{const b=t.params.idProjet||"1";V.value=b,await Mn(),await o.fetchEpisodes(b),o.currentSequence&&(await vs(),await Ls(),await $s(),await He()),await Promise.all([tt(),Gt(),Rs()]),await Ee();const f=t.query.episodeId,ee=t.query.sequenceId;f&&await o.selectEpisodeById(f),ee&&await o.selectSequenceById(ee)});const Oe=async b=>{if(_.value)try{const f=await C.get(`/api/episodes/${b}/permissions`,{headers:{"X-User-Id":_.value.id}});c.value=f.data,(await C.get(`/api/episodes/${b}/access-check`,{headers:{"X-User-Id":_.value.id}})).data||Object.keys(c.value).forEach(xe=>{c.value[xe]=!1})}catch(f){console.error("Erreur lors de la vrification des permissions:",f),Object.keys(c.value).forEach(ee=>{c.value[ee]=!1})}};pt(()=>o.currentEpisode,async b=>{b&&(await Oe(b.idEpisode),b.realisateur&&console.log("Ralisateur:",b.realisateur.nom),b.scenariste&&console.log("Scnariste:",b.scenariste.nom))});const Ee=async()=>{try{const b=await C.get("/api/personnages");Ye.value=b.data}catch(b){console.error("Erreur lors du chargement des personnages:",b)}},Ze=async()=>{var b,f;if(!a.value||!l.value||!n.value){alert("Veuillez slectionner une couleur et du texte.");return}try{const ee={dialogueId:l.value.id,couleur:{id:a.value.id,nom:a.value.nom,valeurHex:a.value.valeurHex},utilisateurId:_.value.id,texteSurligne:n.value,debutIndex:0,finIndex:n.value.length},xe=await C.post("/api/dialogue-surlignages",ee);(xe.status===200||xe.status===201)&&(await fo(l.value.id),et(),alert("Texte surlign avec succs !"))}catch(ee){console.error("Erreur lors du surlignage:",ee),alert("Erreur lors du surlignage: "+(((f=(b=ee.response)==null?void 0:b.data)==null?void 0:f.message)||ee.message))}},We=async b=>{if(confirm("tes-vous sr de vouloir supprimer ce surlignage ?"))try{await C.delete(`/api/dialogue-surlignages/${b}`),await fo(l.value.id)}catch(f){console.error("Erreur lors de la suppression du surlignage:",f)}},et=()=>{r.value=!1,l.value=null,n.value="",a.value=null};Lr(async()=>{if(V.value=t.params.idProjet,!V.value){console.error("ID du projet non trouv dans les params de route !");const ee=t.path.split("/"),xe=ee.indexOf("projet");if(xe!==-1&&ee[xe+1]&&(V.value=ee[xe+1]),!V.value){console.error("ID du projet non trouvable dans l'URL !");return}}await o.fetchEpisodes(V.value),o.currentSequence&&(await vs(),await Ls(),await $s(),await He()),await Promise.all([tt(),Gt(),Rs()]),await Ee();const b=t.query.episodeId,f=t.query.sequenceId;b&&await o.selectEpisodeById(b),f&&await o.selectSequenceById(f)}),pt(()=>t.query.episodeId,async b=>{b&&await o.selectEpisodeById(b)},{immediate:!0}),pt(()=>t.params.idProjet,async b=>{b&&(V.value=b,await He())}),pt(()=>o.currentSequence,async b=>{b&&(await vs(),await Ls(),await $s())}),pt(()=>t.params.idProjet,async b=>{b&&b!==V.value&&(V.value=b,await o.fetchEpisodes(V.value),await He())},{immediate:!0}),pt(()=>t.query,async b=>{var f,ee;b.episodeId&&b.episodeId!==((f=o.currentEpisode)==null?void 0:f.idEpisode)&&await o.selectEpisodeById(b.episodeId),b.sequenceId&&b.sequenceId!==((ee=o.currentSequence)==null?void 0:ee.idSequence)&&await o.selectSequenceById(b.sequenceId)},{immediate:!0,deep:!0}),pt(()=>t.params.idProjet,async b=>{b&&b!==V.value&&(V.value=b,await o.fetchEpisodes(V.value),await He())},{immediate:!0});const tt=async()=>{try{const b=await C.get("/api/statuts-episode");Qe.value=b.data}catch(b){console.error("Erreur lors du chargement des statuts d'pisode:",b)}},Gt=async()=>{try{const b=await C.get("/api/statuts-sequence");be.value=b.data}catch(b){console.error("Erreur lors du chargement des statuts de squence:",b)}},Rs=async()=>{try{const b=await C.get("/api/statuts-scene");A.value=b.data}catch(b){console.error("Erreur lors du chargement des statuts de scne:",b)}},He=async()=>{var b;try{if(t.params.idProjet)V.value=t.params.idProjet;else if(o.projetId)V.value=o.projetId;else if((b=o.currentEpisode)!=null&&b.idEpisode)try{const ee=await C.get(`/api/episodes/${o.currentEpisode.idEpisode}`);V.value=ee.data.projetId}catch(ee){console.warn("Impossible de rcuprer l'ID du projet depuis l'pisode:",ee)}if(!V.value){console.error("Impossible de dterminer l'ID du projet"),M.value=[];return}const f=await C.get(`/api/lieux/projets/${V.value}`);M.value=f.data}catch(f){console.error("Erreur lors du chargement des lieux:",f),M.value=[]}},gt=async()=>{if(!Ue.value){De.value=[];return}try{const b=await C.get(`/api/scene-lieux/lieux/${Ue.value}/plateaux`);De.value=b.data}catch(b){console.error("Erreur lors du chargement des plateaux:",b),De.value=[]}},mr=b=>b.charAt(0).toUpperCase()+b.slice(1),As=b=>b==="episode"?Qe.value:b==="sequence"?be.value:b==="scene"?A.value:[],Ln=b=>`nomStatuts${mr(b)}`,$n=b=>b==="episode"?"idStatutEpisode":"id",uo=(b,f)=>{const ee=As(b),xe=Ln(b),kt=ee.find(Pt=>Pt[xe]===f),it=$n(b);return kt?kt[it]:null},co=(b,f)=>{const ee=As(b),xe=$n(b),kt=Ln(b),it=ee.find(Pt=>Pt[xe]===f);return it?it[kt]:""},Mn=async()=>{try{const b=await C.get("/api/couleurs");d.value=b.data}catch(b){console.error("Erreur lors du chargement des couleurs:",b)}},Un=async(b,f)=>{d.value.length===0&&await Mn(),l.value=b;const xe=window.getSelection().toString().trim();xe?(n.value=xe,a.value=null,r.value=!0,await fo(b.id)):alert("Veuillez slectionner du texte  surligner.")},fo=async b=>{try{const f=await C.get(`/api/dialogue-surlignages/dialogue/${b}`);u.value[b]=f.data}catch(f){console.error("Erreur lors du chargement des surlignages:",f)}},ru=()=>{o.currentEpisode&&(Se.value={id:o.currentEpisode.idEpisode,titre:o.currentEpisode.titre,synopsis:o.currentEpisode.synopsis||"",ordre:o.currentEpisode.ordre,statutId:uo("episode",o.currentEpisode.statutNom)},O.value="",fe.value=!0)},ou=async()=>{var b,f;X.value=!0,O.value="";try{const ee=`/api/episodes/${Se.value.id}`,xe={titre:Se.value.titre,synopsis:Se.value.synopsis,ordre:parseInt(Se.value.ordre),statutId:Se.value.statutId};if((await C.put(ee,xe)).status===200){o.currentEpisode.titre=Se.value.titre,o.currentEpisode.synopsis=Se.value.synopsis,o.currentEpisode.ordre=Se.value.ordre,o.currentEpisode.statutNom=co("episode",Se.value.statutId);const it=o.episodes.findIndex(Pt=>Pt.idEpisode===Se.value.id);it!==-1&&(o.episodes[it]={...o.episodes[it],...Se.value}),po()}}catch(ee){console.error("Erreur lors de la mise  jour de l'pisode:",ee),O.value=((f=(b=ee.response)==null?void 0:b.data)==null?void 0:f.message)||"Erreur lors de la mise  jour de l'pisode"}finally{X.value=!1}},po=()=>{fe.value=!1,Se.value={id:null,titre:"",synopsis:"",ordre:null,statutId:null},O.value=""},nu=b=>{if(!c.value.canCreateSequence){alert("Vous n'tes pas autoris  modifier des squences pour cet pisode.");return}G.value={id:b.idSequence,titre:b.titre,synopsis:b.synopsis||"",ordre:b.ordre,statutId:uo("sequence",b.statutNom)},Ce.value="",W.value=!0},iu=async()=>{var b,f;g.value=!0,Ce.value="";try{const ee=`/api/sequences/${G.value.id}`,xe={titre:G.value.titre,synopsis:G.value.synopsis,ordre:parseInt(G.value.ordre),statutId:G.value.statutId};(await C.put(ee,xe)).status===200&&(o.currentSequence.titre=G.value.titre,o.currentSequence.synopsis=G.value.synopsis,o.currentSequence.ordre=G.value.ordre,o.currentSequence.statutNom=co("sequence",G.value.statutId),await o.fetchSequences(o.currentEpisode.idEpisode),ho())}catch(ee){console.error("Erreur lors de la mise  jour de la squence:",ee),Ce.value=((f=(b=ee.response)==null?void 0:b.data)==null?void 0:f.message)||"Erreur lors de la mise  jour de la squence"}finally{g.value=!1}},ho=()=>{W.value=!1,G.value={id:null,titre:"",synopsis:"",ordre:null,statutId:null},Ce.value=""},lu=b=>{if(!c.value.canCreateScene){alert("Vous n'tes pas autoris  modifier des scnes pour cette squence.");return}w.value={id:b.idScene,titre:b.titre,synopsis:b.synopsis||"",ordre:b.ordre,statutId:uo("scene",b.statutNom)},P.value="",y.value=!0},au=async()=>{var b,f;R.value=!0,P.value="";try{const ee=`/api/scenes/${w.value.id}`,xe={titre:w.value.titre,synopsis:w.value.synopsis,ordre:parseInt(w.value.ordre),statutId:w.value.statutId};if((await C.put(ee,xe)).status===200){const it=o.currentSequence.scenes.findIndex(Pt=>Pt.idScene===w.value.id);it!==-1&&(o.currentSequence.scenes[it]={...o.currentSequence.scenes[it],titre:w.value.titre,synopsis:w.value.synopsis,ordre:w.value.ordre,statutNom:co("scene",w.value.statutId)}),await o.fetchSequenceDetails(o.currentSequence.idSequence),mo()}}catch(ee){console.error("Erreur lors de la mise  jour de la scne:",ee),P.value=((f=(b=ee.response)==null?void 0:b.data)==null?void 0:f.message)||"Erreur lors de la mise  jour de la scne"}finally{R.value=!1}},mo=()=>{y.value=!1,w.value={id:null,titre:"",synopsis:"",ordre:null,statutId:null},P.value=""},uu=async b=>{if(!c.value.canCreateDialogue){alert("Vous n'tes pas autoris  modifier des dialogues pour cette scne.");return}L.value={id:b.id,personnageId:b.personnageId||null,texte:b.texte,observation:b.observation||"",ordre:b.ordre||1,sceneId:b.sceneId},U.value="",E.value="",await du(),K.value=!0},du=async()=>{if(L.value.sceneId)try{const b=await C.get(`/api/dialogues/scene/${L.value.sceneId}`);m.value=b.data.map(f=>f.ordre),cu()}catch(b){console.error("Erreur lors du chargement des ordres existants:",b)}},cu=()=>{if(m.value.length===0)S.value=1;else{const b=Math.max(...m.value);S.value=b+1}},Nn=()=>{const b=parseInt(L.value.ordre);return isNaN(b)||b<1?(E.value="L'ordre doit tre un nombre positif.",!1):m.value.includes(b)&&b!==parseInt(L.value.ordreOriginal||L.value.ordre)?(E.value="Cet ordre existe dj dans la scne.",!1):(E.value="",!0)},fu=async()=>{var b,f;if(!L.value.texte.trim()){U.value="Le texte du dialogue est requis.";return}if(Nn()){$.value=!0,U.value="";try{const ee={sceneId:L.value.sceneId,personnageId:L.value.personnageId,texte:L.value.texte,observation:L.value.observation||null,ordre:parseInt(L.value.ordre)};(await C.put(`/api/dialogues/${L.value.id}`,ee,{headers:{"X-User-Id":_.value.id}})).status===200&&(await o.fetchSequenceDetails(o.currentSequence.idSequence),go(),alert("Dialogue modifi avec succs!"))}catch(ee){console.error("Erreur lors de la mise  jour du dialogue:",ee),U.value=((f=(b=ee.response)==null?void 0:b.data)==null?void 0:f.message)||"Erreur lors de la mise  jour du dialogue",alert(U.value)}finally{$.value=!1}}},go=()=>{K.value=!1,L.value={id:null,personnageId:null,texte:"",observation:"",ordre:1,sceneId:null},U.value="",E.value="",m.value=[],S.value=null},pu=()=>o.goToNextPage(),hu=()=>o.goToPrevPage(),mu=()=>o.fetchEpisodes(V.value),gu=async b=>{try{await o.selectEpisodeById(b),s.push({query:{...t.query,episodeId:b}})}catch(f){console.error("Erreur lors de la slection de l'pisode:",f)}},vu=async b=>{await o.selectSequenceById(b),se.value=null},yu=async()=>{if(!V.value){console.error("ID du projet non trouv !");const b=t.params.idProjet||t.query.projetId||o.projetId;if(b)V.value=b;else{alert("ID du projet manquant. Veuillez ressayer.");return}}try{s.push(`/projet/${V.value}/add-episode-ecran-travail`)}catch(b){console.error("Erreur lors de la navigation:",b),alert("Erreur lors de la navigation")}},bu=async()=>{var b;if(!c.value.canCreateSequence){alert("Vous n'tes pas autoris  crer des squences pour cet pisode.");return}if(!((b=o.currentEpisode)!=null&&b.idEpisode)){console.error("ID de l'pisode non trouv !"),alert("ID de l'pisode manquant. Veuillez ressayer.");return}s.push(`/episode/${o.currentEpisode.idEpisode}/add-sequence-ecran-travail`)},Su=()=>{var f;if(!c.value.canCreateScene){alert("Vous n'tes pas autoris  crer des scnes pour cette squence.");return}const b=window.location.pathname+window.location.search;localStorage.setItem("lastEcranTravailUrl",b),s.push({path:`/sequence/${(f=o.currentSequence)==null?void 0:f.idSequence}/add-scene-ecran-travail`,query:{backUrl:b}})},Eu=b=>{s.push(`/scene/${b}/add-dialogue-scene-ecran-travail`)},_u=()=>{const b=V.value||o.projetId||t.params.idProjet;if(!b){console.error("ID du projet non trouv !"),alert("ID du projet manquant. Veuillez ressayer.");return}console.log("Navigation vers cration comdien avec projet ID:",b),s.push(`/projet/${b}/add-comedien-ecran-travail`)},wu=()=>{var b;if(t.params.idProjet)V.value=t.params.idProjet;else if(o.projetId)V.value=o.projetId;else if((b=o.currentEpisode)!=null&&b.idEpisode){C.get(`/api/episodes/${o.currentEpisode.idEpisode}`).then(f=>{V.value=f.data.projetId,s.push(`/projet/${V.value}/add-lieu-scene-ecran-travail`)}).catch(f=>{console.error("Erreur lors de la rcupration du projet:",f),vo()});return}else{vo();return}if(!V.value){vo();return}s.push(`/projet/${V.value}/add-lieu-scene-ecran-travail`)},vo=()=>{confirm("Impossible de dterminer le projet actuel. Souhaitez-vous slectionner un projet manuellement ?")&&s.push("/projets")},Iu=()=>{if(!V.value){console.error("ID du projet non trouv !"),alert("ID du projet manquant. Veuillez ressayer.");return}s.push(`/projet/${V.value}/add-plateau-scene`)},Cu=()=>{if(!V.value){console.error("ID du projet non trouv !"),alert("ID du projet manquant. Veuillez ressayer.");return}s.push(`/projet/${V.value}/add-personnage-ecran-travail`)},xu=async b=>{if(!c.value.canCreateLieu){alert("Vous n'tes pas autoris  ajouter des lieux/plateaux pour cette scne.");return}we.value=b,await He(),await bo(b.idScene),Ie.value="",Ue.value=null,ie.value=null,F.value="",De.value=[],Re.value=!0},yo=()=>{Re.value=!1,we.value=null,Ue.value=null,ie.value=null,F.value="",pe.value=[],Ie.value=""},bo=async b=>{try{const f=await C.get(`/api/scene-lieux/scenes/${b}`);pe.value=f.data}catch(f){console.error("Erreur lors du chargement des lieux de la scne:",f),pe.value=[]}},ju=async()=>{var b,f;if(!Ue.value){Ie.value="Veuillez slectionner un lieu.";return}Pe.value=!0,Ie.value="";try{const ee={sceneId:we.value.idScene,lieuId:Ue.value,plateauId:ie.value||null,descriptionUtilisation:F.value};(await C.post("/api/scene-lieux",ee)).status===201&&(await bo(we.value.idScene),await o.fetchSequenceDetails(o.currentSequence.idSequence),Ue.value=null,ie.value=null,F.value="",De.value=[])}catch(ee){console.error("Erreur lors de l'ajout du lieu/plateau:",ee),Ie.value=((f=(b=ee.response)==null?void 0:b.data)==null?void 0:f.message)||"Erreur lors de l'ajout du lieu/plateau"}finally{Pe.value=!1}},ku=async b=>{if(confirm("tes-vous sr de vouloir supprimer ce lieu/plateau de la scne ?"))try{await C.delete(`/api/scene-lieux/${b}`),await bo(we.value.idScene),await o.fetchSequenceDetails(o.currentSequence.idSequence)}catch(f){console.error("Erreur lors de la suppression du lieu/plateau:",f),alert("Erreur lors de la suppression du lieu/plateau")}},Pu=async()=>{k.value=!k.value,k.value&&(await So(),await vs())},So=async()=>{try{const b=await C.get(`/api/sequence-commentaires/sequence/${o.currentSequence.idSequence}`);B.value=b.data}catch(b){console.error("Erreur lors du chargement des commentaires de squence:",b)}},vs=async()=>{if(o.currentSequence)try{const b=await C.get(`/api/sequence-commentaires/sequence/${o.currentSequence.idSequence}/count`);H.value=b.data}catch(b){console.error("Erreur lors du chargement du nombre de commentaires:",b)}},Ou=async()=>{if(q.value.trim())try{await C.post("/api/sequence-commentaires",{contenu:q.value,sequenceId:o.currentSequence.idSequence},{headers:{"X-User-Id":_.value.id}}),q.value="",await So(),await vs()}catch(b){console.error("Erreur lors de l'ajout du commentaire:",b),alert("Erreur lors de l'ajout du commentaire")}},qu=async b=>{if(confirm("tes-vous sr de vouloir supprimer ce commentaire ?"))try{await C.delete(`/api/sequence-commentaires/${b}`),await So(),await vs()}catch(f){console.error("Erreur lors de la suppression du commentaire:",f)}},Du=async b=>{N.value=b,z.value=!0,await Eo(b.idScene)},Tu=()=>{z.value=!1,N.value=null,ve.value=[]},Eo=async b=>{try{const f=await C.get(`/api/scene-commentaires/scene/${b}`);ve.value=f.data}catch(f){console.error("Erreur lors du chargement des commentaires de scne:",f)}},Ru=b=>le.value[b]||0,Ls=async()=>{var b;if((b=o.currentSequence)!=null&&b.scenes)for(const f of o.currentSequence.scenes)try{const ee=await C.get(`/api/scene-commentaires/scene/${f.idScene}/count`);le.value[f.idScene]=ee.data}catch(ee){console.error("Erreur lors du chargement du nombre de commentaires pour la scne:",ee),le.value[f.idScene]=0}},Au=async()=>{if(!(!re.value.trim()||!N.value))try{await C.post("/api/scene-commentaires",{contenu:re.value,sceneId:N.value.idScene},{headers:{"X-User-Id":_.value.id}}),re.value="",await Eo(N.value.idScene),await Ls()}catch(b){console.error("Erreur lors de l'ajout du commentaire:",b),alert("Erreur lors de l'ajout du commentaire")}},Lu=async b=>{if(confirm("tes-vous sr de vouloir supprimer ce commentaire ?"))try{await C.delete(`/api/scene-commentaires/${b}`),await Eo(N.value.idScene),await Ls()}catch(f){console.error("Erreur lors de la suppression du commentaire:",f)}},$u=async b=>{oe.value=b,ue.value=!0,await _o(b.id)},Mu=()=>{ue.value=!1,oe.value=null,$e.value=[]},_o=async b=>{try{const f=await C.get(`/api/dialogues/commentaires/dialogue/${b}`);$e.value=f.data}catch(f){console.error("Erreur lors du chargement des commentaires de dialogue:",f)}},Uu=b=>Me.value[b]||0,$s=async()=>{var b;if((b=o.currentSequence)!=null&&b.scenes){for(const f of o.currentSequence.scenes)if(f.dialogues&&f.dialogues.length>0)for(const ee of f.dialogues)try{const xe=await C.get(`/api/dialogues/commentaires/dialogue/${ee.id}/count`);Me.value[ee.id]=xe.data}catch(xe){console.error("Erreur lors du chargement du nombre de commentaires pour le dialogue:",xe),Me.value[ee.id]=0}}},Nu=async()=>{if(!(!ye.value.trim()||!oe.value))try{await C.post("/api/dialogues/commentaires",{contenu:ye.value,dialogueId:oe.value.id},{headers:{"X-User-Id":_.value.id}}),ye.value="",await _o(oe.value.id),await $s()}catch(b){console.error("Erreur lors de l'ajout du commentaire:",b),alert("Erreur lors de l'ajout du commentaire")}},Fu=async b=>{if(confirm("tes-vous sr de vouloir supprimer ce commentaire ?"))try{await C.delete(`/api/dialogues/commentaires/${b}`),await _o(oe.value.id),await $s()}catch(f){console.error("Erreur lors de la suppression du commentaire:",f)}},Vu=async b=>{if(!c.value.canCreateSequence){alert("Vous n'tes pas autoris  supprimer des squences pour cet pisode.");return}if(confirm("tes-vous sr de vouloir supprimer cette squence ?"))try{await C.delete(`/api/sequences/${b}`),await o.fetchSequences(o.currentEpisode.idEpisode)}catch(f){console.error("Erreur lors de la suppression de la squence:",f),alert("Erreur lors de la suppression de la squence")}},Bu=async b=>{if(!c.value.canCreateScene){alert("Vous n'tes pas autoris  supprimer des scnes pour cette squence.");return}if(confirm("tes-vous sr de vouloir supprimer cette scne ?"))try{await C.delete(`/api/scenes/${b}`),await o.fetchSequenceDetails(o.currentSequence.idSequence)}catch(f){console.error("Erreur lors de la suppression de la scne:",f),alert("Erreur lors de la suppression de la scne")}},Hu=async b=>{if(!c.value.canCreateDialogue){alert("Vous n'tes pas autoris  supprimer des dialogues pour cette scne.");return}if(confirm("tes-vous sr de vouloir supprimer ce dialogue ?"))try{await C.delete(`/api/dialogues/${b}`),await o.fetchSequenceDetails(o.currentSequence.idSequence)}catch(f){console.error("Erreur lors de la suppression du dialogue:",f),alert("Erreur lors de la suppression du dialogue")}},zu=async b=>{if(!c.value.canCreateLieu){alert("Vous n'tes pas autoris  supprimer des lieux/plateaux pour cette scne.");return}if(confirm("tes-vous sr de vouloir supprimer ce lieu/plateau ?"))try{await C.delete(`/api/scene-lieux/${b}`),await o.fetchSequenceDetails(o.currentSequence.idSequence)}catch(f){console.error("Erreur lors de la suppression du lieu/plateau:",f),alert("Erreur lors de la suppression du lieu/plateau")}},wo=b=>new Date(b).toLocaleString(),St=Ne(()=>o.currentEpisode),Lt=Ne(()=>o.currentSequence),Fn=Ne(()=>o.error),is=Ne(()=>o.isLoading),Gu=Ne(()=>o.hasNext),Ku=Ne(()=>o.hasPrev);return(b,f)=>{var ee,xe,kt,it,Pt,Vn,Bn,Hn;return p(),h("div",vb,[i("div",yb,[i("header",bb,[i("div",Sb,[i("button",{class:"nav-btn",onClick:hu,disabled:!Ku.value||is.value},"Prcdent",8,Eb),i("button",{class:"nav-btn",onClick:pu,disabled:!Gu.value||is.value},"Suivant",8,_b)]),i("h2",null," pisode "+v((ee=St.value)==null?void 0:ee.ordre)+" : ",1),f[33]||(f[33]=i("br",null,null,-1)),i("div",wb,[i("label",null,v(((xe=St.value)==null?void 0:xe.titre)||"Chargement..."),1),c.value.canEditEpisode?(p(),h("span",{key:0,class:"icon-edit",onClick:ru},[...f[26]||(f[26]=[i("i",{class:"fas fa-pen icon",style:{background:"none"}},null,-1)])])):I("",!0),f[27]||(f[27]=D()),f[28]||(f[28]=i("br",null,null,-1))]),i("div",Ib,[i("label",null,[f[29]||(f[29]=i("strong",null,"Synopsis :",-1)),D(" "+v(((kt=St.value)==null?void 0:kt.synopsis)||"Chargement..."),1)]),f[31]||(f[31]=i("br",null,null,-1)),i("label",null,[f[30]||(f[30]=i("strong",null,"Statut :",-1)),D(" "+v(((it=St.value)==null?void 0:it.statutNom)||"Chargement..."),1)])]),St.value?(p(),h("div",Cb,[i("div",xb,[f[32]||(f[32]=i("strong",null,"quipe de l'pisode :",-1)),St.value.realisateur?(p(),h("span",jb," Ralisateur : "+v(St.value.realisateur.nom),1)):I("",!0),St.value.scenariste?(p(),h("span",kb," Scnariste : "+v(St.value.scenariste.nom),1)):I("",!0)])])):I("",!0)]),i("div",Pb,[(p(!0),h(Q,null,te(ae.value,j=>{var dt;return p(),h("span",{key:j.idEpisode,class:ut(["episode-number",{active:j.idEpisode===((dt=St.value)==null?void 0:dt.idEpisode),"new-episode":j.idEpisode===J.value}]),onClick:ls=>gu(j.idEpisode)},[D(v(j.ordre)+" ",1),j.idEpisode===J.value?(p(),h("span",qb,"")):I("",!0)],10,Ob)}),128))]),is.value?(p(),h("div",Db,"Chargement en cours...")):I("",!0),Fn.value&&!is.value?(p(),h("div",Tb,[D(v(Fn.value)+" ",1),i("button",{class:"retry-btn",onClick:mu},"Ressayer")])):I("",!0),i("div",Rb,[c.value.canEditEpisode?(p(),h("button",{key:0,class:"add-scene-btn",onClick:yu},[...f[34]||(f[34]=[i("i",{class:"fas fa-plus-circle icon",style:{color:"#21294F"}},null,-1),D(" Episode ",-1)])])):I("",!0),c.value.canCreateSequence?(p(),h("button",{key:1,class:"add-scene-btn",onClick:bu},[...f[35]||(f[35]=[i("i",{class:"fas fa-plus-circle icon",style:{color:"#21294F"}},null,-1),D(" Squence ",-1)])])):I("",!0),c.value.canCreateLieu?(p(),h("button",{key:2,class:"add-scene-btn",onClick:wu},[...f[36]||(f[36]=[i("i",{class:"fas fa-plus-circle icon",style:{color:"#21294F"}},null,-1),D(" Lieu ",-1)])])):I("",!0),c.value.canCreatePlateau?(p(),h("button",{key:3,class:"add-scene-btn",onClick:Iu},[...f[37]||(f[37]=[i("i",{class:"fas fa-plus-circle icon",style:{color:"#21294F"}},null,-1),D(" Plateau ",-1)])])):I("",!0),c.value.canCreateComedien?(p(),h("button",{key:4,class:"add-scene-btn",onClick:_u},[...f[38]||(f[38]=[i("i",{class:"fas fa-plus-circle icon",style:{color:"#21294F"}},null,-1),D(" Comedien ",-1)])])):I("",!0),c.value.canCreatePersonnage?(p(),h("button",{key:5,class:"add-scene-btn",onClick:Cu},[...f[39]||(f[39]=[i("i",{class:"fas fa-plus-circle icon",style:{color:"#21294F"}},null,-1),D(" Personnage ",-1)])])):I("",!0)]),f[115]||(f[115]=i("div",{class:"#"},[i("h2",null,"Les squences :")],-1)),i("div",Ab,[St.value&&!is.value?(p(),h("div",Lb,[(p(!0),h(Q,null,te(me.value,(j,dt)=>{var ls;return p(),h("span",{key:j.idSequence,class:ut(["sequence-number",{active:j.idSequence===((ls=Lt.value)==null?void 0:ls.idSequence),"new-sequence":j.idSequence===se.value}]),onClick:Io=>vu(j.idSequence)},[dt>0?(p(),h("span",Mb)):I("",!0),D(" "+v(j.ordre)+" ",1),j.idSequence===se.value?(p(),h("span",Ub,"")):I("",!0)],10,$b)}),128))])):I("",!0)]),Lt.value&&!is.value?(p(),h("main",Nb,[i("h2",null,[D(" Squence 0"+v(Lt.value.ordre)+" : "+v(Lt.value.titre)+" ",1),c.value.canCreateSequence?(p(),h("span",{key:0,class:"icon-edit",onClick:f[0]||(f[0]=j=>nu(Lt.value))},[...f[40]||(f[40]=[i("i",{class:"fas fa-pen icon",style:{color:"#17a2b8"}},null,-1)])])):I("",!0),c.value.canCreateSequence?(p(),h("span",{key:1,class:"icon-delete",onClick:f[1]||(f[1]=j=>Vu(Lt.value.idSequence))},[...f[41]||(f[41]=[i("i",{class:"fas fa-trash icon",style:{color:"#dc3545"}},null,-1)])])):I("",!0),i("span",{class:"comment-icon",onClick:Pu},[i("h3",null,[f[42]||(f[42]=i("i",{class:"fas fa-comments icon",style:{color:"#21294F"}},null,-1)),D(v(H.value),1)])])]),k.value?(p(),h("div",Fb,[f[45]||(f[45]=i("h4",null,[i("i",{class:"fas fa-comments icon",style:{color:"#21294F"}}),D("Commentaires sur la squence")],-1)),i("div",Vb,[T(i("textarea",{"onUpdate:modelValue":f[2]||(f[2]=j=>q.value=j),placeholder:"Ajouter un commentaire...",rows:"3"},null,512),[[Z,q.value]]),i("button",{onClick:Ou,class:"add-comment-btn"},[...f[43]||(f[43]=[i("i",{class:"fas fa-plus-circle icon"},null,-1),D("Ajouter",-1)])])]),i("div",Bb,[(p(!0),h(Q,null,te(B.value,j=>(p(),h("div",{key:j.id,class:"comment-item"},[i("div",Hb,[i("span",zb,v(j.utilisateurNom),1),i("span",Gb,v(wo(j.creeLe)),1)]),i("div",Kb,v(j.contenu),1),j.utilisateurId===_.value.id?(p(),h("div",Wb,[i("button",{onClick:dt=>qu(j.id),class:"delete-comment-btn"},[...f[44]||(f[44]=[i("i",{class:"fas fa-trash icon"},null,-1),D("Supprimer",-1)])],8,Jb)])):I("",!0)]))),128))])])):I("",!0),i("p",null,[f[46]||(f[46]=i("strong",null,"Synopsis:",-1)),D(" "+v(Lt.value.synopsis||"Aucun synopsis"),1)]),i("p",null,[f[47]||(f[47]=i("strong",null,"Statut:",-1)),D(" "+v(Lt.value.statutNom||"Non dfini"),1)]),i("div",Xb,[i("div",{class:"section-header"},[f[49]||(f[49]=i("h3",null,"Scnes",-1)),i("button",{class:"add-scene-btn",onClick:Su},[...f[48]||(f[48]=[i("i",{class:"fas fa-plus-circle icon",style:{color:"#21294F"}},null,-1),D(" Scne",-1)])])]),i("div",Yb,[(p(!0),h(Q,null,te(Lt.value.scenes,j=>{var dt,ls,Io;return p(),h("div",{key:j.idScene,class:"scene-card"},[i("h3",null,[D(" Scne "+v(j.ordre)+": "+v(j.titre)+" ",1),c.value.canCreateScene?(p(),h("span",{key:0,class:"icon-edit",onClick:ge=>lu(j)},[...f[50]||(f[50]=[i("i",{class:"fas fa-pen icon",style:{color:"#17a2b8"}},null,-1)])],8,Qb)):I("",!0),c.value.canCreateScene?(p(),h("span",{key:1,class:"icon-delete",onClick:ge=>Bu(j.idScene)},[...f[51]||(f[51]=[i("i",{class:"fas fa-trash icon",style:{color:"#dc3545"}},null,-1)])],8,Zb)):I("",!0),i("span",{class:"comment-icon",onClick:ge=>Du(j)},[f[52]||(f[52]=i("i",{class:"fas fa-comments icon",style:{color:"#21294F"}},null,-1)),D(" "+v(Ru(j.idScene)),1)],8,eS)]),z.value&&((dt=N.value)==null?void 0:dt.idScene)===j.idScene?(p(),h("div",tS,[f[55]||(f[55]=i("h4",null,"Commentaires sur la scne",-1)),i("div",sS,[T(i("textarea",{"onUpdate:modelValue":f[3]||(f[3]=ge=>re.value=ge),placeholder:"Ajouter un commentaire...",rows:"3"},null,512),[[Z,re.value]]),i("button",{onClick:Au,class:"add-comment-btn"},[...f[53]||(f[53]=[i("i",{class:"fas fa-plus-circle icon"},null,-1),D("Ajouter",-1)])])]),i("div",rS,[(p(!0),h(Q,null,te(ve.value,ge=>(p(),h("div",{key:ge.id,class:"comment-item"},[i("div",oS,[i("span",nS,v(ge.utilisateurNom),1),i("span",iS,v(wo(ge.creeLe)),1)]),i("div",lS,v(ge.contenu),1),ge.utilisateurId===_.value.id?(p(),h("div",aS,[i("button",{onClick:Et=>Lu(ge.id),class:"delete-comment-btn"},[...f[54]||(f[54]=[i("i",{class:"fas fa-trash icon"},null,-1),D("Supprimer",-1)])],8,uS)])):I("",!0)]))),128))]),i("button",{onClick:Tu,class:"close-comments-btn"},"Fermer")])):I("",!0),i("p",null,[f[56]||(f[56]=i("strong",null,"Synopsis:",-1)),D(" "+v(j.synopsis||"Aucun synopsis"),1)]),i("p",null,[f[57]||(f[57]=i("strong",null,"Statut:",-1)),D(" "+v(j.statutNom||"Non dfini"),1)]),i("div",dS,[f[59]||(f[59]=i("h4",null,[i("i",{class:"fas fa-map-pin icon",style:{color:"#dc3545"}}),D("Lieux et Plateaux:")],-1)),c.value.canCreateLieu?(p(),h("button",{key:0,class:"add-lieu-btn",onClick:ge=>xu(j)},[...f[58]||(f[58]=[i("i",{class:"fas fa-plus-circle icon",style:{color:"#21294F"}},null,-1),D("Lieu/Plateau ",-1)])],8,cS)):I("",!0)]),(ls=j.sceneLieus)!=null&&ls.length?(p(),h("div",fS,[i("ul",null,[(p(!0),h(Q,null,te(j.sceneLieus,ge=>(p(),h("li",{key:ge.id},[i("strong",null,v(ge.lieuNom||"Lieu inconnu"),1),ge.plateauNom?(p(),h("span",pS,[f[60]||(f[60]=D(" - ",-1)),f[61]||(f[61]=i("strong",null,"Plateau:",-1)),D(" "+v(ge.plateauNom),1)])):I("",!0),c.value.canCreateLieu?(p(),h("span",{key:1,class:"icon-delete",onClick:Et=>zu(ge.id)},[...f[62]||(f[62]=[i("i",{class:"fas fa-trash icon",style:{color:"#dc3545"}},null,-1)])],8,hS)):I("",!0),ge.descriptionUtilisation?(p(),h("p",mS,"Description: "+v(ge.descriptionUtilisation),1)):I("",!0)]))),128))])])):(p(),h("p",gS,"Aucun lieu ou plateau associ.")),f[69]||(f[69]=i("div",{class:"section-header"},[i("h4",null,[i("i",{class:"fas fa-comments icon"}),D("Dialogues:")])],-1)),(Io=j.dialogues)!=null&&Io.length?(p(),h("div",vS,[i("ul",null,[(p(!0),h(Q,null,te(j.dialogues,ge=>(p(),h("li",{key:ge.id,class:"dialogue-item"},[i("div",{class:"dialogue-text",onMouseup:Et=>Un(ge),"data-dialogue-id":ge.id},[i("strong",null,v(ge.personnageNom||"Narrateur")+":",1),i("span",bS,v(ge.texte),1),u.value[ge.id]?(p(!0),h(Q,{key:0},te(u.value[ge.id],Et=>(p(),h("span",{key:Et.id,class:"text-highlight",style:es({backgroundColor:Et.couleur.valeurHex}),title:`Surlign par ${Et.utilisateurNom}`},v(Et.texteSurligne),13,SS))),128)):I("",!0)],40,yS),ge.observation?(p(),h("span",ES,v(ge.observation),1)):I("",!0),i("div",_S,[c.value.canCreateDialogue?(p(),h("span",{key:0,class:"icon-edit",onClick:Et=>uu(ge)},[...f[63]||(f[63]=[i("i",{class:"fas fa-pen icon",style:{color:"#17a2b8"}},null,-1)])],8,wS)):I("",!0),c.value.canCreateDialogue?(p(),h("span",{key:1,class:"icon-delete",onClick:Et=>Hu(ge.id)},[...f[64]||(f[64]=[i("i",{class:"fas fa-trash icon",style:{color:"#dc3545"}},null,-1)])],8,IS)):I("",!0),i("span",{class:"comment-icon",onClick:Et=>$u(ge)},[f[65]||(f[65]=i("i",{class:"fas fa-comment icon",style:{color:"#21294F"}},null,-1)),D(" "+v(Uu(ge.id)),1)],8,CS),c.value.canCreateDialogue?(p(),h("span",{key:2,class:"highlight-icon",onClick:Et=>Un(ge),title:"Surligner"},[...f[66]||(f[66]=[i("i",{class:"fas fa-highlighter icon",style:{color:"#ffeb3b"}},null,-1)])],8,xS)):I("",!0)])]))),128))])])):I("",!0),i("div",jS,[f[68]||(f[68]=i("h4",null,[i("i",{class:"fas fa-comments icon"})],-1)),c.value.canCreateDialogue?(p(),h("button",{key:0,class:"add-dialogue-btn",onClick:ge=>Eu(j.idScene)},[...f[67]||(f[67]=[i("i",{class:"fas fa-plus-circle icon",style:{color:"#21294F"}},null,-1),D("Dialogue ",-1)])],8,kS)):I("",!0)])])}),128))])])])):is.value?I("",!0):(p(),h("div",PS,[...f[70]||(f[70]=[i("p",null,"Aucune squence disponible pour cet pisode.",-1)])])),r.value?(p(),h("div",{key:4,class:"modal-overlay",onClick:et},[i("div",{class:"modal-content",onClick:f[4]||(f[4]=Fe(()=>{},["stop"]))},[i("div",{class:"modal-header"},[f[72]||(f[72]=i("h3",null,[i("i",{class:"fas fa-highlighter icon"}),D(" Surligner le texte ")],-1)),i("button",{onClick:et,class:"close-btn"},[...f[71]||(f[71]=[i("i",{class:"fas fa-times icon"},null,-1)])])]),i("div",OS,[f[73]||(f[73]=i("p",null,[i("strong",null,"Texte slectionn :")],-1)),i("div",qS,v(n.value),1)]),i("div",DS,[f[74]||(f[74]=i("h4",null,"Choisir une couleur :",-1)),i("div",TS,[(p(!0),h(Q,null,te(d.value,j=>{var dt;return p(),h("div",{key:j.id,class:ut(["color-option",{selected:((dt=a.value)==null?void 0:dt.id)===j.id}]),style:es({backgroundColor:j.valeurHex}),onClick:ls=>a.value=j,title:j.nom},null,14,RS)}),128))])]),(Vn=u.value[(Pt=l.value)==null?void 0:Pt.id])!=null&&Vn.length?(p(),h("div",AS,[f[76]||(f[76]=i("h4",null,"Surlignages existants :",-1)),(p(!0),h(Q,null,te(u.value[(Bn=l.value)==null?void 0:Bn.id],j=>(p(),h("div",{key:j.id,class:"highlight-item"},[i("span",{class:"highlight-sample",style:es({backgroundColor:j.couleur.valeurHex})},null,4),i("span",LS,v(j.texteSurligne),1),i("span",$S,"par "+v(j.utilisateurNom),1),j.utilisateurId===_.value.id?(p(),h("button",{key:0,onClick:dt=>We(j.id),class:"delete-highlight-btn"},[...f[75]||(f[75]=[i("i",{class:"fas fa-trash"},null,-1)])],8,MS)):I("",!0)]))),128))])):I("",!0),i("div",US,[i("button",{type:"button",onClick:et,class:"cancel-btn"}," Annuler "),i("button",{type:"button",onClick:Ze,class:"save-btn",disabled:!a.value},[...f[77]||(f[77]=[i("i",{class:"fas fa-highlighter"},null,-1),D(" Appliquer ",-1)])],8,NS)])])])):I("",!0),fe.value?(p(),h("div",FS,[i("div",VS,[i("div",{class:"modal-header"},[f[79]||(f[79]=i("h3",null,[i("i",{class:"fas fa-edit icon"}),D(" Modifier l'pisode ")],-1)),i("button",{onClick:po,class:"close-btn"},[...f[78]||(f[78]=[i("i",{class:"fas fa-times icon"},null,-1)])])]),i("form",{onSubmit:Fe(ou,["prevent"]),class:"edit-form"},[i("div",BS,[f[80]||(f[80]=i("label",{for:"edit-episode-titre"},"Titre",-1)),T(i("input",{type:"text",id:"edit-episode-titre","onUpdate:modelValue":f[5]||(f[5]=j=>Se.value.titre=j),required:"",class:"form-input"},null,512),[[Z,Se.value.titre]])]),i("div",HS,[f[81]||(f[81]=i("label",{for:"edit-episode-synopsis"},"Synopsis",-1)),T(i("textarea",{id:"edit-episode-synopsis","onUpdate:modelValue":f[6]||(f[6]=j=>Se.value.synopsis=j),rows:"4",class:"form-textarea"},null,512),[[Z,Se.value.synopsis]])]),i("div",zS,[f[82]||(f[82]=i("label",{for:"edit-episode-ordre"},"Ordre",-1)),T(i("input",{type:"number",id:"edit-episode-ordre","onUpdate:modelValue":f[7]||(f[7]=j=>Se.value.ordre=j),required:"",class:"form-input"},null,512),[[Z,Se.value.ordre]])]),i("div",GS,[f[84]||(f[84]=i("label",{for:"edit-episode-statut"},"Statut",-1)),T(i("select",{id:"edit-episode-statut","onUpdate:modelValue":f[8]||(f[8]=j=>Se.value.statutId=j),required:"",class:"form-select"},[f[83]||(f[83]=i("option",{value:""},"Slectionnez un statut",-1)),(p(!0),h(Q,null,te(Qe.value,j=>(p(),h("option",{key:j.idStatutEpisode,value:j.idStatutEpisode},v(j.nomStatutsEpisode),9,KS))),128))],512),[[he,Se.value.statutId]])]),O.value?(p(),h("div",WS,v(O.value),1)):I("",!0),i("div",JS,[i("button",{type:"button",onClick:po,class:"cancel-btn"},"Annuler"),i("button",{type:"submit",class:"save-btn",disabled:X.value},v(X.value?"Sauvegarde...":"Sauvegarder"),9,XS)])],32)])])):I("",!0),W.value?(p(),h("div",YS,[i("div",QS,[i("div",{class:"modal-header"},[f[86]||(f[86]=i("h3",null,[i("i",{class:"fas fa-edit icon"}),D(" Modifier la squence ")],-1)),i("button",{onClick:ho,class:"close-btn"},[...f[85]||(f[85]=[i("i",{class:"fas fa-times icon"},null,-1)])])]),i("form",{onSubmit:Fe(iu,["prevent"]),class:"edit-form"},[i("div",ZS,[f[87]||(f[87]=i("label",{for:"edit-sequence-titre"},"Titre",-1)),T(i("input",{type:"text",id:"edit-sequence-titre","onUpdate:modelValue":f[9]||(f[9]=j=>G.value.titre=j),required:"",class:"form-input"},null,512),[[Z,G.value.titre]])]),i("div",eE,[f[88]||(f[88]=i("label",{for:"edit-sequence-synopsis"},"Synopsis",-1)),T(i("textarea",{id:"edit-sequence-synopsis","onUpdate:modelValue":f[10]||(f[10]=j=>G.value.synopsis=j),rows:"4",class:"form-textarea"},null,512),[[Z,G.value.synopsis]])]),i("div",tE,[f[89]||(f[89]=i("label",{for:"edit-sequence-ordre"},"Ordre",-1)),T(i("input",{type:"number",id:"edit-sequence-ordre","onUpdate:modelValue":f[11]||(f[11]=j=>G.value.ordre=j),required:"",class:"form-input"},null,512),[[Z,G.value.ordre]])]),i("div",sE,[f[91]||(f[91]=i("label",{for:"edit-sequence-statut"},"Statut",-1)),T(i("select",{id:"edit-sequence-statut","onUpdate:modelValue":f[12]||(f[12]=j=>G.value.statutId=j),required:"",class:"form-select"},[f[90]||(f[90]=i("option",{value:""},"Slectionnez un statut",-1)),(p(!0),h(Q,null,te(be.value,j=>(p(),h("option",{key:j.id,value:j.id},v(j.nomStatutsSequence),9,rE))),128))],512),[[he,G.value.statutId]])]),Ce.value?(p(),h("div",oE,v(Ce.value),1)):I("",!0),i("div",nE,[i("button",{type:"button",onClick:ho,class:"cancel-btn"},"Annuler"),i("button",{type:"submit",class:"save-btn",disabled:g.value},v(g.value?"Sauvegarde...":"Sauvegarder"),9,iE)])],32)])])):I("",!0),y.value?(p(),h("div",lE,[i("div",aE,[i("div",{class:"modal-header"},[f[93]||(f[93]=i("h3",null,[i("i",{class:"fas fa-edit icon"}),D(" Modifier la scne ")],-1)),i("button",{onClick:mo,class:"close-btn"},[...f[92]||(f[92]=[i("i",{class:"fas fa-times icon"},null,-1)])])]),i("form",{onSubmit:Fe(au,["prevent"]),class:"edit-form"},[i("div",uE,[f[94]||(f[94]=i("label",{for:"edit-scene-titre"},"Titre",-1)),T(i("input",{type:"text",id:"edit-scene-titre","onUpdate:modelValue":f[13]||(f[13]=j=>w.value.titre=j),required:"",class:"form-input"},null,512),[[Z,w.value.titre]])]),i("div",dE,[f[95]||(f[95]=i("label",{for:"edit-scene-synopsis"},"Synopsis",-1)),T(i("textarea",{id:"edit-scene-synopsis","onUpdate:modelValue":f[14]||(f[14]=j=>w.value.synopsis=j),rows:"4",class:"form-textarea"},null,512),[[Z,w.value.synopsis]])]),i("div",cE,[f[96]||(f[96]=i("label",{for:"edit-scene-ordre"},"Ordre",-1)),T(i("input",{type:"number",id:"edit-scene-ordre","onUpdate:modelValue":f[15]||(f[15]=j=>w.value.ordre=j),required:"",class:"form-input"},null,512),[[Z,w.value.ordre]])]),i("div",fE,[f[98]||(f[98]=i("label",{for:"edit-scene-statut"},"Statut",-1)),T(i("select",{id:"edit-scene-statut","onUpdate:modelValue":f[16]||(f[16]=j=>w.value.statutId=j),required:"",class:"form-select"},[f[97]||(f[97]=i("option",{value:""},"Slectionnez un statut",-1)),(p(!0),h(Q,null,te(A.value,j=>(p(),h("option",{key:j.id,value:j.id},v(j.nomStatutsScene),9,pE))),128))],512),[[he,w.value.statutId]])]),P.value?(p(),h("div",hE,v(P.value),1)):I("",!0),i("div",mE,[i("button",{type:"button",onClick:mo,class:"cancel-btn"},"Annuler"),i("button",{type:"submit",class:"save-btn",disabled:R.value},v(R.value?"Sauvegarde...":"Sauvegarder"),9,gE)])],32)])])):I("",!0),K.value?(p(),h("div",vE,[i("div",yE,[i("div",{class:"modal-header"},[f[100]||(f[100]=i("h3",null,[i("i",{class:"fas fa-edit icon"}),D(" Modifier le dialogue ")],-1)),i("button",{onClick:go,class:"close-btn"},[...f[99]||(f[99]=[i("i",{class:"fas fa-times icon"},null,-1)])])]),i("form",{onSubmit:Fe(fu,["prevent"]),class:"edit-form"},[i("div",bE,[f[102]||(f[102]=i("label",{for:"edit-dialogue-personnage"},"Personnage",-1)),T(i("select",{id:"edit-dialogue-personnage","onUpdate:modelValue":f[17]||(f[17]=j=>L.value.personnageId=j),required:"",class:"form-select"},[f[101]||(f[101]=i("option",{value:null},"Narration (sans personnage)",-1)),(p(!0),h(Q,null,te(Ye.value,j=>(p(),h("option",{key:j.id,value:j.id},v(j.nom)+" ("+v(j.projetTitre)+") ",9,SE))),128))],512),[[he,L.value.personnageId]])]),i("div",EE,[f[103]||(f[103]=i("label",{for:"edit-dialogue-texte"},"Texte",-1)),T(i("textarea",{id:"edit-dialogue-texte","onUpdate:modelValue":f[18]||(f[18]=j=>L.value.texte=j),rows:"4",class:"form-textarea",required:""},null,512),[[Z,L.value.texte]])]),i("div",_E,[f[104]||(f[104]=i("label",{for:"edit-dialogue-ordre"},"Ordre",-1)),T(i("input",{type:"number",id:"edit-dialogue-ordre","onUpdate:modelValue":f[19]||(f[19]=j=>L.value.ordre=j),required:"",class:"form-input",onBlur:Nn},null,544),[[Z,L.value.ordre]]),S.value?(p(),h("div",wE,"Suggestion: "+v(S.value),1)):I("",!0),E.value?(p(),h("div",IE,v(E.value),1)):I("",!0)]),i("div",CE,[f[105]||(f[105]=i("label",{for:"edit-dialogue-observation"},"Observation",-1)),T(i("textarea",{id:"edit-dialogue-observation","onUpdate:modelValue":f[20]||(f[20]=j=>L.value.observation=j),rows:"3",class:"form-textarea",placeholder:"Observation optionnelle"},null,512),[[Z,L.value.observation]])]),U.value?(p(),h("div",xE,v(U.value),1)):I("",!0),i("div",jE,[i("button",{type:"button",onClick:go,class:"cancel-btn"},"Annuler"),i("button",{type:"submit",class:"save-btn",disabled:$.value},v($.value?"Sauvegarde...":"Sauvegarder"),9,kE)])],32)])])):I("",!0),ue.value?(p(),h("div",PE,[i("div",OE,[i("div",{class:"modal-header"},[f[107]||(f[107]=i("h3",null,"Commentaires du dialogue",-1)),i("button",{onClick:Mu,class:"close-btn"},[...f[106]||(f[106]=[i("i",{class:"fas fa-times icon"},null,-1)])])]),i("div",qE,[T(i("textarea",{"onUpdate:modelValue":f[21]||(f[21]=j=>ye.value=j),placeholder:"Ajouter un commentaire...",rows:"3"},null,512),[[Z,ye.value]]),i("button",{onClick:Nu,class:"add-comment-btn"},"Ajouter")]),i("div",DE,[(p(!0),h(Q,null,te($e.value,j=>(p(),h("div",{key:j.id,class:"comment-item"},[i("div",TE,[i("span",RE,v(j.utilisateurNom),1),i("span",AE,v(wo(j.creeLe)),1)]),i("div",LE,v(j.contenu),1),j.utilisateurId===_.value.id?(p(),h("div",$E,[i("button",{onClick:dt=>Fu(j.id),class:"delete-comment-btn"},"Supprimer",8,ME)])):I("",!0)]))),128))])])])):I("",!0),Re.value?(p(),h("div",{key:10,class:"modal-overlay",onClick:yo},[i("div",{class:"modal-content",onClick:f[25]||(f[25]=Fe(()=>{},["stop"]))},[i("div",UE,[i("h3",null,"Ajouter un Lieu/Plateau  la scne: "+v((Hn=we.value)==null?void 0:Hn.titre),1),i("button",{onClick:yo,class:"close-btn"},[...f[108]||(f[108]=[i("i",{class:"fas fa-times icon"},null,-1)])])]),i("form",{onSubmit:Fe(ju,["prevent"]),class:"edit-form"},[i("div",NE,[f[110]||(f[110]=i("label",{for:"lieu-select"},"Slectionner un lieu existant",-1)),T(i("select",{id:"lieu-select","onUpdate:modelValue":f[22]||(f[22]=j=>Ue.value=j),onChange:gt,class:"form-select",required:""},[f[109]||(f[109]=i("option",{value:""},"Choisir un lieu",-1)),M.value.length===0?(p(),h("option",FE,"Aucun lieu disponible pour ce projet")):I("",!0),(p(!0),h(Q,null,te(M.value,j=>(p(),h("option",{key:j.id,value:j.id},v(j.nomLieu)+" ("+v(j.typeLieu)+") ",9,VE))),128))],544),[[he,Ue.value]])]),De.value.length>0?(p(),h("div",BE,[f[112]||(f[112]=i("label",{for:"plateau-select"},"Slectionner un plateau existant (optionnel)",-1)),T(i("select",{id:"plateau-select","onUpdate:modelValue":f[23]||(f[23]=j=>ie.value=j),class:"form-select"},[f[111]||(f[111]=i("option",{value:""},"Aucun plateau",-1)),(p(!0),h(Q,null,te(De.value,j=>(p(),h("option",{key:j.id,value:j.id},v(j.nom)+" ("+v(j.typePlateau)+") ",9,HE))),128))],512),[[he,ie.value]])])):I("",!0),i("div",zE,[f[113]||(f[113]=i("label",{for:"description-utilisation"},"Description d'utilisation",-1)),T(i("textarea",{id:"description-utilisation","onUpdate:modelValue":f[24]||(f[24]=j=>F.value=j),rows:"3",class:"form-textarea",placeholder:"Description de l'utilisation de ce lieu/plateau dans la scne..."},null,512),[[Z,F.value]])]),Ie.value?(p(),h("div",GE,v(Ie.value),1)):I("",!0),i("div",KE,[i("button",{type:"button",onClick:yo,class:"cancel-btn"},"Annuler"),i("button",{type:"submit",class:"save-btn",disabled:Pe.value},v(Pe.value?"Ajout en cours...":"Ajouter"),9,WE)])],32),pe.value.length>0?(p(),h("div",JE,[f[114]||(f[114]=i("h4",null,"Lieux dj associs:",-1)),(p(!0),h(Q,null,te(pe.value,j=>(p(),h("div",{key:j.id,class:"scene-lieu-item"},[i("div",XE,[i("strong",null,v(j.lieuNom),1),j.plateauNom?(p(),h("span",YE," - Plateau: "+v(j.plateauNom),1)):I("",!0),D(" - "+v(j.descriptionUtilisation||"Aucune description"),1)]),i("button",{onClick:dt=>ku(j.id),class:"delete-btn",title:"Supprimer"},"  ",8,QE)]))),128))])):I("",!0)])])):I("",!0)])])}}},e_={class:"ecran-travail"},t_={class:"header"},s_={class:"navigation"},r_=["disabled"],o_=["disabled"],n_={key:0,class:"loading"},i_={key:1,class:"error-message"},l_={key:2,class:"sequence-page"},a_={key:0,class:"comment-section"},u_={class:"add-comment"},d_={class:"comments-list"},c_={class:"comment-header"},f_={class:"comment-author"},p_={class:"comment-date"},h_={class:"comment-content"},m_={key:0,class:"comment-actions"},g_=["onClick"],v_={class:"scenes-list"},y_=["onClick"],b_={key:0,class:"comment-section"},S_={class:"add-comment"},E_={class:"comments-list"},__={class:"comment-header"},w_={class:"comment-author"},I_={class:"comment-date"},C_={class:"comment-content"},x_={key:0,class:"comment-actions"},j_=["onClick"],k_={key:1,class:"lieux-plateaux"},P_={key:0},O_={key:1},q_={key:2},D_={key:3,class:"dialogues"},T_={key:0},R_={key:4},A_={key:3,class:"no-data"},L_={__name:"Ecran_travail_viewers",setup(e){const t=qa(),s=tu(),o=Y(JSON.parse(localStorage.getItem("user"))||null),r=Y(!1),l=Y(""),n=Y([]),a=Y(0),d=Y(!1),u=Y(null),c=Y(""),m=Y([]),S=Y({});Lr(async()=>{const F=t.params.idProjet||"1";await s.fetchEpisodes(F)});const E=async()=>{r.value=!r.value,r.value&&(await _(),await k())},_=async()=>{try{const F=await C.get(`/api/sequence-commentaires/sequence/${s.currentSequence.idSequence}`);n.value=F.data}catch(F){console.error("Erreur lors du chargement des commentaires de squence:",F)}},k=async()=>{try{const F=await C.get(`/api/sequence-commentaires/sequence/${s.currentSequence.idSequence}/count`);a.value=F.data}catch(F){console.error("Erreur lors du chargement du nombre de commentaires:",F)}},q=async()=>{if(l.value.trim())try{await C.post("/api/sequence-commentaires",{contenu:l.value,sequenceId:s.currentSequence.idSequence},{headers:{"X-User-Id":o.value.id}}),l.value="",await _(),await k()}catch(F){console.error("Erreur lors de l'ajout du commentaire:",F),alert("Erreur lors de l'ajout du commentaire")}},B=async F=>{if(confirm("tes-vous sr de vouloir supprimer ce commentaire ?"))try{await C.delete(`/api/sequence-commentaires/${F}`),await _(),await k()}catch(M){console.error("Erreur lors de la suppression du commentaire:",M)}},H=async F=>{u.value=F,d.value=!0,await N(F.idScene)},z=()=>{d.value=!1,u.value=null,m.value=[]},N=async F=>{try{const M=await C.get(`/api/scene-commentaires/scene/${F}`);m.value=M.data}catch(M){console.error("Erreur lors du chargement des commentaires de scne:",M)}},re=F=>S.value[F]||0,ve=async()=>{var F;if((F=s.currentSequence)!=null&&F.scenes)for(const M of s.currentSequence.scenes)try{const De=await C.get(`/api/scene-commentaires/scene/${M.idScene}/count`);S.value[M.idScene]=De.data}catch(De){console.error("Erreur lors du chargement du nombre de commentaires pour la scne:",De),S.value[M.idScene]=0}},le=async()=>{if(!(!c.value.trim()||!u.value))try{await C.post("/api/scene-commentaires",{contenu:c.value,sceneId:u.value.idScene},{headers:{"X-User-Id":o.value.id}}),c.value="",await N(u.value.idScene),await ve()}catch(F){console.error("Erreur lors de l'ajout du commentaire:",F),alert("Erreur lors de l'ajout du commentaire")}},ue=async F=>{if(confirm("tes-vous sr de vouloir supprimer ce commentaire ?"))try{await C.delete(`/api/scene-commentaires/${F}`),await N(u.value.idScene),await ve()}catch(M){console.error("Erreur lors de la suppression du commentaire:",M)}},oe=F=>new Date(F).toLocaleString(),ye=()=>s.goToNextPage(),$e=()=>s.goToPrevPage(),Me=()=>s.fetchEpisodes(s.projetId||"1"),Re=Ne(()=>s.currentEpisode),we=Ne(()=>s.currentSequence),Ue=Ne(()=>s.error),ie=Ne(()=>s.isLoading);return pt(()=>s.currentSequence,async F=>{F&&(await k(),await ve())}),(F,M)=>{var De;return p(),h("div",e_,[i("header",t_,[M[2]||(M[2]=i("h2",null,"Viewers",-1)),i("h1",null,"pisode: "+v(((De=Re.value)==null?void 0:De.titre)||"Chargement..."),1),i("div",s_,[i("button",{class:"nav-btn",onClick:$e,disabled:!we.value||ie.value},"Prcdent",8,r_),i("button",{class:"nav-btn",onClick:ye,disabled:!we.value||ie.value},"Suivant",8,o_)])]),ie.value?(p(),h("div",n_,"Chargement en cours...")):I("",!0),Ue.value&&!ie.value?(p(),h("div",i_,[D(v(Ue.value)+" ",1),i("button",{class:"retry-btn",onClick:Me},"Ressayer")])):I("",!0),we.value&&!ie.value?(p(),h("main",l_,[i("h2",null,[D("Squence "+v(we.value.ordre)+": "+v(we.value.titre)+" ",1),i("span",{class:"comment-icon",onClick:E},"  "+v(a.value),1)]),r.value?(p(),h("div",a_,[M[3]||(M[3]=i("h4",null,"Commentaires sur la squence",-1)),i("div",u_,[T(i("textarea",{"onUpdate:modelValue":M[0]||(M[0]=pe=>l.value=pe),placeholder:"Ajouter un commentaire...",rows:"3"},null,512),[[Z,l.value]]),i("button",{onClick:q,class:"add-comment-btn"},"Ajouter")]),i("div",d_,[(p(!0),h(Q,null,te(n.value,pe=>(p(),h("div",{key:pe.id,class:"comment-item"},[i("div",c_,[i("span",f_,v(pe.utilisateurNom),1),i("span",p_,v(oe(pe.creeLe)),1)]),i("div",h_,v(pe.contenu),1),pe.utilisateurId===o.value.id?(p(),h("div",m_,[i("button",{onClick:Ie=>B(pe.id),class:"delete-comment-btn"},"Supprimer",8,g_)])):I("",!0)]))),128))])])):I("",!0),i("p",null,[M[4]||(M[4]=i("strong",null,"Synopsis:",-1)),D(" "+v(we.value.synopsis||"Aucun synopsis"),1)]),i("p",null,[M[5]||(M[5]=i("strong",null,"Statut:",-1)),D(" "+v(we.value.statutNom||"Non dfini"),1)]),i("div",v_,[(p(!0),h(Q,null,te(we.value.scenes,pe=>{var Ie,Pe,Ye;return p(),h("div",{key:pe.idScene,class:"scene-card"},[i("h3",null,[D("Scne "+v(pe.ordre)+": "+v(pe.titre)+" ",1),i("span",{class:"comment-icon",onClick:fe=>H(pe)},"  "+v(re(pe.idScene)),9,y_)]),d.value&&((Ie=u.value)==null?void 0:Ie.idScene)===pe.idScene?(p(),h("div",b_,[M[6]||(M[6]=i("h4",null,"Commentaires sur la scne",-1)),i("div",S_,[T(i("textarea",{"onUpdate:modelValue":M[1]||(M[1]=fe=>c.value=fe),placeholder:"Ajouter un commentaire...",rows:"3"},null,512),[[Z,c.value]]),i("button",{onClick:le,class:"add-comment-btn"},"Ajouter")]),i("div",E_,[(p(!0),h(Q,null,te(m.value,fe=>(p(),h("div",{key:fe.id,class:"comment-item"},[i("div",__,[i("span",w_,v(fe.utilisateurNom),1),i("span",I_,v(oe(fe.creeLe)),1)]),i("div",C_,v(fe.contenu),1),fe.utilisateurId===o.value.id?(p(),h("div",x_,[i("button",{onClick:Se=>ue(fe.id),class:"delete-comment-btn"},"Supprimer",8,j_)])):I("",!0)]))),128))]),i("button",{onClick:z,class:"close-comments-btn"},"Fermer")])):I("",!0),i("p",null,[M[7]||(M[7]=i("strong",null,"Synopsis:",-1)),D(" "+v(pe.synopsis||"Aucun synopsis"),1)]),i("p",null,[M[8]||(M[8]=i("strong",null,"Statut:",-1)),D(" "+v(pe.statutNom||"Non dfini"),1)]),(Pe=pe.sceneLieus)!=null&&Pe.length?(p(),h("div",k_,[M[12]||(M[12]=i("h4",null,"Lieux et Plateaux:",-1)),i("ul",null,[(p(!0),h(Q,null,te(pe.sceneLieus,fe=>{var Se;return p(),h("li",{key:fe.id},[M[11]||(M[11]=i("strong",null,"Lieu:",-1)),D(" "+v(fe.lieuNom)+" (Type: "+v(((Se=fe.lieu)==null?void 0:Se.typeLieu)||"Non spcifi")+") ",1),fe.plateauNom?(p(),h("span",P_,[M[9]||(M[9]=D(" - ",-1)),M[10]||(M[10]=i("strong",null,"Plateau:",-1)),D(" "+v(fe.plateauNom),1)])):I("",!0),fe.descriptionUtilisation?(p(),h("p",O_,"Description: "+v(fe.descriptionUtilisation),1)):I("",!0)])}),128))])])):(p(),h("p",q_,"Aucun lieu ou plateau associ.")),(Ye=pe.dialogues)!=null&&Ye.length?(p(),h("div",D_,[M[15]||(M[15]=i("h4",null,"Dialogues:",-1)),i("ul",null,[(p(!0),h(Q,null,te(pe.dialogues,fe=>(p(),h("li",{key:fe.id},[i("strong",null,v(fe.personnageNom||"Narrateur")+":",1),D(" "+v(fe.texte)+" ",1),M[13]||(M[13]=i("br",null,null,-1)),M[14]||(M[14]=i("br",null,null,-1)),fe.observation?(p(),h("span",T_,v(fe.observation),1)):I("",!0)]))),128))])])):(p(),h("p",R_,"Aucun dialogue associ."))])}),128))])])):ie.value?I("",!0):(p(),h("div",A_,[...M[16]||(M[16]=[i("p",null,"Aucune squence disponible pour cet pisode.",-1)])]))])}}};const $_={data(){return{user:JSON.parse(localStorage.getItem("user"))||null,showProfileMenu:!1,scene:{titre:"",ordre:null,synopsis:"",statutId:null},statutsScene:[],sequenceTitre:"",loading:!1,errorMessage:"",existingOrders:[],suggestedOrder:null,orderError:"",backUrl:null}},computed:{userInitials(){var t;return(t=this.user)!=null&&t.nom?this.user.nom.split(" ").map(s=>s[0]).join("").toUpperCase():""},sequenceId(){return this.$route.params.sequenceId}},async created(){this.backUrl=this.$route.query.backUrl||localStorage.getItem("lastEcranTravailUrl")||`/sequence/${this.sequenceId}/detail-sequence`,await this.loadStatutsScene(),await this.loadSequenceDetails(),await this.loadExistingOrders(),document.addEventListener("click",this.handleClickOutside)},beforeDestroy(){document.removeEventListener("click",this.handleClickOutside)},methods:{async loadStatutsScene(){try{const e=JSON.parse(localStorage.getItem("user")),t=e&&e.id?{"X-User-Id":e.id}:{},s=await C.get("/api/statuts-scene",{headers:t});this.statutsScene=s.data}catch(e){console.error("Erreur lors du chargement des statuts:",e),this.errorMessage="Erreur lors du chargement des statuts"}},async loadSequenceDetails(){try{const e=JSON.parse(localStorage.getItem("user")),t=e&&e.id?{"X-User-Id":e.id}:{},o=(await C.get(`/api/sequences/${this.sequenceId}`,{headers:t})).data;this.sequenceTitre=o.titre}catch(e){console.error("Erreur lors du chargement de la squence:",e),this.errorMessage="Impossible de charger les dtails de la squence"}},async loadExistingOrders(){try{const e=JSON.parse(localStorage.getItem("user")),t=e&&e.id?{"X-User-Id":e.id}:{},s=await C.get(`/api/scenes/sequences/${this.sequenceId}`,{headers:t});this.existingOrders=s.data.map(o=>o.ordre),this.calculateSuggestedOrder()}catch(e){console.error("Erreur lors du chargement des ordres existants:",e),this.errorMessage="Impossible de vrifier les ordres existants"}},calculateSuggestedOrder(){if(this.existingOrders.length===0)this.suggestedOrder=1;else{const e=Math.max(...this.existingOrders);this.suggestedOrder=e+1}this.scene.ordre=this.suggestedOrder},validateOrder(){if(!this.scene.ordre){this.orderError="L'ordre est requis";return}if(this.scene.ordre<1){this.orderError="L'ordre doit tre un nombre positif";return}if(this.existingOrders.includes(this.scene.ordre)){this.orderError=`L'ordre ${this.scene.ordre} existe dj dans cette squence`;return}this.orderError=""},useSuggestedOrder(){this.scene.ordre=this.suggestedOrder,this.validateOrder()},async submitScene(){var e,t,s,o,r,l,n,a,d;if(this.validateOrder(),this.orderError){this.errorMessage="Veuillez corriger les erreurs avant de soumettre";return}this.loading=!0,this.errorMessage="";try{const u=JSON.parse(localStorage.getItem("user"));if(!u||!u.id)throw new Error("Utilisateur non connect");const c=await C.post(`/api/scenes/sequences/${this.sequenceId}`,this.scene,{headers:{"X-User-Id":u.id}});this.$router.push(this.backUrl)}catch(u){console.error("Erreur lors de la cration de la scne:",u),((e=u.response)==null?void 0:e.status)===400&&((o=(s=(t=u.response)==null?void 0:t.data)==null?void 0:s.message)!=null&&o.includes("ordre"))&&((n=(l=(r=u.response)==null?void 0:r.data)==null?void 0:l.message)!=null&&n.includes("existe"))?(this.orderError="Cet ordre existe dj dans la squence",this.errorMessage="Erreur de validation: "+this.orderError,await this.loadExistingOrders()):this.errorMessage=((d=(a=u.response)==null?void 0:a.data)==null?void 0:d.message)||"Erreur lors de la cration de la scne"}finally{this.loading=!1}},goBack(){this.$router.push(this.backUrl)},toggleProfileMenu(){this.showProfileMenu=!this.showProfileMenu},handleClickOutside(e){e.target.closest(".profile-section")||(this.showProfileMenu=!1)},seDeconnecter(){localStorage.removeItem("user"),localStorage.removeItem("token"),this.$router.push("/")}}},M_={class:"add-scene-container"},U_={class:"main-content"},N_={class:"scene-header"},F_={class:"scene-form"},V_={class:"form-group"},B_={class:"form-group"},H_={key:0,class:"suggestion-text"},z_={key:1,class:"error-text"},G_={class:"form-group"},K_={class:"form-group"},W_=["value"],J_={class:"form-group"},X_=["value"],Y_={key:0,class:"error-message"},Q_={class:"form-actions"},Z_=["disabled"];function ew(e,t,s,o,r,l){return p(),h("div",M_,[i("main",U_,[i("div",N_,[i("button",{onClick:t[0]||(t[0]=(...n)=>l.goBack&&l.goBack(...n)),class:"back-btn"}," Retour"),t[9]||(t[9]=i("h2",null,"Ajouter une Scne",-1))]),i("div",F_,[i("form",{onSubmit:t[8]||(t[8]=Fe((...n)=>l.submitScene&&l.submitScene(...n),["prevent"]))},[i("div",V_,[t[10]||(t[10]=i("label",null,"Titre de la scne *",-1)),T(i("input",{"onUpdate:modelValue":t[1]||(t[1]=n=>r.scene.titre=n),type:"text",required:""},null,512),[[Z,r.scene.titre]])]),i("div",B_,[t[11]||(t[11]=i("label",null,"Ordre dans la squence *",-1)),T(i("input",{"onUpdate:modelValue":t[2]||(t[2]=n=>r.scene.ordre=n),type:"number",min:"1",required:"",onBlur:t[3]||(t[3]=(...n)=>l.validateOrder&&l.validateOrder(...n)),class:ut({"error-input":r.orderError})},null,34),[[Z,r.scene.ordre]]),r.suggestedOrder?(p(),h("div",H_,[D(" Suggestion: Le prochain ordre disponible est "+v(r.suggestedOrder)+" ",1),i("button",{type:"button",onClick:t[4]||(t[4]=(...n)=>l.useSuggestedOrder&&l.useSuggestedOrder(...n)),class:"suggestion-btn"}," Utiliser cette valeur ")])):I("",!0),r.orderError?(p(),h("div",z_,v(r.orderError),1)):I("",!0)]),i("div",G_,[t[12]||(t[12]=i("label",null,"Synopsis *",-1)),T(i("textarea",{"onUpdate:modelValue":t[5]||(t[5]=n=>r.scene.synopsis=n),required:""},null,512),[[Z,r.scene.synopsis]])]),i("div",K_,[t[13]||(t[13]=i("label",null,"Squence lie",-1)),i("input",{value:r.sequenceTitre,type:"text",disabled:""},null,8,W_)]),i("div",J_,[t[15]||(t[15]=i("label",null,"Statut *",-1)),T(i("select",{"onUpdate:modelValue":t[6]||(t[6]=n=>r.scene.statutId=n),required:""},[t[14]||(t[14]=i("option",{value:""},"Slectionnez un statut",-1)),(p(!0),h(Q,null,te(r.statutsScene,n=>(p(),h("option",{key:n.id,value:n.id},v(n.nomStatutsScene),9,X_))),128))],512),[[he,r.scene.statutId]])]),r.errorMessage?(p(),h("div",Y_,v(r.errorMessage),1)):I("",!0),i("div",Q_,[i("button",{type:"submit",class:"submit-btn",disabled:r.loading||r.orderError!==""},v(r.loading?"Cration en cours...":"Crer la Scne"),9,Z_),i("button",{type:"button",onClick:t[7]||(t[7]=(...n)=>l.goBack&&l.goBack(...n)),class:"cancel-btn"}," Annuler ")])],32)])])])}const tw=Ke($_,[["render",ew],["__scopeId","data-v-1de7345a"]]);const sw={data(){return{user:JSON.parse(localStorage.getItem("user"))||null,showProfileMenu:!1,episode:{},statutsSequence:[],formData:{titre:"",ordre:null,synopsis:"",statutId:null},loading:!1,errorMessage:"",newSequenceId:null,existingOrders:[],ordreError:"",suggestedOrdre:null}},computed:{userInitials(){var t;return(t=this.user)!=null&&t.nom?this.user.nom.split(" ").map(s=>s[0]).join("").toUpperCase():""},episodeId(){return this.$route.params.episodeId||this.$route.params.id}},async created(){await this.loadEpisode(),await this.loadStatutsSequence(),await this.fetchExistingSequences(),document.addEventListener("click",this.handleClickOutside)},beforeDestroy(){document.removeEventListener("click",this.handleClickOutside)},methods:{async loadEpisode(){try{const e=JSON.parse(localStorage.getItem("user")),t=e&&e.id?{"X-User-Id":e.id}:{},s=await C.get(`/api/episodes/${this.episodeId}`,{headers:t});this.episode=s.data}catch(e){console.error("Erreur lors du chargement de l'pisode:",e),this.errorMessage="Erreur lors du chargement de l'pisode."}},async loadStatutsSequence(){try{const e=await C.get("/api/statuts-sequence");this.statutsSequence=e.data}catch(e){console.error("Erreur lors du chargement des statuts:",e),this.errorMessage="Erreur lors du chargement des statuts."}},async fetchExistingSequences(){try{const e=JSON.parse(localStorage.getItem("user")),t=e&&e.id?{"X-User-Id":e.id}:{},s=await C.get(`/api/sequences/episodes/${this.episodeId}`,{headers:t});this.existingOrders=s.data.map(o=>o.ordre),this.calculateSuggestedOrdre()}catch(e){console.error("Erreur lors du chargement des squences existantes:",e),this.existingOrders=[],this.calculateSuggestedOrdre()}},calculateSuggestedOrdre(){if(this.existingOrders.length===0)this.suggestedOrdre=1;else{const e=Math.max(...this.existingOrders);this.suggestedOrdre=e+1}this.formData.ordre=this.suggestedOrdre},validateOrdre(){if(!this.formData.ordre){this.ordreError="L'ordre est requis";return}if(this.formData.ordre<1){this.ordreError="L'ordre doit tre un nombre positif";return}if(this.existingOrders.includes(this.formData.ordre)){this.ordreError=`L'ordre ${this.formData.ordre} existe dj dans cet pisode`;return}this.ordreError=""},useSuggestedOrder(){this.formData.ordre=this.suggestedOrdre,this.validateOrdre()},async submitForm(){var e,t,s,o,r,l,n,a,d;if(this.validateOrdre(),this.ordreError){this.errorMessage="Veuillez corriger les erreurs avant de soumettre";return}this.loading=!0,this.errorMessage="";try{const u=JSON.parse(localStorage.getItem("user"));if(!u||!u.id)throw new Error("Utilisateur non connect");const c=await C.post(`/api/sequences/episodes/${this.episodeId}`,this.formData,{headers:{"X-User-Id":u.id}});c.status===201&&(this.newSequenceId=c.data.idSequence,this.$router.push({path:`/projet/${this.episode.projetId}/ecran-travail`,query:{episodeId:this.episodeId,sequenceId:this.newSequenceId}}))}catch(u){console.error("Erreur lors de la cration de la squence:",u),((e=u.response)==null?void 0:e.status)===400&&((o=(s=(t=u.response)==null?void 0:t.data)==null?void 0:s.message)!=null&&o.includes("ordre"))&&((n=(l=(r=u.response)==null?void 0:r.data)==null?void 0:l.message)!=null&&n.includes("existe"))?(this.ordreError="Cet ordre existe dj dans l'pisode",this.errorMessage="Erreur de validation: "+this.ordreError,await this.fetchExistingSequences()):this.errorMessage=((d=(a=u.response)==null?void 0:a.data)==null?void 0:d.message)||"Erreur lors de la cration de la squence. Veuillez ressayer."}finally{this.loading=!1}},goBack(){this.newSequenceId?this.$router.push({path:`/projet/${this.episode.projetId}/ecran-travail`,query:{episodeId:this.episodeId,sequenceId:this.newSequenceId}}):this.$router.go(-1)},toggleProfileMenu(){this.showProfileMenu=!this.showProfileMenu},handleClickOutside(e){e.target.closest(".profile-section")||(this.showProfileMenu=!1)},seDeconnecter(){localStorage.removeItem("user"),localStorage.removeItem("token"),this.$router.push("/")}}},rw={class:"add-sequence-container"},ow={class:"main-content"},nw={class:"sequence-header"},iw={key:0,class:"error-message"},lw={class:"add-sequence-form"},aw={class:"form-group"},uw={class:"form-group"},dw={key:0,class:"suggestion-text"},cw={key:1,class:"error-text"},fw={class:"form-group"},pw={class:"form-group"},hw=["value"],mw={class:"form-group"},gw=["value"],vw={class:"form-actions"},yw=["disabled"];function bw(e,t,s,o,r,l){return p(),h("div",rw,[i("main",ow,[i("div",nw,[i("button",{onClick:t[0]||(t[0]=(...n)=>l.goBack&&l.goBack(...n)),class:"back-btn"}," Retour"),t[9]||(t[9]=i("h2",null,"Ajouter une nouvelle squence",-1))]),r.errorMessage?(p(),h("div",iw,v(r.errorMessage),1)):I("",!0),i("div",lw,[i("form",{onSubmit:t[8]||(t[8]=Fe((...n)=>l.submitForm&&l.submitForm(...n),["prevent"]))},[i("div",aw,[t[10]||(t[10]=i("label",{for:"titre"},"Titre de la squence *",-1)),T(i("input",{id:"titre","onUpdate:modelValue":t[1]||(t[1]=n=>r.formData.titre=n),type:"text",required:"",placeholder:"Entrez le titre de la squence"},null,512),[[Z,r.formData.titre]])]),i("div",uw,[t[11]||(t[11]=i("label",{for:"ordre"},"Ordre dans l'pisode *",-1)),T(i("input",{id:"ordre","onUpdate:modelValue":t[2]||(t[2]=n=>r.formData.ordre=n),type:"number",min:"1",required:"",placeholder:"Numro d'ordre",class:ut({"error-input":r.ordreError}),onBlur:t[3]||(t[3]=(...n)=>l.validateOrdre&&l.validateOrdre(...n))},null,34),[[Z,r.formData.ordre]]),r.suggestedOrdre?(p(),h("div",dw,[D(" Suggestion: Le prochain ordre disponible est "+v(r.suggestedOrdre)+" ",1),i("button",{type:"button",onClick:t[4]||(t[4]=(...n)=>l.useSuggestedOrder&&l.useSuggestedOrder(...n)),class:"suggestion-btn"}," Utiliser cette valeur ")])):I("",!0),r.ordreError?(p(),h("div",cw,v(r.ordreError),1)):I("",!0)]),i("div",fw,[t[12]||(t[12]=i("label",{for:"synopsis"},"Synopsis *",-1)),T(i("textarea",{id:"synopsis","onUpdate:modelValue":t[5]||(t[5]=n=>r.formData.synopsis=n),required:"",rows:"5",placeholder:"Dcrivez le contenu de cette squence"},null,512),[[Z,r.formData.synopsis]])]),i("div",pw,[t[13]||(t[13]=i("label",{for:"episode"},"pisode li",-1)),i("input",{id:"episode",value:r.episode.titre,type:"text",disabled:""},null,8,hw)]),i("div",mw,[t[15]||(t[15]=i("label",{for:"statut"},"Statut *",-1)),T(i("select",{id:"statut","onUpdate:modelValue":t[6]||(t[6]=n=>r.formData.statutId=n),required:""},[t[14]||(t[14]=i("option",{value:"",disabled:""},"Slectionnez un statut",-1)),(p(!0),h(Q,null,te(r.statutsSequence,n=>(p(),h("option",{key:n.id,value:n.id},v(n.nomStatutsSequence),9,gw))),128))],512),[[he,r.formData.statutId]])]),i("div",vw,[i("button",{type:"submit",class:"submit-btn",disabled:r.loading||r.ordreError!==""},v(r.loading?"Cration en cours...":"Crer la squence"),9,yw),i("button",{type:"button",onClick:t[7]||(t[7]=(...n)=>l.goBack&&l.goBack(...n)),class:"cancel-btn"}," Annuler ")])],32)])])])}const Sw=Ke(sw,[["render",bw],["__scopeId","data-v-784580f7"]]);const Ew={name:"AddDialogueScene",data(){return{user:JSON.parse(localStorage.getItem("user"))||null,showProfileMenu:!1,formData:{sceneId:"",personnageId:null,texte:"",ordre:1,observation:""},sceneTitle:"",scene:{},isEditing:!1,editingId:null,scenes:[],personnages:[],searchTerm:"",filterSceneId:"",filterPersonnageId:"",loading:!0,dialogues:[],newDialogueId:null,existingOrders:[],suggestedOrder:null,orderError:"",originalOrder:null,projetId:null}},computed:{userInitials(){var t;return(t=this.user)!=null&&t.nom?this.user.nom.split(" ").map(s=>s[0]).join("").toUpperCase():""},filteredDialogues(){return this.dialogues.filter(e=>{const t=e.texte.toLowerCase().includes(this.searchTerm.toLowerCase()),s=!this.filterSceneId||e.sceneId===parseInt(this.filterSceneId),o=!this.filterPersonnageId||this.filterPersonnageId==="null"&&!e.personnageId||e.personnageId===parseInt(this.filterPersonnageId);return t&&s&&o})},sceneId(){return this.$route.params.sceneId}},watch:{"formData.sceneId":function(e){e?this.loadExistingOrders():(this.existingOrders=[],this.suggestedOrder=null,this.orderError="")}},async created(){C.interceptors.request.use(e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e)),await Promise.all([this.loadPersonnages(),this.loadDialogues()]),this.loading=!1,document.addEventListener("click",this.handleClickOutside),this.sceneId&&(await this.loadSceneDetails(),this.formData.sceneId=this.sceneId,this.loadExistingOrders())},beforeDestroy(){document.removeEventListener("click",this.handleClickOutside)},methods:{async loadSceneDetails(){try{const e=JSON.parse(localStorage.getItem("user")),t=e&&e.id?{"X-User-Id":e.id}:{},s=await C.get(`/api/scenes/${this.sceneId}`,{headers:t});if(this.scene=s.data,this.sceneTitle=this.scene.titre,this.scene.projetId)this.projetId=this.scene.projetId;else if(this.scene.sequenceId)try{const o=await C.get(`/api/sequences/${this.scene.sequenceId}`,{headers:t});if(o.data.episodeId){const r=await C.get(`/api/episodes/${o.data.episodeId}`,{headers:t});this.projetId=r.data.projetId}}catch(o){console.error("Erreur lors de la rcupration du projet:",o)}}catch(e){console.error("Erreur lors du chargement des dtails de la scne:",e),this.sceneTitle="Scne inconnue"}},async loadPersonnages(){try{const e=JSON.parse(localStorage.getItem("user")),t=e&&e.id?{"X-User-Id":e.id}:{},s=await C.get("/api/personnages",{headers:t});this.personnages=s.data}catch(e){console.error("Erreur lors du chargement des personnages:",e)}},async loadDialogues(){try{const e=JSON.parse(localStorage.getItem("user")),t=e&&e.id?{"X-User-Id":e.id}:{},s=await C.get("/api/dialogues",{headers:t});this.dialogues=s.data}catch(e){console.error("Erreur lors du chargement des dialogues:",e)}},async loadPersonnages(){try{const e=JSON.parse(localStorage.getItem("user")),t=e&&e.id?{"X-User-Id":e.id}:{},s=await C.get("/api/personnages",{headers:t});this.personnages=s.data}catch(e){console.error("Erreur lors du chargement des personnages:",e)}},async loadDialogues(){try{const e=JSON.parse(localStorage.getItem("user")),t=e&&e.id?{"X-User-Id":e.id}:{},s=await C.get("/api/dialogues",{headers:t});this.dialogues=s.data}catch(e){console.error("Erreur lors du chargement des dialogues:",e)}},async loadExistingOrders(){if(this.formData.sceneId)try{const e=JSON.parse(localStorage.getItem("user")),t=e&&e.id?{"X-User-Id":e.id}:{},s=await C.get(`/api/dialogues/scene/${this.formData.sceneId}`,{headers:t});this.existingOrders=s.data.map(o=>o.ordre),this.calculateSuggestedOrder()}catch(e){console.error("Erreur lors du chargement des ordres existants:",e)}},calculateSuggestedOrder(){if(this.existingOrders.length===0)this.suggestedOrder=1;else{const e=Math.max(...this.existingOrders);this.suggestedOrder=e+1}this.isEditing||(this.formData.ordre=this.suggestedOrder)},validateOrder(){if(!this.formData.ordre){this.orderError="L'ordre est requis";return}if(this.formData.ordre<1){this.orderError="L'ordre doit tre un nombre positif";return}if(this.existingOrders.includes(this.formData.ordre)&&(!this.isEditing||this.formData.ordre!==this.originalOrder)){this.orderError=`L'ordre ${this.formData.ordre} existe dj dans cette scne`;return}this.orderError=""},useSuggestedOrder(){this.formData.ordre=this.suggestedOrder,this.validateOrder()},async submitForm(){var e,t,s,o,r;if(this.validateOrder(),this.orderError){alert("Veuillez corriger les erreurs avant de soumettre");return}try{const l=JSON.parse(localStorage.getItem("user"));if(!l||!l.id)throw new Error("Utilisateur non connect");if(!this.formData.sceneId){alert("Erreur: ID de scne manquant");return}const n={sceneId:parseInt(this.formData.sceneId),personnageId:this.formData.personnageId?parseInt(this.formData.personnageId):null,texte:this.formData.texte,ordre:parseInt(this.formData.ordre),observation:this.formData.observation||""};console.log("Payload envoy:",n);let a;this.isEditing?(a=await C.put(`/api/dialogues/${this.editingId}`,n,{headers:{"X-User-Id":l.id}}),alert("Dialogue modifi avec succs!")):(a=await C.post("/api/dialogues",n,{headers:{"X-User-Id":l.id}}),this.newDialogueId=a.data.id,alert("Dialogue ajout avec succs!"),this.projetId?this.$router.push({path:`/projet/${this.projetId}/ecran-travail`,query:{episodeId:((e=this.scene.episode)==null?void 0:e.idEpisode)||(this.scene.sequence?this.scene.sequence.episodeId:null),sequenceId:((t=this.scene.sequence)==null?void 0:t.idSequence)||this.scene.sequenceId}}):this.$router.push("/scenariste")),this.resetForm()}catch(l){console.error("Erreur lors de la soumission du dialogue:",l),console.error("Dtails de l'erreur:",(s=l.response)==null?void 0:s.data),alert("Erreur: "+(((r=(o=l.response)==null?void 0:o.data)==null?void 0:r.message)||l.message||"Erreur inconnue"))}},resetForm(){this.formData={sceneId:this.sceneId||"",personnageId:null,texte:"",ordre:1,observation:""},this.isEditing=!1,this.editingId=null,this.originalOrder=null,this.existingOrders=[],this.suggestedOrder=null,this.orderError="",this.sceneId&&this.loadExistingOrders()},formatDate(e){return e?new Date(e).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):""},goBack(){var e;this.newDialogueId&&!this.isEditing&&this.projetId?this.$router.push({path:`/projet/${this.projetId}/ecran-travail`,query:{sequenceId:((e=this.scene.sequence)==null?void 0:e.idSequence)||this.scene.sequenceId}}):this.$router.go(-1)},toggleProfileMenu(){this.showProfileMenu=!this.showProfileMenu},handleClickOutside(e){e.target.closest(".profile-section")||(this.showProfileMenu=!1)},seDeconnecter(){localStorage.removeItem("user"),localStorage.removeItem("token"),this.$router.push("/")}}},_w={class:"creation-dialogue-container"},ww={class:"main-content"},Iw={class:"page-header"},Cw={class:"creation-form"},xw={class:"form-group"},jw=["value"],kw={class:"form-group"},Pw=["value"],Ow={class:"form-group"},qw={class:"form-group"},Dw={key:0,class:"suggestion-text"},Tw={key:1,class:"error-text"},Rw={class:"form-group"},Aw={type:"submit",class:"submit-btn"};function Lw(e,t,s,o,r,l){return p(),h("div",_w,[i("main",ww,[i("div",Iw,[i("button",{onClick:t[0]||(t[0]=(...n)=>l.goBack&&l.goBack(...n)),class:"back-btn"}," Retour"),t[10]||(t[10]=i("h2",null,"Gestion des Dialogues",-1))]),i("div",Cw,[i("h3",null,v(r.isEditing?"Modifier":"Ajouter")+" un dialogue",1),i("form",{onSubmit:t[9]||(t[9]=Fe((...n)=>l.submitForm&&l.submitForm(...n),["prevent"]))},[i("div",xw,[t[11]||(t[11]=i("label",null,"Scne",-1)),i("input",{value:r.sceneTitle,type:"text",disabled:"",placeholder:"Nom de la scne"},null,8,jw),T(i("input",{type:"hidden","onUpdate:modelValue":t[1]||(t[1]=n=>r.formData.sceneId=n)},null,512),[[Z,r.formData.sceneId]])]),i("div",kw,[t[13]||(t[13]=i("label",null,"Personnage",-1)),T(i("select",{"onUpdate:modelValue":t[2]||(t[2]=n=>r.formData.personnageId=n)},[t[12]||(t[12]=i("option",{value:null},"Narration (sans personnage)",-1)),(p(!0),h(Q,null,te(r.personnages,n=>(p(),h("option",{key:n.id,value:n.id},v(n.nom)+" ("+v(n.projetTitre)+") ",9,Pw))),128))],512),[[he,r.formData.personnageId]])]),i("div",Ow,[t[14]||(t[14]=i("label",null,"Texte *",-1)),T(i("textarea",{"onUpdate:modelValue":t[3]||(t[3]=n=>r.formData.texte=n),required:"",rows:"4",placeholder:"Entrez le texte du dialogue..."},null,512),[[Z,r.formData.texte]])]),i("div",qw,[t[15]||(t[15]=i("label",null,"Ordre *",-1)),T(i("input",{"onUpdate:modelValue":t[4]||(t[4]=n=>r.formData.ordre=n),type:"number",min:"1",required:"",onBlur:t[5]||(t[5]=(...n)=>l.validateOrder&&l.validateOrder(...n)),class:ut({"error-input":r.orderError})},null,34),[[Z,r.formData.ordre]]),r.suggestedOrder?(p(),h("div",Dw,[D(" Suggestion: Le prochain ordre disponible est "+v(r.suggestedOrder)+" ",1),i("button",{type:"button",onClick:t[6]||(t[6]=(...n)=>l.useSuggestedOrder&&l.useSuggestedOrder(...n)),class:"suggestion-btn"}," Utiliser cette valeur ")])):I("",!0),r.orderError?(p(),h("div",Tw,v(r.orderError),1)):I("",!0)]),i("div",Rw,[t[16]||(t[16]=i("label",null,"Observation",-1)),T(i("textarea",{"onUpdate:modelValue":t[7]||(t[7]=n=>r.formData.observation=n),rows:"3",placeholder:"Notes ou observations..."},null,512),[[Z,r.formData.observation]])]),i("button",Aw,v(r.isEditing?"Modifier":"Ajouter")+" le dialogue",1),r.isEditing?(p(),h("button",{key:0,type:"button",onClick:t[8]||(t[8]=(...n)=>l.resetForm&&l.resetForm(...n)),class:"cancel-btn"},"Annuler")):I("",!0)],32)])])])}const $w=Ke(Ew,[["render",Lw],["__scopeId","data-v-f10a5645"]]),Mw=()=>`${window.location.origin}/gestion_projet_cinema`,su=Mw();const Uw={name:"CreationLieu",data(){return{user:JSON.parse(localStorage.getItem("user"))||null,showProfileMenu:!1,formData:{projetId:"",nomLieu:"",typeLieu:"",adresse:""},isEditing:!1,editingId:null,projets:[],lieux:[],searchTerm:"",filterProjetId:"",filterTypeLieu:"",loading:!0,showScenesModal:!1,selectedLieu:{},selectedLieuScenes:[],projetSearch:"",showProjetSuggestions:!1,filteredProjets:[]}},computed:{userInitials(){var t;return(t=this.user)!=null&&t.nom?this.user.nom.split(" ").map(s=>s[0]).join("").toUpperCase():""},filteredLieux(){return this.lieux.filter(e=>{const t=e.nomLieu.toLowerCase().includes(this.searchTerm.toLowerCase()),s=!this.filterProjetId||e.projetId===parseInt(this.filterProjetId),o=!this.filterTypeLieu||e.typeLieu===this.filterTypeLieu;return t&&s&&o})}},async created(){C.defaults.baseURL=su,C.interceptors.request.use(e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e)),await this.loadProjets(),await this.loadLieux(),document.addEventListener("click",this.handleClickOutside)},beforeDestroy(){document.removeEventListener("click",this.handleClickOutside)},watch:{projets:{handler(e){this.filteredProjets=[...e]},deep:!0}},mounted(){const e=this.$route.params.projetId||this.$route.params.id||this.$route.query.projetId;e?(this.formData.projetId=e,this.fetchProjetDetails(e)):console.warn("ID du projet non spcifi ; utilisation de la recherche manuelle."),this.loadProjets(),this.loadLieux()},methods:{async fetchProjetDetails(e){try{const s=(await C.get(`/api/projets/${e}`)).data;this.projetSearch=`${s.titre} (${s.genreNom||"Inconnu"})`,this.selectedProjet=s}catch(t){console.error("Erreur lors du chargement du projet:",t)}},selectProjet(e){this.formData.projetId||(this.formData.projetId=e.id,this.projetSearch=`${e.titre} (${e.genreNom})`,this.showProjetSuggestions=!1)},async loadProjets(){try{const e=await C.get("/api/projets");this.projets=e.data,this.filteredProjets=[...this.projets]}catch(e){console.error("Erreur lors du chargement des projets:",e),alert("Erreur lors du chargement des projets")}},async loadLieux(){var e,t;this.loading=!0;try{const s=await C.get("/api/lieux");this.lieux=s.data;for(let o of this.lieux)try{const r=await C.get(`/api/scene-lieux/lieux/${o.id}`);o.sceneCount=r.data.length,r.data.length>0&&(o.scenes=r.data.slice(0,3))}catch(r){console.error("Erreur lors du chargement des scnes du lieu:",r),o.sceneCount=0,o.scenes=[]}}catch(s){console.error("Erreur lors du chargement des lieux:",s),alert("Erreur lors du chargement des lieux: "+(((t=(e=s.response)==null?void 0:e.data)==null?void 0:t.message)||s.message))}finally{this.loading=!1}},async submitForm(){var e,t;try{const s={...this.formData,projetId:parseInt(this.formData.projetId)};this.isEditing?(await C.put(`/api/lieux/${this.editingId}`,s),alert("Lieu modifi avec succs!")):(await C.post("/api/lieux",s),alert("Lieu cr avec succs!")),this.resetForm(),await this.loadLieux()}catch(s){console.error("Erreur lors de la sauvegarde du lieu:",s),alert("Erreur: "+(((t=(e=s.response)==null?void 0:e.data)==null?void 0:t.message)||s.message))}},editLieu(e){this.formData={projetId:e.projetId.toString(),nomLieu:e.nomLieu,typeLieu:e.typeLieu,adresse:e.adresse||""},this.projetSearch=this.getProjetName(e.projetId),this.isEditing=!0,this.editingId=e.id,document.querySelector(".creation-form").scrollIntoView({behavior:"smooth"})},async deleteLieu(e){var t,s;if(confirm("tes-vous sr de vouloir supprimer ce lieu ?"))try{await C.delete(`/api/lieux/${e}`),await this.loadLieux(),alert("Lieu supprim avec succs!")}catch(o){console.error("Erreur lors de la suppression du lieu:",o),alert("Erreur: "+(((s=(t=o.response)==null?void 0:t.data)==null?void 0:s.message)||o.message))}},resetForm(){this.formData={projetId:"",nomLieu:"",typeLieu:"",adresse:""},this.projetSearch="",this.isEditing=!1,this.editingId=null,this.filteredProjets=[...this.projets]},formatDate(e){return e?new Date(e).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):""},async viewLieuScenes(e){this.selectedLieu=e;try{const t=await C.get(`/api/scene-lieux/lieux/${e.id}`);this.selectedLieuScenes=t.data,this.showScenesModal=!0}catch(t){console.error("Erreur lors du chargement des scnes du lieu:",t),alert("Erreur lors du chargement des scnes")}},goBack(){this.$router.go(-1)},toggleProfileMenu(){this.showProfileMenu=!this.showProfileMenu},handleClickOutside(e){e.target.closest(".profile-section")||(this.showProfileMenu=!1)},seDeconnecter(){localStorage.removeItem("user"),localStorage.removeItem("token"),this.$router.push("/")},async loadScenesForProject(){},filterProjets(){const e=this.projetSearch.toLowerCase();if(!e){this.filteredProjets=[...this.projets];return}this.filteredProjets=this.projets.filter(t=>t.titre.toLowerCase().includes(e)||t.genreNom&&t.genreNom.toLowerCase().includes(e))},selectProjet(e){this.formData.projetId=e.id.toString(),this.projetSearch=`${e.titre} (${e.genreNom})`,this.showProjetSuggestions=!1},hideProjetSuggestions(){setTimeout(()=>{this.showProjetSuggestions=!1},200)},getProjetName(e){const t=this.projets.find(s=>s.id===parseInt(e));return t?`${t.titre} (${t.genreNom})`:""}}},Nw={class:"creation-lieu-container"},Fw={class:"main-content"},Vw={class:"page-header"},Bw={class:"creation-form"},Hw={class:"form-group"},zw={class:"combobox-container"},Gw=["disabled","placeholder"],Kw={key:0,class:"suggestions-list"},Ww=["onMousedown"],Jw={key:1,class:"suggestions-list"},Xw={key:0,class:"error-message"},Yw={class:"form-group"},Qw={class:"form-group"},Zw={class:"form-group"},e0={type:"submit",class:"submit-btn"},t0={class:"lieux-list"},s0={class:"filters"},r0={class:"filter-group"},o0={class:"filter-group"},n0=["value"],i0={class:"filter-group"},l0={key:0,class:"loading"},a0={key:1,class:"no-data"},u0={key:2,class:"lieux-grid"},d0={class:"lieu-header"},c0={class:"lieu-actions"},f0=["onClick"],p0=["onClick"],h0=["onClick"],m0={class:"lieu-info"},g0={key:0},v0={key:0,class:"scenes-section"},y0={class:"modal-header"},b0={class:"scenes-list"},S0={key:0,class:"no-scenes"},E0={key:1},_0={class:"modal-actions"};function w0(e,t,s,o,r,l){return p(),h("div",Nw,[i("main",Fw,[i("div",Vw,[i("button",{onClick:t[0]||(t[0]=(...n)=>l.goBack&&l.goBack(...n)),class:"back-btn"}," Retour"),t[17]||(t[17]=i("h2",null,"Gestion des Lieux",-1))]),i("div",Bw,[i("h3",null,v(r.isEditing?"Modifier":"Ajouter")+" un lieu",1),i("form",{onSubmit:t[9]||(t[9]=Fe((...n)=>l.submitForm&&l.submitForm(...n),["prevent"]))},[i("div",Hw,[t[19]||(t[19]=i("label",null,"Projet *",-1)),i("div",zw,[T(i("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=n=>r.projetSearch=n),disabled:!!r.formData.projetId,onFocus:t[2]||(t[2]=n=>r.showProjetSuggestions=!r.formData.projetId),onBlur:t[3]||(t[3]=(...n)=>l.hideProjetSuggestions&&l.hideProjetSuggestions(...n)),onInput:t[4]||(t[4]=(...n)=>l.filterProjets&&l.filterProjets(...n)),placeholder:r.formData.projetId?l.getProjetName(r.formData.projetId):"Rechercher un projet...",required:"",class:"combobox-input"},null,40,Gw),[[Z,r.projetSearch]]),!r.formData.projetId&&r.showProjetSuggestions&&r.filteredProjets.length?(p(),h("ul",Kw,[(p(!0),h(Q,null,te(r.filteredProjets,n=>(p(),h("li",{key:n.id,onMousedown:a=>l.selectProjet(n),class:"suggestion-item"},v(n.titre)+" ("+v(n.genreNom)+") ",41,Ww))),128))])):I("",!0),r.showProjetSuggestions&&r.filteredProjets.length===0?(p(),h("ul",Jw,[...t[18]||(t[18]=[i("li",{class:"suggestion-item no-results"},"Aucun projet trouv",-1)])])):I("",!0)]),e.errorMessage?(p(),h("div",Xw,v(e.errorMessage),1)):I("",!0)]),i("div",Yw,[t[20]||(t[20]=i("label",null,"Nom du lieu *",-1)),T(i("input",{"onUpdate:modelValue":t[5]||(t[5]=n=>r.formData.nomLieu=n),type:"text",required:"",placeholder:"Ex: Appartement principal, Rue de Paris..."},null,512),[[Z,r.formData.nomLieu]])]),i("div",Qw,[t[22]||(t[22]=i("label",null,"Type de lieu *",-1)),T(i("select",{"onUpdate:modelValue":t[6]||(t[6]=n=>r.formData.typeLieu=n),required:""},[...t[21]||(t[21]=[ns('<option value="" data-v-2178a132>Slectionnez un type</option><option value="Intrieur" data-v-2178a132>Intrieur</option><option value="Extrieur" data-v-2178a132>Extrieur</option><option value="Intrieur/Extrieur" data-v-2178a132>Intrieur/Extrieur</option><option value="Studio" data-v-2178a132>Studio</option><option value="Naturel" data-v-2178a132>Naturel</option><option value="Urbain" data-v-2178a132>Urbain</option>',7)])],512),[[he,r.formData.typeLieu]])]),i("div",Zw,[t[23]||(t[23]=i("label",null,"Adresse",-1)),T(i("textarea",{"onUpdate:modelValue":t[7]||(t[7]=n=>r.formData.adresse=n),rows:"3",placeholder:"Adresse complte du lieu..."},null,512),[[Z,r.formData.adresse]])]),i("button",e0,v(r.isEditing?"Modifier":"Ajouter")+" le lieu",1),r.isEditing?(p(),h("button",{key:0,type:"button",onClick:t[8]||(t[8]=(...n)=>l.resetForm&&l.resetForm(...n)),class:"cancel-btn"},"Annuler")):I("",!0)],32)]),i("div",t0,[t[32]||(t[32]=i("h3",null,"Liste des lieux",-1)),i("div",s0,[i("div",r0,[T(i("input",{"onUpdate:modelValue":t[10]||(t[10]=n=>r.searchTerm=n),type:"text",placeholder:"Rechercher par nom..."},null,512),[[Z,r.searchTerm]])]),i("div",o0,[T(i("select",{"onUpdate:modelValue":t[11]||(t[11]=n=>r.filterProjetId=n)},[t[24]||(t[24]=i("option",{value:""},"Tous les projets",-1)),(p(!0),h(Q,null,te(r.projets,n=>(p(),h("option",{key:n.id,value:n.id},v(n.titre),9,n0))),128))],512),[[he,r.filterProjetId]])]),i("div",i0,[T(i("select",{"onUpdate:modelValue":t[12]||(t[12]=n=>r.filterTypeLieu=n)},[...t[25]||(t[25]=[ns('<option value="" data-v-2178a132>Tous les types</option><option value="Intrieur" data-v-2178a132>Intrieur</option><option value="Extrieur" data-v-2178a132>Extrieur</option><option value="Intrieur/Extrieur" data-v-2178a132>Intrieur/Extrieur</option><option value="Studio" data-v-2178a132>Studio</option><option value="Naturel" data-v-2178a132>Naturel</option><option value="Urbain" data-v-2178a132>Urbain</option>',7)])],512),[[he,r.filterTypeLieu]])])]),r.loading?(p(),h("div",l0,"Chargement des lieux...")):l.filteredLieux.length===0?(p(),h("div",a0," Aucun lieu trouv. ")):(p(),h("div",u0,[(p(!0),h(Q,null,te(l.filteredLieux,n=>(p(),h("div",{key:n.id,class:"lieu-card"},[i("div",d0,[i("h4",null,v(n.nomLieu),1),i("div",c0,[i("span",{class:"icon-edit",onClick:a=>l.editLieu(n)},"",8,f0),i("span",{class:"icon-delete",onClick:a=>l.deleteLieu(n.id)},"",8,p0),i("span",{class:"icon-scenes",onClick:a=>l.viewLieuScenes(n),title:"Voir les scnes utilisant ce lieu"},"  ",8,h0)])]),i("div",m0,[i("p",null,[t[26]||(t[26]=i("strong",null,"Projet:",-1)),D(" "+v(n.projetTitre),1)]),i("p",null,[t[27]||(t[27]=i("strong",null,"Type:",-1)),D(" "+v(n.typeLieu),1)]),n.adresse?(p(),h("p",g0,[t[28]||(t[28]=i("strong",null,"Adresse:",-1)),D(" "+v(n.adresse),1)])):I("",!0),i("p",null,[t[29]||(t[29]=i("strong",null,"Cr le:",-1)),D(" "+v(l.formatDate(n.creeLe)),1)]),i("p",null,[t[30]||(t[30]=i("strong",null,"Scnes associes:",-1)),D(" "+v(n.sceneCount||0),1)])]),n.scenes&&n.scenes.length?(p(),h("div",v0,[t[31]||(t[31]=i("h5",null,"Scnes utilisant ce lieu:",-1)),(p(!0),h(Q,null,te(n.scenes,a=>(p(),h("div",{key:a.id,class:"scene-item"},[i("span",null,v(a.titre)+" ("+v(a.descriptionUtilisation)+")",1)]))),128))])):I("",!0)]))),128))]))]),r.showScenesModal?(p(),h("div",{key:0,class:"modal-overlay",onClick:t[16]||(t[16]=n=>r.showScenesModal=!1)},[i("div",{class:"modal-content",onClick:t[15]||(t[15]=Fe(()=>{},["stop"]))},[i("div",y0,[i("h3",null,'Scnes utilisant "'+v(r.selectedLieu.nomLieu)+'"',1),i("button",{class:"modal-close",onClick:t[13]||(t[13]=n=>r.showScenesModal=!1)},"")]),i("div",b0,[r.selectedLieuScenes.length===0?(p(),h("div",S0," Aucune scne n'utilise ce lieu. ")):(p(),h("div",E0,[(p(!0),h(Q,null,te(r.selectedLieuScenes,n=>(p(),h("div",{key:n.id,class:"scene-detail"},[i("h4",null,v(n.sceneTitre),1),i("p",null,[t[33]||(t[33]=i("strong",null,"Squence:",-1)),D(" "+v(n.sequenceTitre),1)]),i("p",null,[t[34]||(t[34]=i("strong",null,"pisode:",-1)),D(" "+v(n.episodeTitre),1)]),i("p",null,[t[35]||(t[35]=i("strong",null,"Projet:",-1)),D(" "+v(n.projetTitre),1)]),i("p",null,[t[36]||(t[36]=i("strong",null,"Utilisation:",-1)),D(" "+v(n.descriptionUtilisation),1)])]))),128))]))]),i("div",_0,[i("button",{type:"button",onClick:t[14]||(t[14]=n=>r.showScenesModal=!1),class:"cancel-btn"},"Fermer")])])])):I("",!0)])])}const I0=Ke(Uw,[["render",w0],["__scopeId","data-v-2178a132"]]);const C0={name:"CreationPlateau",data(){return{user:JSON.parse(localStorage.getItem("user"))||null,showProfileMenu:!1,formData:{projetId:"",lieuId:"",nom:"",typePlateau:"",description:""},isEditing:!1,editingId:null,lieux:[],plateaux:[],searchTerm:"",filterLieuId:"",filterTypePlateau:"",loading:!0,lieuSearch:"",showLieuSuggestions:!1,filteredLieux:[]}},computed:{userInitials(){var t;return(t=this.user)!=null&&t.nom?this.user.nom.split(" ").map(s=>s[0]).join("").toUpperCase():""},filteredPlateaux(){return this.plateaux.filter(e=>{const t=e.nom.toLowerCase().includes(this.searchTerm.toLowerCase()),s=!this.filterLieuId||e.lieuId===parseInt(this.filterLieuId),o=!this.filterTypePlateau||e.typePlateau===this.filterTypePlateau;return t&&s&&o})},lieuxFiltrees(){return this.formData.projetId?this.lieux.filter(e=>e.projetId===parseInt(this.formData.projetId)):this.lieux}},async created(){C.defaults.baseURL=su,C.interceptors.request.use(e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e)),await this.loadLieux(),await this.loadPlateaux(),document.addEventListener("click",this.handleClickOutside)},beforeDestroy(){document.removeEventListener("click",this.handleClickOutside)},watch:{lieux:{handler(e){this.filteredLieux=[...e]},deep:!0},"formData.lieuId":{handler(e){e&&(this.lieuSearch=this.getLieuName(e))}}},mounted(){const e=this.$route.params.projetId||this.$route.params.id||this.$route.query.projetId;e?(this.formData.projetId=e,this.fetchProjetDetails(e)):console.warn("ID du projet non spcifi ; utilisation de la recherche manuelle.")},methods:{async fetchProjetDetails(e){try{const s=(await C.get(`/api/projets/${e}`)).data;this.lieuSearch="",this.formData.lieuId="",this.filteredLieux=this.lieux.filter(o=>o.projetId===parseInt(e))}catch(t){console.error("Erreur lors du chargement du projet:",t)}},async loadLieux(){try{const e=await C.get("/api/lieux");this.lieux=e.data,this.filteredLieux=this.formData.projetId?this.lieux.filter(t=>t.projetId===parseInt(this.formData.projetId)):[...this.lieux]}catch(e){console.error("Erreur lors du chargement des lieux:",e),alert("Erreur lors du chargement des lieux")}},async loadPlateaux(){var e,t;this.loading=!0;try{const s=await C.get("/api/plateaux");this.plateaux=s.data}catch(s){console.error("Erreur lors du chargement des plateaux:",s),alert("Erreur lors du chargement des plateaux: "+(((t=(e=s.response)==null?void 0:e.data)==null?void 0:t.message)||s.message))}finally{this.loading=!1}},async submitForm(){var e,t;try{const s={...this.formData,lieuId:parseInt(this.formData.lieuId),projetId:parseInt(this.formData.projetId)};this.isEditing?(await C.put(`/api/plateaux/${this.editingId}`,s),alert("Plateau modifi avec succs!")):(await C.post("/api/plateaux",s),alert("Plateau cr avec succs!")),this.resetForm(),await this.loadPlateaux()}catch(s){console.error("Erreur lors de la sauvegarde du plateau:",s),alert("Erreur: "+(((t=(e=s.response)==null?void 0:e.data)==null?void 0:t.message)||s.message))}},editPlateau(e){this.formData={projetId:e.projetId?e.projetId.toString():"",lieuId:e.lieuId.toString(),nom:e.nom,typePlateau:e.typePlateau,description:e.description||""},this.lieuSearch=this.getLieuName(e.lieuId),this.isEditing=!0,this.editingId=e.id,this.filteredLieux=this.lieux.filter(t=>t.projetId===parseInt(this.formData.projetId)),document.querySelector(".creation-form").scrollIntoView({behavior:"smooth"})},async deletePlateau(e){var t,s;if(confirm("tes-vous sr de vouloir supprimer ce plateau ?"))try{await C.delete(`/api/plateaux/${e}`),await this.loadPlateaux(),alert("Plateau supprim avec succs!")}catch(o){console.error("Erreur lors de la suppression du plateau:",o),alert("Erreur: "+(((s=(t=o.response)==null?void 0:t.data)==null?void 0:s.message)||o.message))}},resetForm(){this.formData={projetId:this.$route.params.projetId||this.$route.params.id||this.$route.query.projetId||"",lieuId:"",nom:"",typePlateau:"",description:""},this.lieuSearch="",this.isEditing=!1,this.editingId=null,this.filteredLieux=this.formData.projetId?this.lieux.filter(e=>e.projetId===parseInt(this.formData.projetId)):[...this.lieux]},formatDate(e){return e?new Date(e).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):""},onLieuChange(){this.lieuSearch=this.getLieuName(this.formData.lieuId)},goBack(){this.$router.go(-1)},toggleProfileMenu(){this.showProfileMenu=!this.showProfileMenu},handleClickOutside(e){e.target.closest(".profile-section")||(this.showProfileMenu=!1)},seDeconnecter(){localStorage.removeItem("user"),localStorage.removeItem("token"),this.$router.push("/")},filterLieux(){const e=this.lieuSearch.toLowerCase();if(!e){this.filteredLieux=this.formData.projetId?this.lieux.filter(t=>t.projetId===parseInt(this.formData.projetId)):[...this.lieux];return}this.filteredLieux=this.lieux.filter(t=>(t.nomLieu.toLowerCase().includes(e)||t.projetTitre.toLowerCase().includes(e))&&(!this.formData.projetId||t.projetId===parseInt(this.formData.projetId)))},selectLieu(e){this.formData.lieuId=e.id.toString(),this.lieuSearch=`${e.nomLieu} - ${e.projetTitre}`,this.showLieuSuggestions=!1},hideLieuSuggestions(){setTimeout(()=>{this.showLieuSuggestions=!1},200)},getLieuName(e){const t=this.lieux.find(s=>s.id===parseInt(e));return t?`${t.nomLieu} - ${t.projetTitre}`:""}}},x0={class:"creation-plateau-container"},j0={class:"main-content"},k0={class:"page-header"},P0={class:"creation-form"},O0={class:"form-group"},q0=["value"],D0={class:"form-group"},T0={class:"form-group"},R0={class:"form-group"},A0={type:"submit",class:"submit-btn"},L0={class:"plateaux-list"},$0={class:"filters"},M0={class:"filter-group"},U0={class:"filter-group"},N0=["value"],F0={class:"filter-group"},V0={key:0,class:"loading"},B0={key:1,class:"no-data"},H0={key:2,class:"plateaux-grid"},z0={class:"plateau-header"},G0={class:"plateau-actions"},K0=["onClick"],W0=["onClick"],J0={class:"plateau-info"},X0={key:0},Y0={key:1},Q0={key:2},Z0={key:3},eI={key:4};function tI(e,t,s,o,r,l){return p(),h("div",x0,[i("main",j0,[i("div",k0,[i("button",{onClick:t[0]||(t[0]=(...n)=>l.goBack&&l.goBack(...n)),class:"back-btn"}," Retour"),t[11]||(t[11]=i("h2",null,"Gestion des Plateaux",-1))]),i("div",P0,[i("h3",null,v(r.isEditing?"Modifier":"Ajouter")+" un plateau",1),i("form",{onSubmit:t[7]||(t[7]=Fe((...n)=>l.submitForm&&l.submitForm(...n),["prevent"]))},[t[18]||(t[18]=i("div",{class:"form-group"},null,-1)),i("div",O0,[t[13]||(t[13]=i("label",null,"Lieu (slection) *",-1)),T(i("select",{"onUpdate:modelValue":t[1]||(t[1]=n=>r.formData.lieuId=n),onChange:t[2]||(t[2]=(...n)=>l.onLieuChange&&l.onLieuChange(...n)),required:""},[t[12]||(t[12]=i("option",{value:""},"Slectionnez un lieu",-1)),(p(!0),h(Q,null,te(l.lieuxFiltrees,n=>(p(),h("option",{key:n.id,value:n.id},v(n.nomLieu)+" - "+v(n.projetTitre),9,q0))),128))],544),[[he,r.formData.lieuId]])]),i("div",D0,[t[14]||(t[14]=i("label",null,"Nom du plateau *",-1)),T(i("input",{"onUpdate:modelValue":t[3]||(t[3]=n=>r.formData.nom=n),type:"text",required:"",placeholder:"Ex: Plateau principal, Plateau extrieur..."},null,512),[[Z,r.formData.nom]])]),i("div",T0,[t[16]||(t[16]=i("label",null,"Type de plateau *",-1)),T(i("select",{"onUpdate:modelValue":t[4]||(t[4]=n=>r.formData.typePlateau=n),required:""},[...t[15]||(t[15]=[ns('<option value="" data-v-01ba9ed4>Slectionnez un type</option><option value="Intrieur" data-v-01ba9ed4>Intrieur</option><option value="Extrieur" data-v-01ba9ed4>Extrieur</option><option value="Studio" data-v-01ba9ed4>Studio</option><option value="Naturel" data-v-01ba9ed4>Naturel</option><option value="Dcor" data-v-01ba9ed4>Dcor</option><option value="Virtuel" data-v-01ba9ed4>Virtuel</option>',7)])],512),[[he,r.formData.typePlateau]])]),i("div",R0,[t[17]||(t[17]=i("label",null,"Description",-1)),T(i("textarea",{"onUpdate:modelValue":t[5]||(t[5]=n=>r.formData.description=n),rows:"3",placeholder:"Description du plateau..."},null,512),[[Z,r.formData.description]])]),i("button",A0,v(r.isEditing?"Modifier":"Ajouter")+" le plateau",1),r.isEditing?(p(),h("button",{key:0,type:"button",onClick:t[6]||(t[6]=(...n)=>l.resetForm&&l.resetForm(...n)),class:"cancel-btn"},"Annuler")):I("",!0)],32)]),i("div",L0,[t[29]||(t[29]=i("h3",null,"Liste des plateaux",-1)),i("div",$0,[i("div",M0,[T(i("input",{"onUpdate:modelValue":t[8]||(t[8]=n=>r.searchTerm=n),type:"text",placeholder:"Rechercher par nom..."},null,512),[[Z,r.searchTerm]])]),i("div",U0,[T(i("select",{"onUpdate:modelValue":t[9]||(t[9]=n=>r.filterLieuId=n)},[t[19]||(t[19]=i("option",{value:""},"Tous les lieux",-1)),(p(!0),h(Q,null,te(r.lieux,n=>(p(),h("option",{key:n.id,value:n.id},v(n.nomLieu),9,N0))),128))],512),[[he,r.filterLieuId]])]),i("div",F0,[T(i("select",{"onUpdate:modelValue":t[10]||(t[10]=n=>r.filterTypePlateau=n)},[...t[20]||(t[20]=[ns('<option value="" data-v-01ba9ed4>Tous les types</option><option value="Intrieur" data-v-01ba9ed4>Intrieur</option><option value="Extrieur" data-v-01ba9ed4>Extrieur</option><option value="Studio" data-v-01ba9ed4>Studio</option><option value="Naturel" data-v-01ba9ed4>Naturel</option><option value="Dcor" data-v-01ba9ed4>Dcor</option><option value="Virtuel" data-v-01ba9ed4>Virtuel</option>',7)])],512),[[he,r.filterTypePlateau]])])]),r.loading?(p(),h("div",V0,"Chargement des plateaux...")):l.filteredPlateaux.length===0?(p(),h("div",B0," Aucun plateau trouv. ")):(p(),h("div",H0,[(p(!0),h(Q,null,te(l.filteredPlateaux,n=>(p(),h("div",{key:n.id,class:"plateau-card"},[i("div",z0,[i("h4",null,v(n.nom),1),i("div",G0,[i("span",{class:"icon-edit",onClick:a=>l.editPlateau(n)},"",8,K0),i("span",{class:"icon-delete",onClick:a=>l.deletePlateau(n.id)},"",8,W0)])]),i("div",J0,[i("p",null,[t[21]||(t[21]=i("strong",null,"Type:",-1)),D(" "+v(n.typePlateau),1)]),i("p",null,[t[22]||(t[22]=i("strong",null,"Lieu:",-1)),D(" "+v(n.lieuNom),1)]),n.sceneTitre?(p(),h("p",X0,[t[23]||(t[23]=i("strong",null,"Scne:",-1)),D(" "+v(n.sceneTitre),1)])):I("",!0),n.sequenceTitre?(p(),h("p",Y0,[t[24]||(t[24]=i("strong",null,"Squence:",-1)),D(" "+v(n.sequenceTitre),1)])):I("",!0),n.episodeTitre?(p(),h("p",Q0,[t[25]||(t[25]=i("strong",null,"pisode:",-1)),D(" "+v(n.episodeTitre),1)])):I("",!0),n.projetTitre?(p(),h("p",Z0,[t[26]||(t[26]=i("strong",null,"Projet:",-1)),D(" "+v(n.projetTitre),1)])):I("",!0),n.description?(p(),h("p",eI,[t[27]||(t[27]=i("strong",null,"Description:",-1)),D(" "+v(n.description),1)])):I("",!0),i("p",null,[t[28]||(t[28]=i("strong",null,"Cr le:",-1)),D(" "+v(l.formatDate(n.creeLe)),1)])])]))),128))]))])])])}const sI=Ke(C0,[["render",tI],["__scopeId","data-v-01ba9ed4"]]);const rI={name:"AddEpisodeView",data(){return{showProfileMenu:!1,user:null,projetTitre:"",statutsEpisode:[],existingOrders:[],realisateurs:[],scenaristes:[],form:{titre:"",ordre:"",projetId:this.$route.params.id||this.$route.params.projetId||"",statutId:"",synopsis:"",realisateurId:"",scenaristeId:""},loading:!1,errorMessage:"",ordreError:"",suggestedOrdre:null,newEpisodeId:null}},computed:{userInitials(){var e;return(e=this.user)!=null&&e.nom?this.user.nom.split(" ").map(t=>t.charAt(0)).join("").toUpperCase().substring(0,2):"?"}},mounted(){this.loadUser(),this.fetchProjetDetails(),this.fetchStatutsEpisode(),this.fetchExistingEpisodes(),this.fetchRealisateurs(),this.fetchScenaristes(),document.addEventListener("click",this.handleClickOutside)},beforeUnmount(){document.removeEventListener("click",this.handleClickOutside)},methods:{loadUser(){const e=localStorage.getItem("user");e?this.user=JSON.parse(e):this.$router.push("/")},async fetchProjetDetails(){try{const e=this.$route.params.id||this.$route.params.projetId||this.$route.query.projetId;if(!e){this.errorMessage="ID du projet non spcifi";return}const t=await C.get(`/api/projets/${e}`);this.projetTitre=t.data.titre,this.form.projetId=e}catch(e){console.error("Erreur lors du chargement du projet:",e),this.errorMessage="Erreur lors du chargement des dtails du projet. Veuillez ressayer."}},async fetchStatutsEpisode(){try{const e=await C.get("/api/statuts-episode");this.statutsEpisode=e.data}catch(e){console.error("Erreur lors du chargement des statuts d'pisode:",e),this.errorMessage="Erreur lors du chargement des statuts"}},async fetchRealisateurs(){try{const e=await C.get("/api/realisateurs");this.realisateurs=e.data}catch(e){console.error("Erreur lors du chargement des ralisateurs:",e)}},async fetchScenaristes(){try{const e=await C.get("/api/scenaristes");this.scenaristes=e.data}catch(e){console.error("Erreur lors du chargement des scnaristes:",e)}},async fetchExistingEpisodes(){try{const e=this.$route.params.id||this.$route.params.projetId||this.$route.query.projetId;if(!e)return;const t=await C.get(`/api/episodes/projet/${e}`);this.existingOrders=t.data.map(s=>s.ordre),this.calculateSuggestedOrdre()}catch(e){console.error("Erreur lors du chargement des pisodes existants:",e)}},calculateSuggestedOrdre(){if(this.existingOrders.length===0){this.suggestedOrdre=1,this.form.ordre=1;return}const e=Math.max(...this.existingOrders);this.suggestedOrdre=e+1,this.form.ordre=this.suggestedOrdre},validateOrdre(){if(!this.form.ordre){this.ordreError="L'ordre est requis";return}const e=parseInt(this.form.ordre);if(e<1){this.ordreError="L'ordre doit tre au moins 1";return}if(this.existingOrders.includes(e)){this.ordreError=`L'ordre ${e} existe dj pour ce projet. Veuillez choisir un autre numro.`;return}this.ordreError=""},useSuggestedOrder(){this.form.ordre=this.suggestedOrdre,this.validateOrdre()},async submitForm(){var e,t,s,o,r,l;if(this.validateOrdre(),!this.ordreError){this.loading=!0,this.errorMessage="";try{const n=await C.post(`/api/episodes/projet/${this.form.projetId}`,this.form);n.status===201&&(this.newEpisodeId=n.data.idEpisode,this.$router.push({path:`/projet/${this.form.projetId}/ecran-travail`,query:{episodeId:this.newEpisodeId}}))}catch(n){console.error("Erreur lors de la cration de l'pisode:",n),((e=n.response)==null?void 0:e.status)===400&&((o=(s=(t=n.response)==null?void 0:t.data)==null?void 0:s.message)!=null&&o.includes("ordre"))?this.ordreError="Cet ordre existe dj pour ce projet. Veuillez choisir un autre numro.":this.errorMessage=((l=(r=n.response)==null?void 0:r.data)==null?void 0:l.message)||"Erreur lors de la cration de l'pisode"}finally{this.loading=!1}}},goBack(){this.newEpisodeId?this.$router.push({path:`/projet/${this.form.projetId}/ecran-travail`,query:{episodeId:this.newEpisodeId}}):this.$router.go(-1)},toggleProfileMenu(){this.showProfileMenu=!this.showProfileMenu},handleClickOutside(e){e.target.closest(".profile-section")||(this.showProfileMenu=!1)},seDeconnecter(){localStorage.removeItem("user"),localStorage.removeItem("token"),this.$router.push("/")}}},oI={class:"add-episode-container"},nI={class:"main-content"},iI={class:"form-header"},lI={class:"form-group"},aI={class:"form-group"},uI={key:0,class:"error-text"},dI={key:1,class:"suggestion-text"},cI={class:"form-group"},fI=["value"],pI={class:"form-group"},hI=["value"],mI={class:"form-group"},gI=["value"],vI={class:"form-group"},yI=["value"],bI={class:"form-group"},SI={key:0,class:"error-message"},EI={class:"form-actions"},_I=["disabled"];function wI(e,t,s,o,r,l){return p(),h("div",oI,[i("main",nI,[i("div",iI,[i("button",{onClick:t[0]||(t[0]=(...n)=>l.goBack&&l.goBack(...n)),class:"back-btn"},[...t[11]||(t[11]=[i("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[i("path",{d:"M19 12H5M12 19l-7-7 7-7"})],-1),D(" Retour ",-1)])]),t[12]||(t[12]=i("h2",null,"Crer votre pisode",-1))]),i("form",{onSubmit:t[10]||(t[10]=Fe((...n)=>l.submitForm&&l.submitForm(...n),["prevent"])),class:"episode-form"},[i("div",lI,[t[13]||(t[13]=i("label",{for:"titre"},"Titre de l'pisode",-1)),T(i("input",{type:"text",id:"titre","onUpdate:modelValue":t[1]||(t[1]=n=>r.form.titre=n),required:"",placeholder:"Entrez le titre",class:"form-input"},null,512),[[Z,r.form.titre]])]),i("div",aI,[t[14]||(t[14]=i("label",{for:"ordre"},"Ordre dans le projet",-1)),T(i("input",{type:"number",id:"ordre","onUpdate:modelValue":t[2]||(t[2]=n=>r.form.ordre=n),required:"",placeholder:"Entrez le nombre",min:"1",class:ut(["form-input",{"error-input":r.ordreError}]),onBlur:t[3]||(t[3]=(...n)=>l.validateOrdre&&l.validateOrdre(...n))},null,34),[[Z,r.form.ordre]]),r.ordreError?(p(),h("span",uI,v(r.ordreError),1)):I("",!0),r.suggestedOrdre?(p(),h("span",dI,[D(" Suggestion: Le prochain ordre disponible est "+v(r.suggestedOrdre)+" ",1),i("button",{type:"button",onClick:t[4]||(t[4]=(...n)=>l.useSuggestedOrder&&l.useSuggestedOrder(...n)),class:"suggestion-btn"}," Utiliser cette valeur ")])):I("",!0)]),i("div",cI,[t[16]||(t[16]=i("label",{for:"realisateur"},"Ralisateur *",-1)),T(i("select",{id:"realisateur","onUpdate:modelValue":t[5]||(t[5]=n=>r.form.realisateurId=n),required:"",class:"form-select"},[t[15]||(t[15]=i("option",{value:""},"Slectionner un ralisateur",-1)),(p(!0),h(Q,null,te(r.realisateurs,n=>(p(),h("option",{key:n.idRealisateur,value:n.idRealisateur},v(n.nom)+" - "+v(n.specialite),9,fI))),128))],512),[[he,r.form.realisateurId]])]),i("div",pI,[t[18]||(t[18]=i("label",{for:"scenariste"},"Scnariste *",-1)),T(i("select",{id:"scenariste","onUpdate:modelValue":t[6]||(t[6]=n=>r.form.scenaristeId=n),required:"",class:"form-select"},[t[17]||(t[17]=i("option",{value:""},"Slectionner un scnariste",-1)),(p(!0),h(Q,null,te(r.scenaristes,n=>(p(),h("option",{key:n.idScenariste,value:n.idScenariste},v(n.nom)+" - "+v(n.specialite),9,hI))),128))],512),[[he,r.form.scenaristeId]])]),i("div",mI,[t[19]||(t[19]=i("label",{for:"projet"},"Titre du projet",-1)),i("input",{id:"projet",value:r.projetTitre,type:"text",disabled:"",class:"form-input"},null,8,gI)]),i("div",vI,[t[21]||(t[21]=i("label",{for:"statut"},"Statut",-1)),T(i("select",{id:"statut","onUpdate:modelValue":t[7]||(t[7]=n=>r.form.statutId=n),required:"",class:"form-select"},[t[20]||(t[20]=i("option",{value:""},"Slectionner le statut",-1)),(p(!0),h(Q,null,te(r.statutsEpisode,n=>(p(),h("option",{key:n.idStatutEpisode,value:n.idStatutEpisode},v(n.nomStatutsEpisode),9,yI))),128))],512),[[he,r.form.statutId]])]),i("div",bI,[t[22]||(t[22]=i("label",{for:"synopsis"},"Synopsis",-1)),T(i("textarea",{id:"synopsis","onUpdate:modelValue":t[8]||(t[8]=n=>r.form.synopsis=n),rows:"6",placeholder:"Entrez le synopsis",class:"form-textarea"},null,512),[[Z,r.form.synopsis]])]),r.errorMessage?(p(),h("div",SI,v(r.errorMessage),1)):I("",!0),i("div",EI,[i("button",{type:"button",onClick:t[9]||(t[9]=(...n)=>l.goBack&&l.goBack(...n)),class:"cancel-btn"},"Annuler"),i("button",{type:"submit",class:"submit-btn",disabled:r.loading||r.ordreError!==""},v(r.loading?"Cration en cours...":"Crer"),9,_I)])],32)])])}const II=Ke(rI,[["render",wI]]);const CI={name:"CreationComedien",data(){return{projetId:null,projetTitre:"Chargement...",formData:{nom:"",age:null,email:"",photo:null,disponibilites:[]},comediens:[],isEditing:!1,editingId:null,isSubmitting:!1,loading:!1,previewPhoto:null,currentPhotoFile:null}},async mounted(){if(this.projetId=this.$route.params.projetId,console.log("Projet ID rcupr:",this.projetId),!this.projetId&&(console.error("ID du projet non trouv dans les paramtres de route"),console.log("Params disponibles:",this.$route.params),this.projetId=this.$route.query.projetId,!this.projetId)){alert("Erreur: ID du projet manquant"),this.$router.go(-1);return}await this.loadProjetInfo(),await this.loadComediens()},methods:{async loadProjetInfo(){try{const e={}.VITE_API_URL;console.log("Chargement des infos du projet ID:",this.projetId);const t=await C.get(`${e}/api/projets/${this.projetId}`);this.projetTitre=t.data.titre,console.log("Projet trouv:",this.projetTitre)}catch(e){console.error("Erreur lors du chargement des informations du projet:",e),this.projetTitre="Projet inconnu",e.response&&(console.error("Status:",e.response.status),console.error("Data:",e.response.data))}},async loadComediens(){this.loading=!0;try{console.log("Chargement des comdiens pour le projet ID:",this.projetId);const e=await C.get(`/api/comediens/projet/${this.projetId}`);this.comediens=e.data,console.log("Comdiens chargs:",this.comediens.length)}catch(e){console.error("Erreur lors du chargement des comdiens:",e),e.response&&(console.error("Status:",e.response.status),console.error("Data:",e.response.data)),alert("Erreur lors du chargement des comdiens")}finally{this.loading=!1}},getPhotoUrl(e){return`/api/comediens/photo/${e}`},handlePhotoUpload(e){const t=e.target.files[0];if(t){this.currentPhotoFile=t;const s=new FileReader;s.onload=o=>{this.previewPhoto=o.target.result},s.readAsDataURL(t)}},removePhoto(){this.previewPhoto=null,this.currentPhotoFile=null,this.$refs.photoInput.value=""},addDisponibilite(){this.formData.disponibilites.push({date:"",statut:"DISPONIBLE"})},removeDisponibilite(e){this.formData.disponibilites.splice(e,1)},async submitForm(){var e,t;this.isSubmitting=!0;try{const s=new FormData;s.append("projetId",this.projetId),s.append("nom",this.formData.nom),s.append("age",this.formData.age),s.append("email",this.formData.email),this.currentPhotoFile&&s.append("photo",this.currentPhotoFile),this.formData.disponibilites.length>0&&this.formData.disponibilites.forEach((r,l)=>{r.date&&(s.append("dateDisponibilite",r.date),s.append("statutDisponibilite",r.statut))});let o;this.isEditing?(o=await C.put(`/api/comediens/${this.editingId}`,s,{headers:{"Content-Type":"multipart/form-data"}}),alert("Comdien modifi avec succs")):(o=await C.post("/api/comediens",s,{headers:{"Content-Type":"multipart/form-data"}}),alert("Comdien cr avec succs")),this.resetForm(),await this.loadComediens()}catch(s){console.error("Erreur lors de la sauvegarde:",s),alert("Erreur lors de la sauvegarde: "+(((t=(e=s.response)==null?void 0:e.data)==null?void 0:t.message)||s.message))}finally{this.isSubmitting=!1}},goBack(){this.$router.go(-1)},editComedien(e){this.formData={nom:e.nom,age:e.age,email:e.email,disponibilites:e.disponibilites?[...e.disponibilites]:[]},e.photoPath?this.previewPhoto=this.getPhotoUrl(e.photoPath):this.previewPhoto=null,this.currentPhotoFile=null,this.isEditing=!0,this.editingId=e.id,document.querySelector(".form-container").scrollIntoView({behavior:"smooth"})},async deleteComedien(e){if(confirm("tes-vous sr de vouloir supprimer ce comdien ?"))try{await C.delete(`/api/comediens/${e}`),alert("Comdien supprim avec succs"),await this.loadComediens()}catch(t){console.error("Erreur lors de la suppression:",t),alert("Erreur lors de la suppression")}},resetForm(){this.formData={nom:"",age:null,email:"",photo:null,disponibilites:[]},this.previewPhoto=null,this.currentPhotoFile=null,this.isEditing=!1,this.editingId=null,this.$refs.photoInput.value=""},formatDate(e){return new Date(e).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})},formatDateSimple(e){return new Date(e).toLocaleDateString("fr-FR")},getStatutClass(e){switch(e){case"DISPONIBLE":return"statut-disponible";case"INDISPONIBLE":return"statut-indisponible";case"OCCUPE":return"statut-occupe";default:return""}},getStatutText(e){switch(e){case"DISPONIBLE":return"Disponible";case"INDISPONIBLE":return"Indisponible";case"OCCUPE":return"Occup";default:return e}}}},xI={class:"creation-comedien"},jI={class:"form-header"},kI={class:"form-container"},PI={class:"form-group"},OI=["value"],qI={class:"form-group"},DI={class:"form-group"},TI={class:"form-group"},RI={class:"form-group"},AI={class:"photo-upload"},LI={for:"photo",class:"photo-label"},$I={key:0},MI={key:1},UI={key:0,class:"photo-preview"},NI=["src"],FI={class:"form-group disponibilites-section"},VI={class:"disponibilites-list"},BI={class:"disponibilite-inputs"},HI=["onUpdate:modelValue"],zI=["onUpdate:modelValue"],GI=["onClick"],KI={class:"form-actions"},WI=["disabled"],JI={class:"comediens-list"},XI={key:0,class:"loading"},YI={key:1,class:"empty-state"},QI={key:2,class:"comediens-grid"},ZI={class:"comedien-photo"},eC=["src","alt"],tC={key:1,class:"photo-placeholder"},sC={class:"comedien-info"},rC={key:0,class:"disponibilites-display"},oC={class:"dispo-date"},nC={key:1,class:"no-disponibilites"},iC={class:"date-info"},lC={class:"comedien-actions"},aC=["onClick"],uC=["onClick"];function dC(e,t,s,o,r,l){return p(),h("div",xI,[i("div",jI,[i("button",{onClick:t[0]||(t[0]=(...n)=>l.goBack&&l.goBack(...n)),class:"back-btn"},[...t[9]||(t[9]=[i("i",{class:"fas fa-sign icon"},null,-1),D(" Retour ",-1)])]),t[10]||(t[10]=i("h2",null,"Crer votre comdien",-1))]),i("div",kI,[i("h3",null,v(r.isEditing?"Modifier":"Crer")+" un comdien",1),i("div",PI,[t[11]||(t[11]=i("label",{for:"projet"},"Projet associ",-1)),i("input",{type:"text",id:"projet",value:r.projetTitre,disabled:"",class:"disabled-input",placeholder:"Chargement du projet..."},null,8,OI)]),i("form",{onSubmit:t[8]||(t[8]=Fe((...n)=>l.submitForm&&l.submitForm(...n),["prevent"])),class:"comedien-form",enctype:"multipart/form-data"},[i("div",qI,[t[12]||(t[12]=i("label",{for:"nom"},"Nom du comdien *",-1)),T(i("input",{type:"text",id:"nom","onUpdate:modelValue":t[1]||(t[1]=n=>r.formData.nom=n),required:"",placeholder:"Entrez le nom du comdien"},null,512),[[Z,r.formData.nom]])]),i("div",DI,[t[13]||(t[13]=i("label",{for:"age"},"ge",-1)),T(i("input",{type:"number",id:"age","onUpdate:modelValue":t[2]||(t[2]=n=>r.formData.age=n),placeholder:"ge du comdien"},null,512),[[Z,r.formData.age]])]),i("div",TI,[t[14]||(t[14]=i("label",{for:"email"},"Email *",-1)),T(i("input",{type:"email",id:"email","onUpdate:modelValue":t[3]||(t[3]=n=>r.formData.email=n),required:"",placeholder:"email@exemple.com"},null,512),[[Z,r.formData.email]])]),i("div",RI,[t[15]||(t[15]=i("label",{for:"photo"},"Photo",-1)),i("div",AI,[i("input",{type:"file",id:"photo",ref:"photoInput",onChange:t[4]||(t[4]=(...n)=>l.handlePhotoUpload&&l.handlePhotoUpload(...n)),accept:"image/*",class:"photo-input"},null,544),i("label",LI,[r.previewPhoto?(p(),h("span",MI," Changer la photo")):(p(),h("span",$I," Choisir une photo"))]),r.previewPhoto?(p(),h("div",UI,[i("img",{src:r.previewPhoto,alt:"Aperu de la photo",class:"preview-image"},null,8,NI),i("button",{type:"button",onClick:t[5]||(t[5]=(...n)=>l.removePhoto&&l.removePhoto(...n)),class:"remove-photo-btn"},"")])):I("",!0)])]),i("div",FI,[t[17]||(t[17]=i("label",null,"Disponibilits",-1)),i("div",VI,[(p(!0),h(Q,null,te(r.formData.disponibilites,(n,a)=>(p(),h("div",{key:a,class:"disponibilite-item"},[i("div",BI,[T(i("input",{type:"date","onUpdate:modelValue":d=>n.date=d,class:"date-input",placeholder:"Date"},null,8,HI),[[Z,n.date]]),T(i("select",{"onUpdate:modelValue":d=>n.statut=d,class:"statut-select"},[...t[16]||(t[16]=[i("option",{value:"DISPONIBLE"},"Disponible",-1),i("option",{value:"INDISPONIBLE"},"Indisponible",-1),i("option",{value:"OCCUPE"},"Occup",-1)])],8,zI),[[he,n.statut]]),i("button",{type:"button",onClick:d=>l.removeDisponibilite(a),class:"remove-dispo-btn",title:"Supprimer"},"  ",8,GI)])]))),128))]),i("button",{type:"button",onClick:t[6]||(t[6]=(...n)=>l.addDisponibilite&&l.addDisponibilite(...n)),class:"btn-add-dispo"}," + Ajouter une disponibilit ")]),i("div",KI,[i("button",{type:"submit",disabled:r.isSubmitting,class:"btn-primary"},v(r.isEditing?"Modifier":"Crer")+" le comdien ",9,WI),r.isEditing?(p(),h("button",{key:0,type:"button",onClick:t[7]||(t[7]=(...n)=>l.resetForm&&l.resetForm(...n)),class:"btn-secondary"}," Annuler ")):I("",!0)])],32)]),i("div",JI,[i("h3",null,'Liste des comdiens du projet "'+v(r.projetTitre)+'"',1),r.loading?(p(),h("div",XI,"Chargement...")):r.comediens.length===0?(p(),h("div",YI," Aucun comdien cr pour ce projet. ")):(p(),h("div",QI,[(p(!0),h(Q,null,te(r.comediens,n=>(p(),h("div",{key:n.id,class:"comedien-card"},[i("div",ZI,[n.photoPath?(p(),h("img",{key:0,src:l.getPhotoUrl(n.photoPath),alt:n.nom,class:"photo"},null,8,eC)):(p(),h("div",tC,""))]),i("div",sC,[i("h4",null,v(n.nom),1),i("p",null,[t[18]||(t[18]=i("strong",null,"ge:",-1)),D(" "+v(n.age)+" ans",1)]),i("p",null,[t[19]||(t[19]=i("strong",null,"Email:",-1)),D(" "+v(n.email),1)]),n.disponibilites&&n.disponibilites.length>0?(p(),h("div",rC,[t[20]||(t[20]=i("strong",null,"Disponibilits:",-1)),(p(!0),h(Q,null,te(n.disponibilites,a=>(p(),h("div",{key:a.id,class:"dispo-item"},[i("span",oC,v(l.formatDateSimple(a.date)),1),i("span",{class:ut(["dispo-statut",l.getStatutClass(a.statut)])},v(l.getStatutText(a.statut)),3)]))),128))])):(p(),h("p",nC,"Aucune disponibilit dfinie")),i("p",iC," Cr le: "+v(l.formatDate(n.creeLe)),1)]),i("div",lC,[i("button",{onClick:a=>l.editComedien(n),class:"btn-edit",title:"Modifier"},"  ",8,aC),i("button",{onClick:a=>l.deleteComedien(n.id),class:"btn-delete",title:"Supprimer"},"  ",8,uC)])]))),128))]))])])}const cC=Ke(CI,[["render",dC],["__scopeId","data-v-84434dd7"]]);const fC={name:"CreationPersonnage",data(){return{formData:{nom:"",description:"",projetId:"",comedienId:null},projets:[],comediens:[],personnages:[],isEditing:!1,editingId:null,isSubmitting:!1,loading:!1,projetSearch:"",comedienSearch:"",showProjetSuggestions:!1,showComedienSuggestions:!1,filteredProjets:[],filteredComediens:[],currentProjetId:null}},async mounted(){await this.loadProjets(),await this.loadComediens();const e=this.$route.params.projetId||this.$route.params.id||this.$route.query.projetId;e?(this.currentProjetId=e,this.formData.projetId=e,this.fetchProjetDetails(e)):console.warn("ID du projet non spcifi ; utilisation de la recherche manuelle."),await this.loadPersonnages(),this.filteredProjets=[...this.projets],this.filteredComediens=[...this.comediens]},watch:{projets:{handler(e){this.filteredProjets=[...e]},deep:!0},comediens:{handler(e){this.filteredComediens=[...e]},deep:!0}},methods:{async fetchProjetDetails(e){try{const s=(await C.get(`/api/projets/${e}`)).data;this.projetSearch=s.titre}catch(t){console.error("Erreur lors du chargement du projet:",t)}},selectProjet(e){this.formData.projetId||(this.formData.projetId=e.id,this.projetSearch=e.titre,this.showProjetSuggestions=!1)},async loadProjets(){try{const e=await C.get("/api/projets");this.projets=e.data}catch(e){console.error("Erreur lors du chargement des projets:",e),alert("Erreur lors du chargement des projets")}},async loadComediens(){try{const e=await C.get("/api/comediens");this.comediens=e.data}catch(e){console.error("Erreur lors du chargement des comdiens:",e),alert("Erreur lors du chargement des comdiens")}},async loadPersonnages(){this.loading=!0;try{let e="/api/personnages";this.currentProjetId&&(e+=`?projetId=${this.currentProjetId}`);const t=await C.get(e);this.personnages=t.data}catch(e){console.error("Erreur lors du chargement des personnages:",e),alert("Erreur lors du chargement des personnages")}finally{this.loading=!1}},async submitForm(){var e,t;this.isSubmitting=!0;try{this.isEditing?(await C.put(`/api/personnages/${this.editingId}`,this.formData),alert("Personnage modifi avec succs")):(await C.post("/api/personnages",this.formData),alert("Personnage cr avec succs")),this.resetForm(),await this.loadPersonnages()}catch(s){console.error("Erreur lors de la sauvegarde:",s),alert("Erreur lors de la sauvegarde: "+(((t=(e=s.response)==null?void 0:e.data)==null?void 0:t.message)||s.message))}finally{this.isSubmitting=!1}},editPersonnage(e){this.formData={nom:e.nom,description:e.description||"",projetId:e.projetId,comedienId:e.comedienId||null},this.isEditing=!0,this.editingId=e.id,document.querySelector(".form-container").scrollIntoView({behavior:"smooth"})},async deletePersonnage(e){if(confirm("tes-vous sr de vouloir supprimer ce personnage ?"))try{await C.delete(`/api/personnages/${e}`),alert("Personnage supprim avec succs"),await this.loadPersonnages()}catch(t){console.error("Erreur lors de la suppression:",t),alert("Erreur lors de la suppression")}},resetForm(){this.formData={nom:"",description:"",projetId:this.currentProjetId||"",comedienId:null},this.projetSearch=this.currentProjetId?this.getProjetName(this.currentProjetId):"",this.comedienSearch="",this.isEditing=!1,this.editingId=null,this.filteredProjets=[...this.projets],this.filteredComediens=[...this.comediens]},formatDate(e){return new Date(e).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})},goBack(){this.$router.go(-1)},filterProjets(){const e=this.projetSearch.toLowerCase();if(!e){this.filteredProjets=[...this.projets];return}this.filteredProjets=this.projets.filter(t=>t.titre.toLowerCase().includes(e))},filterComediens(){const e=this.comedienSearch.toLowerCase();if(!e){this.filteredComediens=[...this.comediens];return}this.filteredComediens=this.comediens.filter(t=>t.nom.toLowerCase().includes(e)||t.age.toString().includes(e))},selectComedien(e){this.formData.comedienId=e.id,this.comedienSearch=`${e.nom} (${e.age} ans)`,this.showComedienSuggestions=!1},clearComedien(){this.formData.comedienId=null,this.comedienSearch="",this.showComedienSuggestions=!1},hideProjetSuggestions(){setTimeout(()=>{this.showProjetSuggestions=!1},200)},hideComedienSuggestions(){setTimeout(()=>{this.showComedienSuggestions=!1},200)},getProjetName(e){const t=this.projets.find(s=>s.id===e);return t?t.titre:""},getComedienName(e){if(!e)return"";const t=this.comediens.find(s=>s.id===e);return t?`${t.nom} (${t.age} ans)`:""}}},pC={class:"creation-personnage"},hC={class:"form-header"},mC={class:"form-container"},gC={class:"form-group"},vC={class:"form-group"},yC={class:"combobox-container"},bC=["disabled","placeholder"],SC={key:0,class:"suggestions-list"},EC=["onMousedown"],_C={key:1,class:"suggestions-list"},wC={class:"form-group"},IC={class:"form-group"},CC={class:"combobox-container"},xC=["placeholder"],jC={key:1,class:"suggestions-list"},kC=["onMousedown"],PC={key:2,class:"suggestions-list"},OC={class:"form-actions"},qC=["disabled"];function DC(e,t,s,o,r,l){return p(),h("div",pC,[t[20]||(t[20]=i("h2",null,"Cration et Gestion des Personnages",-1)),i("div",hC,[i("button",{onClick:t[0]||(t[0]=(...n)=>l.goBack&&l.goBack(...n)),class:"back-btn"}," Retour")]),i("div",mC,[i("h3",null,v(r.isEditing?"Modifier":"Crer")+" un personnage",1),i("form",{onSubmit:t[13]||(t[13]=Fe((...n)=>l.submitForm&&l.submitForm(...n),["prevent"])),class:"personnage-form"},[i("div",gC,[t[14]||(t[14]=i("label",{for:"nom"},"Nom du personnage *",-1)),T(i("input",{type:"text",id:"nom","onUpdate:modelValue":t[1]||(t[1]=n=>r.formData.nom=n),required:"",placeholder:"Entrez le nom du personnage"},null,512),[[Z,r.formData.nom]])]),i("div",vC,[t[16]||(t[16]=i("label",{for:"projet"},"Projet",-1)),i("div",yC,[T(i("input",{type:"text",id:"projet","onUpdate:modelValue":t[2]||(t[2]=n=>r.projetSearch=n),disabled:!!r.formData.projetId,onFocus:t[3]||(t[3]=n=>r.showProjetSuggestions=!0),onBlur:t[4]||(t[4]=(...n)=>l.hideProjetSuggestions&&l.hideProjetSuggestions(...n)),onInput:t[5]||(t[5]=(...n)=>l.filterProjets&&l.filterProjets(...n)),placeholder:r.formData.projetId?l.getProjetName(r.formData.projetId):"Rechercher un projet...",required:"",class:"combobox-input"},null,40,bC),[[Z,r.projetSearch]]),r.showProjetSuggestions&&r.filteredProjets.length?(p(),h("ul",SC,[(p(!0),h(Q,null,te(r.filteredProjets,n=>(p(),h("li",{key:n.id,onMousedown:a=>l.selectProjet(n),class:"suggestion-item"},v(n.titre),41,EC))),128))])):I("",!0),r.showProjetSuggestions&&r.filteredProjets.length===0?(p(),h("ul",_C,[...t[15]||(t[15]=[i("li",{class:"suggestion-item no-results"},"Aucun projet trouv",-1)])])):I("",!0)])]),i("div",wC,[t[17]||(t[17]=i("label",{for:"description"},"Description",-1)),T(i("textarea",{id:"description","onUpdate:modelValue":t[6]||(t[6]=n=>r.formData.description=n),rows:"4",placeholder:"Dcrivez le personnage..."},null,512),[[Z,r.formData.description]])]),i("div",IC,[t[19]||(t[19]=i("label",{for:"comedien"},"Comdien ",-1)),i("div",CC,[T(i("input",{type:"text",id:"comedien","onUpdate:modelValue":t[7]||(t[7]=n=>r.comedienSearch=n),onFocus:t[8]||(t[8]=n=>r.showComedienSuggestions=!0),onBlur:t[9]||(t[9]=(...n)=>l.hideComedienSuggestions&&l.hideComedienSuggestions(...n)),onInput:t[10]||(t[10]=(...n)=>l.filterComediens&&l.filterComediens(...n)),placeholder:r.formData.comedienId?l.getComedienName(r.formData.comedienId):"Rechercher un comdien (optionnel)...",class:"combobox-input"},null,40,xC),[[Z,r.comedienSearch]]),r.formData.comedienId?(p(),h("button",{key:0,type:"button",onClick:t[11]||(t[11]=(...n)=>l.clearComedien&&l.clearComedien(...n)),class:"clear-button",title:"Supprimer le comdien"},"  ")):I("",!0),r.showComedienSuggestions&&r.filteredComediens.length?(p(),h("ul",jC,[(p(!0),h(Q,null,te(r.filteredComediens,n=>(p(),h("li",{key:n.id,onMousedown:a=>l.selectComedien(n),class:"suggestion-item"},v(n.nom)+" ("+v(n.age)+" ans) ",41,kC))),128))])):I("",!0),r.showComedienSuggestions&&r.filteredComediens.length===0?(p(),h("ul",PC,[...t[18]||(t[18]=[i("li",{class:"suggestion-item no-results"},"Aucun comdien trouv",-1)])])):I("",!0)])]),i("div",OC,[i("button",{type:"submit",disabled:r.isSubmitting,class:"btn-primary"},v(r.isEditing?"Modifier":"Crer")+" le personnage ",9,qC),r.isEditing?(p(),h("button",{key:0,type:"button",onClick:t[12]||(t[12]=(...n)=>l.resetForm&&l.resetForm(...n)),class:"btn-secondary"}," Annuler ")):I("",!0)])],32)])])}const TC=Ke(fC,[["render",DC],["__scopeId","data-v-164436bf"]]),RC=[{path:"/",name:"connexion",component:Zm},{path:"/accueil",name:"accueil",component:Sg},{path:"/home",name:"home",component:Ig},{path:"/utilisateurs",name:"utilisateurs",component:Og},{path:"/admin",name:"admin",component:Yg},{path:"/scenariste",name:"scenariste",component:Jv},{path:"/statistiques",name:"statistiques",component:q1},{path:"/add-project",name:"add-project",component:X1},{path:"/projet/:id",name:"projet-scenariste",component:Wy},{path:"/projet/:id/add-episode",name:"add-episode",component:gb},{path:"/episode/:id/detail-episode",name:"episode-details",component:()=>_t(()=>import("./EpisodeScenaristeDetails-537182ba.js"),["assets/EpisodeScenaristeDetails-537182ba.js","assets/EpisodeScenaristeDetails-864c1f10.css"])},{path:"/episode/:id/add-sequence",name:"add-sequence",component:()=>_t(()=>import("./AddSequence-f3d413bf.js"),["assets/AddSequence-f3d413bf.js","assets/AddSequence-6bf86ac7.css"])},{path:"/sequence/:sequenceId/add-scene",name:"add-scene",component:()=>_t(()=>import("./AddScene-e016a148.js"),["assets/AddScene-e016a148.js","assets/AddScene-a92bc24b.css"])},{path:"/sequence/:id/detail-sequence",name:"sequence-details",component:()=>_t(()=>import("./SequenceScenaristeDetails-9354f998.js"),["assets/SequenceScenaristeDetails-9354f998.js","assets/SequenceScenaristeDetails-9d967f47.css"])},{path:"/creation-comedien",name:"creation-comedien",component:()=>_t(()=>import("./CreationComedien-c1784135.js"),["assets/CreationComedien-c1784135.js","assets/CreationComedien-e784bc4a.css"])},{path:"/scene-comedien",name:"scene-comedien",component:()=>_t(()=>import("./SceneComedien-4fad2b9a.js"),["assets/SceneComedien-4fad2b9a.js","assets/SceneComedien-6d8437e0.css"])},{path:"/creation-personnage",name:"CreationPersonnage",component:()=>_t(()=>import("./CreationPersonnage-a96a6ecf.js"),["assets/CreationPersonnage-a96a6ecf.js","assets/CreationPersonnage-09d899f3.css"])},{path:"/creation-dialogue",name:"creation-dialogue",component:()=>_t(()=>import("./CreationDialogue-11a6d49f.js"),["assets/CreationDialogue-11a6d49f.js","assets/CreationDialogue-6542ea59.css"])},{path:"/creation-lieu",name:"CreationLieu",component:()=>_t(()=>import("./CreationLieu-345df3ef.js"),["assets/CreationLieu-345df3ef.js","assets/CreationLieu-0de9dd49.css"])},{path:"/creation-plateau",name:"CreationPlateau",component:()=>_t(()=>import("./CreationPlateau-d5415b72.js"),["assets/CreationPlateau-d5415b72.js","assets/CreationPlateau-aa6bae9b.css"])},{path:"/projet/:idProjet/ecran-travail",name:"EcranTravail",component:ZE,props:!0},{path:"/projet/:idProjet/ecran-travail-viewers",name:"Ecran_travail_viewers",component:L_,props:!0},{path:"/sequence/:sequenceId/add-scene-ecran-travail",name:"Add_scene_ecran_travail",component:tw,props:!0},{path:"/episode/:episodeId/add-sequence-ecran-travail",name:"Add_sequence_ecran_travail",component:Sw,props:!0},{path:"/scene/:sceneId/add-dialogue-scene-ecran-travail",name:"Add_dialogue_scene",component:$w,props:!0},{path:"/projet/:projetId/add-lieu-scene-ecran-travail",name:"Add_lieu_scene_ecran_travail",component:I0,props:!0},{path:"/projet/:projetId/add-plateau-scene",name:"Add_plateau_scene",component:sI,props:!0},{path:"/projet/:projetId/add-episode-ecran-travail",name:"Add_episode_ecran_travail",component:II,props:!0},{path:"/projet/:projetId/add-comedien-ecran-travail",name:"Add_comedien_ecran_travail",component:cC,props:!0},{path:"/projet/:projetId/add-personnage-ecran-travail",name:"Add_personnage_ecran_travail",component:TC,props:!0},{path:"/gestion-equipe",name:"gestion-equipe",component:()=>_t(()=>import("./GestionEquipe-3be1acc3.js"),["assets/GestionEquipe-3be1acc3.js","assets/GestionEquipe-71af18a9.css"])}],AC=nh({history:Rp(),routes:RC}),An=gf(tp);An.use(bf());An.use(AC);An.mount("#app");export{su as A,Q as F,Ke as _,C as a,i as b,h as c,D as d,I as e,he as f,ns as g,Fe as h,ut as n,p as o,te as r,v as t,Z as v,T as w};
